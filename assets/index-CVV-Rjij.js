(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function UA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vm={exports:{}},jl={};var Gv;function LA(){if(Gv)return jl;Gv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=t,jl.jsx=n,jl.jsxs=n,jl}var Yv;function zA(){return Yv||(Yv=1,vm.exports=LA()),vm.exports}var Z=zA(),Em={exports:{}},St={};var Qv;function BA(){if(Qv)return St;Qv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,F={};function nt(M,W,at){this.props=M,this.context=W,this.refs=F,this.updater=at||G}nt.prototype.isReactComponent={},nt.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},nt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function et(){}et.prototype=nt.prototype;function it(M,W,at){this.props=M,this.context=W,this.refs=F,this.updater=at||G}var ft=it.prototype=new et;ft.constructor=it,Q(ft,nt.prototype),ft.isPureReactComponent=!0;var wt=Array.isArray;function Tt(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(M,W,at){var ut=at.ref;return{$$typeof:i,type:M,key:W,ref:ut!==void 0?ut:null,props:at}}function x(M,W){return C(M.type,W,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function P(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return W[at]})}var I=/\/+/g;function se(M,W){return typeof M=="object"&&M!==null&&M.key!=null?P(""+M.key):W.toString(36)}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Tt,Tt):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,W,at,ut,vt){var Ct=typeof M;(Ct==="undefined"||Ct==="boolean")&&(M=null);var Ut=!1;if(M===null)Ut=!0;else switch(Ct){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(M.$$typeof){case i:case t:Ut=!0;break;case E:return Ut=M._init,K(Ut(M._payload),W,at,ut,vt)}}if(Ut)return vt=vt(M),Ut=ut===""?"."+se(M,0):ut,wt(vt)?(at="",Ut!=null&&(at=Ut.replace(I,"$&/")+"/"),K(vt,W,at,"",function(Ts){return Ts})):vt!=null&&(N(vt)&&(vt=x(vt,at+(vt.key==null||M&&M.key===vt.key?"":(""+vt.key).replace(I,"$&/")+"/")+Ut)),W.push(vt)),1;Ut=0;var ke=ut===""?".":ut+":";if(wt(M))for(var ae=0;ae<M.length;ae++)ut=M[ae],Ct=ke+se(ut,ae),Ut+=K(ut,W,at,Ct,vt);else if(ae=k(M),typeof ae=="function")for(M=ae.call(M),ae=0;!(ut=M.next()).done;)ut=ut.value,Ct=ke+se(ut,ae++),Ut+=K(ut,W,at,Ct,vt);else if(Ct==="object"){if(typeof M.then=="function")return K(Ve(M),W,at,ut,vt);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function st(M,W,at){if(M==null)return M;var ut=[],vt=0;return K(M,ut,"","",function(Ct){return W.call(at,Ct,vt++)}),ut}function pt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var zt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Gt={map:st,forEach:function(M,W,at){st(M,function(){W.apply(this,arguments)},at)},count:function(M){var W=0;return st(M,function(){W++}),W},toArray:function(M){return st(M,function(W){return W})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return St.Activity=T,St.Children=Gt,St.Component=nt,St.Fragment=n,St.Profiler=o,St.PureComponent=it,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,St.__COMPILER_RUNTIME={__proto__:null,c:function(M){return R.H.useMemoCache(M)}},St.cache=function(M){return function(){return M.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(M,W,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=Q({},M.props),vt=M.key;if(W!=null)for(Ct in W.key!==void 0&&(vt=""+W.key),W)!A.call(W,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&W.ref===void 0||(ut[Ct]=W[Ct]);var Ct=arguments.length-2;if(Ct===1)ut.children=at;else if(1<Ct){for(var Ut=Array(Ct),ke=0;ke<Ct;ke++)Ut[ke]=arguments[ke+2];ut.children=Ut}return C(M.type,vt,ut)},St.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},St.createElement=function(M,W,at){var ut,vt={},Ct=null;if(W!=null)for(ut in W.key!==void 0&&(Ct=""+W.key),W)A.call(W,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(vt[ut]=W[ut]);var Ut=arguments.length-2;if(Ut===1)vt.children=at;else if(1<Ut){for(var ke=Array(Ut),ae=0;ae<Ut;ae++)ke[ae]=arguments[ae+2];vt.children=ke}if(M&&M.defaultProps)for(ut in Ut=M.defaultProps,Ut)vt[ut]===void 0&&(vt[ut]=Ut[ut]);return C(M,Ct,vt)},St.createRef=function(){return{current:null}},St.forwardRef=function(M){return{$$typeof:m,render:M}},St.isValidElement=N,St.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:pt}},St.memo=function(M,W){return{$$typeof:y,type:M,compare:W===void 0?null:W}},St.startTransition=function(M){var W=R.T,at={};R.T=at;try{var ut=M(),vt=R.S;vt!==null&&vt(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Tt,zt)}catch(Ct){zt(Ct)}finally{W!==null&&at.types!==null&&(W.types=at.types),R.T=W}},St.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},St.use=function(M){return R.H.use(M)},St.useActionState=function(M,W,at){return R.H.useActionState(M,W,at)},St.useCallback=function(M,W){return R.H.useCallback(M,W)},St.useContext=function(M){return R.H.useContext(M)},St.useDebugValue=function(){},St.useDeferredValue=function(M,W){return R.H.useDeferredValue(M,W)},St.useEffect=function(M,W){return R.H.useEffect(M,W)},St.useEffectEvent=function(M){return R.H.useEffectEvent(M)},St.useId=function(){return R.H.useId()},St.useImperativeHandle=function(M,W,at){return R.H.useImperativeHandle(M,W,at)},St.useInsertionEffect=function(M,W){return R.H.useInsertionEffect(M,W)},St.useLayoutEffect=function(M,W){return R.H.useLayoutEffect(M,W)},St.useMemo=function(M,W){return R.H.useMemo(M,W)},St.useOptimistic=function(M,W){return R.H.useOptimistic(M,W)},St.useReducer=function(M,W,at){return R.H.useReducer(M,W,at)},St.useRef=function(M){return R.H.useRef(M)},St.useState=function(M){return R.H.useState(M)},St.useSyncExternalStore=function(M,W,at){return R.H.useSyncExternalStore(M,W,at)},St.useTransition=function(){return R.H.useTransition()},St.version="19.2.4",St}var Kv;function _p(){return Kv||(Kv=1,Em.exports=BA()),Em.exports}var H=_p();const jA=UA(H);var Tm={exports:{}},ql={},Sm={exports:{}},bm={};var Xv;function qA(){return Xv||(Xv=1,(function(i){function t(K,st){var pt=K.length;K.push(st);t:for(;0<pt;){var zt=pt-1>>>1,Gt=K[zt];if(0<o(Gt,st))K[zt]=st,K[pt]=Gt,pt=zt;else break t}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var st=K[0],pt=K.pop();if(pt!==st){K[0]=pt;t:for(var zt=0,Gt=K.length,M=Gt>>>1;zt<M;){var W=2*(zt+1)-1,at=K[W],ut=W+1,vt=K[ut];if(0>o(at,pt))ut<Gt&&0>o(vt,at)?(K[zt]=vt,K[ut]=pt,zt=ut):(K[zt]=at,K[W]=pt,zt=W);else if(ut<Gt&&0>o(vt,pt))K[zt]=vt,K[ut]=pt,zt=ut;else break t}}return st}function o(K,st){var pt=K.sortIndex-st.sortIndex;return pt!==0?pt:K.id-st.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],E=1,T=null,w=3,k=!1,G=!1,Q=!1,F=!1,nt=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ft(K){for(var st=n(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=K)s(y),st.sortIndex=st.expirationTime,t(p,st);else break;st=n(y)}}function wt(K){if(Q=!1,ft(K),!G)if(n(p)!==null)G=!0,Tt||(Tt=!0,P());else{var st=n(y);st!==null&&Ve(wt,st.startTime-K)}}var Tt=!1,R=-1,A=5,C=-1;function x(){return F?!0:!(i.unstable_now()-C<A)}function N(){if(F=!1,Tt){var K=i.unstable_now();C=K;var st=!0;try{t:{G=!1,Q&&(Q=!1,et(R),R=-1),k=!0;var pt=w;try{e:{for(ft(K),T=n(p);T!==null&&!(T.expirationTime>K&&x());){var zt=T.callback;if(typeof zt=="function"){T.callback=null,w=T.priorityLevel;var Gt=zt(T.expirationTime<=K);if(K=i.unstable_now(),typeof Gt=="function"){T.callback=Gt,ft(K),st=!0;break e}T===n(p)&&s(p),ft(K)}else s(p);T=n(p)}if(T!==null)st=!0;else{var M=n(y);M!==null&&Ve(wt,M.startTime-K),st=!1}}break t}finally{T=null,w=pt,k=!1}st=void 0}}finally{st?P():Tt=!1}}}var P;if(typeof it=="function")P=function(){it(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,se=I.port2;I.port1.onmessage=N,P=function(){se.postMessage(null)}}else P=function(){nt(N,0)};function Ve(K,st){R=nt(function(){K(i.unstable_now())},st)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(K){switch(w){case 1:case 2:case 3:var st=3;break;default:st=w}var pt=w;w=st;try{return K()}finally{w=pt}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(K,st){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var pt=w;w=K;try{return st()}finally{w=pt}},i.unstable_scheduleCallback=function(K,st,pt){var zt=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?zt+pt:zt):pt=zt,K){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=pt+Gt,K={id:E++,callback:st,priorityLevel:K,startTime:pt,expirationTime:Gt,sortIndex:-1},pt>zt?(K.sortIndex=pt,t(y,K),n(p)===null&&K===n(y)&&(Q?(et(R),R=-1):Q=!0,Ve(wt,pt-zt))):(K.sortIndex=Gt,t(p,K),G||k||(G=!0,Tt||(Tt=!0,P()))),K},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(K){var st=w;return function(){var pt=w;w=st;try{return K.apply(this,arguments)}finally{w=pt}}}})(bm)),bm}var $v;function HA(){return $v||($v=1,Sm.exports=qA()),Sm.exports}var wm={exports:{}},Je={};var Wv;function FA(){if(Wv)return Je;Wv=1;var i=_p();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:y,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Je.flushSync=function(p){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=E,s.d.f()}},Je.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Je.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Je.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Je.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,T=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Je.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Je.requestFormReset=function(p){s.d.r(p)},Je.unstable_batchedUpdates=function(p,y){return p(y)},Je.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},Je.useFormStatus=function(){return h.H.useHostTransitionStatus()},Je.version="19.2.4",Je}var Jv;function GA(){if(Jv)return wm.exports;Jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wm.exports=FA(),wm.exports}var Zv;function YA(){if(Zv)return ql;Zv=1;var i=HA(),t=_p(),n=GA();function s(e){var r="https://react.dev/errors/"+e;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var r=e,a=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(a=r.return),e=r.return;while(e)}return r.tag===3?a:null}function h(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function m(e){if(e.tag===31){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var r=e.alternate;if(!r){if(r=u(e),r===null)throw Error(s(188));return r!==e?null:e}for(var a=e,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:r}function E(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e;for(e=e.child;e!==null;){if(r=E(e),r!==null)return r;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),wt=Symbol.for("react.suspense"),Tt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case nt:return"Profiler";case F:return"StrictMode";case wt:return"Suspense";case Tt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case it:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case ft:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return r=e.displayName||null,r!==null?r:se(e.type)||"Memo";case A:r=e._payload,e=e._init;try{return se(e(r))}catch{}}return null}var Ve=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},zt=[],Gt=-1;function M(e){return{current:e}}function W(e){0>Gt||(e.current=zt[Gt],zt[Gt]=null,Gt--)}function at(e,r){Gt++,zt[Gt]=e.current,e.current=r}var ut=M(null),vt=M(null),Ct=M(null),Ut=M(null);function ke(e,r){switch(at(Ct,r),at(vt,e),at(ut,null),r.nodeType){case 9:case 11:e=(e=r.documentElement)&&(e=e.namespaceURI)?mv(e):0;break;default:if(e=r.tagName,r=r.namespaceURI)r=mv(r),e=pv(r,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}W(ut),at(ut,e)}function ae(){W(ut),W(vt),W(Ct)}function Ts(e){e.memoizedState!==null&&at(Ut,e);var r=ut.current,a=pv(r,e.type);r!==a&&(at(vt,e),at(ut,a))}function ga(e){vt.current===e&&(W(ut),W(vt)),Ut.current===e&&(W(Ut),Ul._currentValue=pt)}var ya,_a;function oi(e){if(ya===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ya=r&&r[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+e+_a}var Uo=!1;function Ss(e,r){if(!e||Uo)return"";Uo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),z=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===z.length)for(l=D.length-1,f=z.length-1;1<=l&&0<=f&&D[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==z[f]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Uo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oi(a):""}function Lo(e,r){switch(e.tag){case 26:case 27:case 5:return oi(e.type);case 16:return oi("Lazy");case 13:return e.child!==r&&r!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return Ss(e.type,!1);case 11:return Ss(e.type.render,!1);case 1:return Ss(e.type,!0);case 31:return oi("Activity");default:return""}}function zo(e){try{var r="",a=null;do r+=Lo(e,a),a=e,e=e.return;while(e);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Te=Object.prototype.hasOwnProperty,Pe=i.unstable_scheduleCallback,_r=i.unstable_cancelCallback,Tf=i.unstable_shouldYield,Du=i.unstable_requestPaint,rn=i.unstable_now,bs=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,jo=i.unstable_UserBlockingPriority,vr=i.unstable_NormalPriority,Sf=i.unstable_LowPriority,Ou=i.unstable_IdlePriority,Nu=i.log,Mu=i.unstable_setDisableYieldValue,Gn=null,He=null;function In(e){if(typeof Nu=="function"&&Mu(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Gn,e)}catch{}}var pe=Math.clz32?Math.clz32:Vu,xu=Math.log,va=Math.LN2;function Vu(e){return e>>>=0,e===0?32:31-(xu(e)/va|0)|0}var li=256,ws=262144,Se=4194304;function ui(e){var r=e&42;if(r!==0)return r;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,r,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=ui(l):(_&=S,_!==0?f=ui(_):a||(a=S&~e,a!==0&&(f=ui(a))))):(S=l&~d,S!==0?f=ui(S):_!==0?f=ui(_):a||(a=l&~e,a!==0&&(f=ui(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Yn(e,r){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&r)===0}function bf(e,r){switch(e){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ku(){var e=Se;return Se<<=1,(Se&62914560)===0&&(Se=4194304),e}function hi(e){for(var r=[],a=0;31>a;a++)r.push(e);return r}function As(e,r){e.pendingLanes|=r,r!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wf(e,r,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-pe(a),$=1<<Y;S[Y]=0,D[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var q=B[Y];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&Rs(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~r))}function Rs(e,r,a){e.pendingLanes|=r,e.suspendedLanes&=~r;var l=31-pe(r);e.entangledLanes|=r,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function qo(e,r){var a=e.entangledLanes|=r;for(e=e.entanglements;a;){var l=31-pe(a),f=1<<l;f&r|e[l]&r&&(e[l]|=r),a&=~f}}function Ho(e,r){var a=r&-r;return a=(a&42)!==0?1:Cs(a),(a&(e.suspendedLanes|r))!==0?0:a}function Cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pu(){var e=st.p;return e!==0?e:(e=window.event,e===void 0?32:Lv(e.type))}function Qn(e,r){var a=st.p;try{return st.p=e,r()}finally{st.p=a}}var Kn=Math.random().toString(36).slice(2),be="__reactFiber$"+Kn,ze="__reactProps$"+Kn,fi="__reactContainer$"+Kn,Ea="__reactEvents$"+Kn,Af="__reactListeners$"+Kn,Uu="__reactHandles$"+Kn,Lu="__reactResources$"+Kn,di="__reactMarker$"+Kn;function Ta(e){delete e[be],delete e[ze],delete e[Ea],delete e[Af],delete e[Uu]}function mi(e){var r=e[be];if(r)return r;for(var a=e.parentNode;a;){if(r=a[fi]||a[be]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(e=Sv(e);e!==null;){if(a=e[be])return a;e=Sv(e)}return r}e=a,a=e.parentNode}return null}function Dn(e){if(e=e[be]||e[fi]){var r=e.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return e}return null}function yn(e){var r=e.tag;if(r===5||r===26||r===27||r===6)return e.stateNode;throw Error(s(33))}function pi(e){var r=e[Lu];return r||(r=e[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function we(e){e[di]=!0}var Fo=new Set,Go={};function gi(e,r){yi(e,r),yi(e+"Capture",r)}function yi(e,r){for(Go[e]=r,e=0;e<r.length;e++)Fo.add(r[e])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Ko={};function zu(e){return Te.call(Ko,e)?!0:Te.call(Qo,e)?!1:Yo.test(e)?Ko[e]=!0:(Qo[e]=!0,!1)}function Sa(e,r,a){if(zu(r))if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(r);return}}e.setAttribute(r,""+a)}}function _n(e,r,a){if(a===null)e.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttribute(r,""+a)}}function Ae(e,r,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(r,a,""+l)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Er(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xo(e,r,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,r);if(!e.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Yt(e){if(!e._valueTracker){var r=Er(e)?"checked":"value";e._valueTracker=Xo(e,r,""+e[r])}}function Is(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return e&&(l=Er(e)?e.checked?"true":"false":e.value),e=l,e!==a?(r.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ds=/[\n"\\]/g;function ln(e){return e.replace(Ds,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function ba(e,r,a,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),r!=null?_==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+Be(r)):e.value!==""+Be(r)&&(e.value=""+Be(r)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),r!=null?$o(e,_,Be(r)):a!=null?$o(e,_,Be(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Be(S):e.removeAttribute("name")}function Bu(e,r,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Yt(e);return}a=a!=null?""+Be(a):"",r=r!=null?""+Be(r):a,S||r===e.value||(e.value=r),e.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function $o(e,r,a){r==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Tr(e,r,a,l){if(e=e.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=r.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Be(a),r=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}r!==null||e[f].disabled||(r=e[f])}r!==null&&(r.selected=!0)}}function ju(e,r,a){if(r!=null&&(r=""+Be(r),r!==e.value&&(e.value=r),a==null)){e.defaultValue!==r&&(e.defaultValue=r);return}e.defaultValue=a!=null?""+Be(a):""}function Sr(e,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Be(r),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,r){if(r){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=r;return}}e.textContent=r}var qu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="":l?e.setProperty(r,a):typeof a!="number"||a===0||qu.has(r)?r==="float"?e.cssFloat=a:e[r]=(""+a).trim():e[r]=a+"px"}function Jo(e,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Wo(e,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Wo(e,d,r[d])}function wa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(e){return br.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var Zo=null;function On(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wr=null,vi=null;function Os(e){var r=Dn(e);if(r&&(e=r.stateNode)){var a=e[ze]||null;t:switch(e=r.stateNode,r.type){case"input":if(ba(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==e&&l.form===e.form){var f=l[ze]||null;if(!f)throw Error(s(90));ba(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===e.form&&Is(l)}break t;case"textarea":ju(e,a.value,a.defaultValue);break t;case"select":r=a.value,r!=null&&Tr(e,!!a.multiple,r,!1)}}}var Ra=!1;function Ar(e,r,a){if(Ra)return e(r,a);Ra=!0;try{var l=e(r);return l}finally{if(Ra=!1,(wr!==null||vi!==null)&&(Pc(),wr&&(r=wr,e=vi,vi=wr=null,Os(r),e)))for(r=0;r<e.length;r++)Os(e[r])}}function $n(e,r){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Nn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Ns=!1}var Ei=null,tl=null,Ms=null;function el(){if(Ms)return Ms;var e,r=tl,a=r.length,l,f="value"in Ei?Ei.value:Ei.textContent,d=f.length;for(e=0;e<a&&r[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return Ms=f.slice(e,1<l?1-l:void 0)}function xs(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function Wn(){return!1}function Fe(e){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Wn,this.isPropagationStopped=Wn,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),r}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Fe(Fi),Rr=T({},Fi,{view:0,detail:0}),nl=Fe(Rr),Cr,Ca,Si,Ia=T({},Rr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(Cr=e.screenX-Si.screenX,Ca=e.screenY-Si.screenY):Ca=Cr=0,Si=e),Cr)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),il=Fe(Ia),Vs=T({},Ia,{dataTransfer:0}),Fu=Fe(Vs),Gu=T({},Rr,{relatedTarget:0}),ks=Fe(Gu),rl=T({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Fe(rl),Da=T({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qu=Fe(Da),Ku=T({},Fi,{data:0}),bi=Fe(Ku),Xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=Wu[e])?!!r[e]:!1}function Ir(){return Ju}var sn=T({},Rr,{key:function(e){if(e.key){var r=Xu[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zu=Fe(sn),tc=T({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Fe(tc),c=T({},Rr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir}),g=Fe(c),v=T({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Fe(v),U=T({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=Fe(U),rt=T({},Fi,{newState:0,oldState:0}),At=Fe(rt),ge=[9,13,27,32],qt=Nn&&"CompositionEvent"in window,oe=null;Nn&&"documentMode"in document&&(oe=document.documentMode);var Mn=Nn&&"TextEvent"in window&&!oe,wi=Nn&&(!qt||oe&&8<oe&&11>=oe),Jn=" ",Zn=!1;function Ps(e,r){switch(e){case"keyup":return ge.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Na=!1;function ow(e,r){switch(e){case"compositionend":return Oa(r);case"keypress":return r.which!==32?null:(Zn=!0,Jn);case"textInput":return e=r.data,e===Jn&&Zn?null:e;default:return null}}function lw(e,r){if(Na)return e==="compositionend"||!qt&&Ps(e,r)?(e=el(),Ms=tl=Ei=null,Na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return wi&&r.locale!=="ko"?null:r.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!uw[e.type]:r==="textarea"}function Rg(e,r,a,l){wr?vi?vi.push(l):vi=[l]:wr=l,r=Hc(r,"onChange"),0<r.length&&(a=new Ti("onChange","change",null,a,l),e.push({event:a,listeners:r}))}var sl=null,al=null;function cw(e){lv(e,0)}function ec(e){var r=yn(e);if(Is(r))return e}function Cg(e,r){if(e==="change")return r}var Ig=!1;if(Nn){var Rf;if(Nn){var Cf="oninput"in document;if(!Cf){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Cf=typeof Dg.oninput=="function"}Rf=Cf}else Rf=!1;Ig=Rf&&(!document.documentMode||9<document.documentMode)}function Og(){sl&&(sl.detachEvent("onpropertychange",Ng),al=sl=null)}function Ng(e){if(e.propertyName==="value"&&ec(al)){var r=[];Rg(r,al,e,On(e)),Ar(cw,r)}}function hw(e,r,a){e==="focusin"?(Og(),sl=r,al=a,sl.attachEvent("onpropertychange",Ng)):e==="focusout"&&Og()}function fw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ec(al)}function dw(e,r){if(e==="click")return ec(r)}function mw(e,r){if(e==="input"||e==="change")return ec(r)}function pw(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var vn=typeof Object.is=="function"?Object.is:pw;function ol(e,r){if(vn(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var a=Object.keys(e),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Te.call(r,f)||!vn(e[f],r[f]))return!1}return!0}function Mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xg(e,r){var a=Mg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=r&&l>=r)return{node:a,offset:r-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Mg(a)}}function Vg(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Vg(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function kg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var r=_i(e.document);r instanceof e.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)e=r.contentWindow;else break;r=_i(e.document)}return r}function If(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}var gw=Nn&&"documentMode"in document&&11>=document.documentMode,Ma=null,Df=null,ll=null,Of=!1;function Pg(e,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||Ma==null||Ma!==_i(l)||(l=Ma,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=Hc(Df,"onSelect"),0<l.length&&(r=new Ti("onSelect","select",null,r,a),e.push({event:r,listeners:l}),r.target=Ma)))}function Us(e,r){var a={};return a[e.toLowerCase()]=r.toLowerCase(),a["Webkit"+e]="webkit"+r,a["Moz"+e]="moz"+r,a}var xa={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},Nf={},Ug={};Nn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Ls(e){if(Nf[e])return Nf[e];if(!xa[e])return e;var r=xa[e],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ug)return Nf[e]=r[a];return e}var Lg=Ls("animationend"),zg=Ls("animationiteration"),Bg=Ls("animationstart"),yw=Ls("transitionrun"),_w=Ls("transitionstart"),vw=Ls("transitioncancel"),jg=Ls("transitionend"),qg=new Map,Mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mf.push("scrollEnd");function ti(e,r){qg.set(e,r),gi(r,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],Va=0,xf=0;function ic(){for(var e=Va,r=xf=Va=0;r<e;){var a=xn[r];xn[r++]=null;var l=xn[r];xn[r++]=null;var f=xn[r];xn[r++]=null;var d=xn[r];if(xn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function rc(e,r,a,l){xn[Va++]=e,xn[Va++]=r,xn[Va++]=a,xn[Va++]=l,xf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vf(e,r,a,l){return rc(e,r,a,l),sc(e)}function zs(e,r){return rc(e,null,null,r),sc(e)}function Hg(e,r,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&r!==null&&(f=31-pe(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function sc(e){if(50<Ol)throw Ol=0,Hd=null,Error(s(185));for(var r=e.return;r!==null;)e=r,r=e.return;return e.tag===3?e.stateNode:null}var ka={};function Ew(e,r,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,r,a,l){return new Ew(e,r,a,l)}function kf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,r){var a=e.alternate;return a===null?(a=En(e.tag,r,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=r,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,r=e.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Fg(e,r){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=r,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,r=a.dependencies,e.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e}function ac(e,r,a,l,f,d){var _=0;if(l=e,typeof e=="function")kf(e)&&(_=1);else if(typeof e=="string")_=AA(e,a,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=En(31,a,r,f),e.elementType=C,e.lanes=d,e;case Q:return Bs(a.children,f,d,r);case F:_=8,f|=24;break;case nt:return e=En(12,a,r,f|2),e.elementType=nt,e.lanes=d,e;case wt:return e=En(13,a,r,f),e.elementType=wt,e.lanes=d,e;case Tt:return e=En(19,a,r,f),e.elementType=Tt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case et:_=9;break t;case ft:_=11;break t;case R:_=14;break t;case A:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return r=En(_,a,r,f),r.elementType=e,r.type=l,r.lanes=d,r}function Bs(e,r,a,l){return e=En(7,e,l,r),e.lanes=a,e}function Pf(e,r,a){return e=En(6,e,null,r),e.lanes=a,e}function Gg(e){var r=En(18,null,null,0);return r.stateNode=e,r}function Uf(e,r,a){return r=En(4,e.children!==null?e.children:[],e.key,r),r.lanes=a,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}var Yg=new WeakMap;function Vn(e,r){if(typeof e=="object"&&e!==null){var a=Yg.get(e);return a!==void 0?a:(r={value:e,source:r,stack:zo(r)},Yg.set(e,r),r)}return{value:e,source:r,stack:zo(r)}}var Pa=[],Ua=0,oc=null,ul=0,kn=[],Pn=0,Dr=null,Ai=1,Ri="";function Qi(e,r){Pa[Ua++]=ul,Pa[Ua++]=oc,oc=e,ul=r}function Qg(e,r,a){kn[Pn++]=Ai,kn[Pn++]=Ri,kn[Pn++]=Dr,Dr=e;var l=Ai;e=Ri;var f=32-pe(l)-1;l&=~(1<<f),a+=1;var d=32-pe(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ai=1<<32-pe(r)+f|a<<f|l,Ri=d+e}else Ai=1<<d|a<<f|l,Ri=e}function Lf(e){e.return!==null&&(Qi(e,1),Qg(e,1,0))}function zf(e){for(;e===oc;)oc=Pa[--Ua],Pa[Ua]=null,ul=Pa[--Ua],Pa[Ua]=null;for(;e===Dr;)Dr=kn[--Pn],kn[Pn]=null,Ri=kn[--Pn],kn[Pn]=null,Ai=kn[--Pn],kn[Pn]=null}function Kg(e,r){kn[Pn++]=Ai,kn[Pn++]=Ri,kn[Pn++]=Dr,Ai=r.id,Ri=r.overflow,Dr=e}var Ge=null,ne=null,Pt=!1,Or=null,Un=!1,Bf=Error(s(519));function Nr(e){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(Vn(r,e)),Bf}function Xg(e){var r=e.stateNode,a=e.type,l=e.memoizedProps;switch(r[be]=e,r[ze]=l,a){case"dialog":Ot("cancel",r),Ot("close",r);break;case"iframe":case"object":case"embed":Ot("load",r);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Ot(Ml[a],r);break;case"source":Ot("error",r);break;case"img":case"image":case"link":Ot("error",r),Ot("load",r);break;case"details":Ot("toggle",r);break;case"input":Ot("invalid",r),Bu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ot("invalid",r);break;case"textarea":Ot("invalid",r),Sr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||fv(r.textContent,a)?(l.popover!=null&&(Ot("beforetoggle",r),Ot("toggle",r)),l.onScroll!=null&&Ot("scroll",r),l.onScrollEnd!=null&&Ot("scrollend",r),l.onClick!=null&&(r.onclick=Xn),r=!0):r=!1,r||Nr(e,!0)}function $g(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Ge=Ge.return}}function La(e){if(e!==Ge)return!1;if(!Pt)return $g(e),Pt=!0,!1;var r=e.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||rm(e.type,e.memoizedProps)),a=!a),a&&ne&&Nr(e),$g(e),r===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=Tv(e)}else if(r===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ne=Tv(e)}else r===27?(r=ne,Gr(e.type)?(e=um,um=null,ne=e):ne=r):ne=Ge?zn(e.stateNode.nextSibling):null;return!0}function js(){ne=Ge=null,Pt=!1}function jf(){var e=Or;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Or=null),e}function cl(e){Or===null?Or=[e]:Or.push(e)}var qf=M(null),qs=null,Ki=null;function Mr(e,r,a){at(qf,r._currentValue),r._currentValue=a}function Xi(e){e._currentValue=qf.current,W(qf)}function Hf(e,r,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===a)break;e=e.return}}function Ff(e,r,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var D=0;D<r.length;D++)if(S.context===r[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Hf(d.return,a,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Hf(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function za(e,r,a,l){e=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;vn(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===Ut.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}f=f.return}e!==null&&Ff(r,e,a,l),r.flags|=262144}function lc(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hs(e){qs=e,Ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Wg(qs,e)}function uc(e,r){return qs===null&&Hs(e),Wg(e,r)}function Wg(e,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(e===null)throw Error(s(308));Ki=r,e.dependencies={lanes:0,firstContext:r},e.flags|=524288}else Ki=Ki.next=r;return a}var Tw=typeof AbortController<"u"?AbortController:function(){var e=[],r=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){r.aborted=!0,e.forEach(function(a){return a()})}},Sw=i.unstable_scheduleCallback,bw=i.unstable_NormalPriority,Re={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new Tw,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&Sw(bw,function(){e.controller.abort()})}var fl=null,Yf=0,Ba=0,ja=null;function ww(e,r){if(fl===null){var a=fl=[];Yf=0,Ba=Xd(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yf++,r.then(Jg,Jg),r}function Jg(){if(--Yf===0&&fl!==null){ja!==null&&(ja.status="fulfilled");var e=fl;fl=null,Ba=0,ja=null;for(var r=0;r<e.length;r++)(0,e[r])()}}function Aw(e,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Zg=K.S;K.S=function(e,r){P_=rn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&ww(e,r),Zg!==null&&Zg(e,r)};var Fs=M(null);function Qf(){var e=Fs.current;return e!==null?e:te.pooledCache}function cc(e,r){r===null?at(Fs,Fs.current):at(Fs,r.pool)}function ty(){var e=Qf();return e===null?null:{parent:Re._currentValue,pool:e}}var qa=Error(s(460)),Kf=Error(s(474)),hc=Error(s(542)),fc={then:function(){}};function ey(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ny(e,r,a){switch(a=e[a],a===void 0?e.push(r):a!==r&&(r.then(Xn,Xn),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ry(e),e;default:if(typeof r.status=="string")r.then(Xn,Xn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=r,e.status="pending",e.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw e=r.reason,ry(e),e}throw Ys=r,qa}}function Gs(e){try{var r=e._init;return r(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,qa):a}}var Ys=null;function iy(){if(Ys===null)throw Error(s(459));var e=Ys;return Ys=null,e}function ry(e){if(e===qa||e===hc)throw Error(s(483))}var Ha=null,dl=0;function dc(e){var r=dl;return dl+=1,Ha===null&&(Ha=[]),ny(Ha,e,r)}function ml(e,r){r=r.props.ref,e.ref=r!==void 0?r:null}function mc(e,r){throw r.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)))}function sy(e){function r(V,O){if(e){var L=V.deletions;L===null?(V.deletions=[O],V.flags|=16):L.push(O)}}function a(V,O){if(!e)return null;for(;O!==null;)r(V,O),O=O.sibling;return null}function l(V){for(var O=new Map;V!==null;)V.key!==null?O.set(V.key,V):O.set(V.index,V),V=V.sibling;return O}function f(V,O){return V=Yi(V,O),V.index=0,V.sibling=null,V}function d(V,O,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<O?(V.flags|=67108866,O):L):(V.flags|=67108866,O)):(V.flags|=1048576,O)}function _(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function S(V,O,L,X){return O===null||O.tag!==6?(O=Pf(L,V.mode,X),O.return=V,O):(O=f(O,L),O.return=V,O)}function D(V,O,L,X){var dt=L.type;return dt===Q?Y(V,O,L.props.children,X,L.key):O!==null&&(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Gs(dt)===O.type)?(O=f(O,L.props),ml(O,L),O.return=V,O):(O=ac(L.type,L.key,L.props,null,V.mode,X),ml(O,L),O.return=V,O)}function z(V,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=Uf(L,V.mode,X),O.return=V,O):(O=f(O,L.children||[]),O.return=V,O)}function Y(V,O,L,X,dt){return O===null||O.tag!==7?(O=Bs(L,V.mode,X,dt),O.return=V,O):(O=f(O,L),O.return=V,O)}function $(V,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Pf(""+O,V.mode,L),O.return=V,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return L=ac(O.type,O.key,O.props,null,V.mode,L),ml(L,O),L.return=V,L;case G:return O=Uf(O,V.mode,L),O.return=V,O;case A:return O=Gs(O),$(V,O,L)}if(Ve(O)||P(O))return O=Bs(O,V.mode,L,null),O.return=V,O;if(typeof O.then=="function")return $(V,dc(O),L);if(O.$$typeof===it)return $(V,uc(V,O),L);mc(V,O)}return null}function B(V,O,L,X){var dt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:S(V,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return L.key===dt?D(V,O,L,X):null;case G:return L.key===dt?z(V,O,L,X):null;case A:return L=Gs(L),B(V,O,L,X)}if(Ve(L)||P(L))return dt!==null?null:Y(V,O,L,X,null);if(typeof L.then=="function")return B(V,O,dc(L),X);if(L.$$typeof===it)return B(V,O,uc(V,L),X);mc(V,L)}return null}function q(V,O,L,X,dt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return V=V.get(L)||null,S(O,V,""+X,dt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case k:return V=V.get(X.key===null?L:X.key)||null,D(O,V,X,dt);case G:return V=V.get(X.key===null?L:X.key)||null,z(O,V,X,dt);case A:return X=Gs(X),q(V,O,L,X,dt)}if(Ve(X)||P(X))return V=V.get(L)||null,Y(O,V,X,dt,null);if(typeof X.then=="function")return q(V,O,L,dc(X),dt);if(X.$$typeof===it)return q(V,O,L,uc(O,X),dt);mc(O,X)}return null}function ct(V,O,L,X){for(var dt=null,Bt=null,ht=O,It=O=0,Mt=null;ht!==null&&It<L.length;It++){ht.index>It?(Mt=ht,ht=null):Mt=ht.sibling;var jt=B(V,ht,L[It],X);if(jt===null){ht===null&&(ht=Mt);break}e&&ht&&jt.alternate===null&&r(V,ht),O=d(jt,O,It),Bt===null?dt=jt:Bt.sibling=jt,Bt=jt,ht=Mt}if(It===L.length)return a(V,ht),Pt&&Qi(V,It),dt;if(ht===null){for(;It<L.length;It++)ht=$(V,L[It],X),ht!==null&&(O=d(ht,O,It),Bt===null?dt=ht:Bt.sibling=ht,Bt=ht);return Pt&&Qi(V,It),dt}for(ht=l(ht);It<L.length;It++)Mt=q(ht,V,It,L[It],X),Mt!==null&&(e&&Mt.alternate!==null&&ht.delete(Mt.key===null?It:Mt.key),O=d(Mt,O,It),Bt===null?dt=Mt:Bt.sibling=Mt,Bt=Mt);return e&&ht.forEach(function($r){return r(V,$r)}),Pt&&Qi(V,It),dt}function gt(V,O,L,X){if(L==null)throw Error(s(151));for(var dt=null,Bt=null,ht=O,It=O=0,Mt=null,jt=L.next();ht!==null&&!jt.done;It++,jt=L.next()){ht.index>It?(Mt=ht,ht=null):Mt=ht.sibling;var $r=B(V,ht,jt.value,X);if($r===null){ht===null&&(ht=Mt);break}e&&ht&&$r.alternate===null&&r(V,ht),O=d($r,O,It),Bt===null?dt=$r:Bt.sibling=$r,Bt=$r,ht=Mt}if(jt.done)return a(V,ht),Pt&&Qi(V,It),dt;if(ht===null){for(;!jt.done;It++,jt=L.next())jt=$(V,jt.value,X),jt!==null&&(O=d(jt,O,It),Bt===null?dt=jt:Bt.sibling=jt,Bt=jt);return Pt&&Qi(V,It),dt}for(ht=l(ht);!jt.done;It++,jt=L.next())jt=q(ht,V,It,jt.value,X),jt!==null&&(e&&jt.alternate!==null&&ht.delete(jt.key===null?It:jt.key),O=d(jt,O,It),Bt===null?dt=jt:Bt.sibling=jt,Bt=jt);return e&&ht.forEach(function(PA){return r(V,PA)}),Pt&&Qi(V,It),dt}function Zt(V,O,L,X){if(typeof L=="object"&&L!==null&&L.type===Q&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case k:t:{for(var dt=L.key;O!==null;){if(O.key===dt){if(dt=L.type,dt===Q){if(O.tag===7){a(V,O.sibling),X=f(O,L.props.children),X.return=V,V=X;break t}}else if(O.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===A&&Gs(dt)===O.type){a(V,O.sibling),X=f(O,L.props),ml(X,L),X.return=V,V=X;break t}a(V,O);break}else r(V,O);O=O.sibling}L.type===Q?(X=Bs(L.props.children,V.mode,X,L.key),X.return=V,V=X):(X=ac(L.type,L.key,L.props,null,V.mode,X),ml(X,L),X.return=V,V=X)}return _(V);case G:t:{for(dt=L.key;O!==null;){if(O.key===dt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(V,O.sibling),X=f(O,L.children||[]),X.return=V,V=X;break t}else{a(V,O);break}else r(V,O);O=O.sibling}X=Uf(L,V.mode,X),X.return=V,V=X}return _(V);case A:return L=Gs(L),Zt(V,O,L,X)}if(Ve(L))return ct(V,O,L,X);if(P(L)){if(dt=P(L),typeof dt!="function")throw Error(s(150));return L=dt.call(L),gt(V,O,L,X)}if(typeof L.then=="function")return Zt(V,O,dc(L),X);if(L.$$typeof===it)return Zt(V,O,uc(V,L),X);mc(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(V,O.sibling),X=f(O,L),X.return=V,V=X):(a(V,O),X=Pf(L,V.mode,X),X.return=V,V=X),_(V)):a(V,O)}return function(V,O,L,X){try{dl=0;var dt=Zt(V,O,L,X);return Ha=null,dt}catch(ht){if(ht===qa||ht===hc)throw ht;var Bt=En(29,ht,null,V.mode);return Bt.lanes=X,Bt.return=V,Bt}}}var Qs=sy(!0),ay=sy(!1),xr=!1;function Xf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function kr(e,r,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=sc(e),Hg(e,null,a),r}return rc(e,l,r,a),sc(e)}function pl(e,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,qo(e,a)}}function Wf(e,r){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=r:e.next=r,a.lastBaseUpdate=r}var Jf=!1;function gl(){if(Jf){var e=ja;if(e!==null)throw e}}function yl(e,r,a,l){Jf=!1;var f=e.updateQueue;xr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,z=D.next;D.next=null,_===null?d=z:_.next=z,_=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=z:S.next=z,Y.lastBaseUpdate=D))}if(d!==null){var $=f.baseState;_=0,Y=z=D=null,S=d;do{var B=S.lane&-536870913,q=B!==S.lane;if(q?(Nt&B)===B:(l&B)===B){B!==0&&B===Ba&&(Jf=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ct=e,gt=S;B=r;var Zt=a;switch(gt.tag){case 1:if(ct=gt.payload,typeof ct=="function"){$=ct.call(Zt,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=gt.payload,B=typeof ct=="function"?ct.call(Zt,$,B):ct,B==null)break t;$=T({},$,B);break t;case 2:xr=!0}}B=S.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[B]:q.push(B))}else q={lane:B,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(z=Y=q,D=$):Y=Y.next=q,_|=B;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;q=S,S=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);Y===null&&(D=$),f.baseState=D,f.firstBaseUpdate=z,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Br|=_,e.lanes=_,e.memoizedState=$}}function oy(e,r){if(typeof e!="function")throw Error(s(191,e));e.call(r)}function ly(e,r){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)oy(a[e],r)}var Fa=M(null),pc=M(0);function uy(e,r){e=rr,at(pc,e),at(Fa,r),rr=e|r.baseLanes}function Zf(){at(pc,rr),at(Fa,Fa.current)}function td(){rr=pc.current,W(Fa),W(pc)}var Tn=M(null),Ln=null;function Pr(e){var r=e.alternate;at(ye,ye.current&1),at(Tn,e),Ln===null&&(r===null||Fa.current!==null||r.memoizedState!==null)&&(Ln=e)}function ed(e){at(ye,ye.current),at(Tn,e),Ln===null&&(Ln=e)}function cy(e){e.tag===22?(at(ye,ye.current),at(Tn,e),Ln===null&&(Ln=e)):Ur()}function Ur(){at(ye,ye.current),at(Tn,Tn.current)}function Sn(e){W(Tn),Ln===e&&(Ln=null),W(ye)}var ye=M(0);function gc(e){for(var r=e;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||om(a)||lm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var $i=0,Rt=null,Wt=null,Ce=null,yc=!1,Ga=!1,Ks=!1,_c=0,_l=0,Ya=null,Rw=0;function he(){throw Error(s(321))}function nd(e,r){if(r===null)return!1;for(var a=0;a<r.length&&a<e.length;a++)if(!vn(e[a],r[a]))return!1;return!0}function id(e,r,a,l,f,d){return $i=d,Rt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=e===null||e.memoizedState===null?Qy:_d,Ks=!1,d=a(l,f),Ks=!1,Ga&&(d=fy(r,a,l,f)),hy(e),d}function hy(e){K.H=Tl;var r=Wt!==null&&Wt.next!==null;if($i=0,Ce=Wt=Rt=null,yc=!1,_l=0,Ya=null,r)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&lc(e)&&(Ie=!0))}function fy(e,r,a,l){Rt=e;var f=0;do{if(Ga&&(Ya=null),_l=0,Ga=!1,25<=f)throw Error(s(301));if(f+=1,Ce=Wt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Ky,d=r(a,l)}while(Ga);return d}function Cw(){var e=K.H,r=e.useState()[0];return r=typeof r.then=="function"?vl(r):r,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(Rt.flags|=1024),r}function rd(){var e=_c!==0;return _c=0,e}function sd(e,r,a){r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~a}function ad(e){if(yc){for(e=e.memoizedState;e!==null;){var r=e.queue;r!==null&&(r.pending=null),e=e.next}yc=!1}$i=0,Ce=Wt=Rt=null,Ga=!1,_l=_c=0,Ya=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function _e(){if(Wt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var r=Ce===null?Rt.memoizedState:Ce.next;if(r!==null)Ce=r,Wt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?Rt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var r=_l;return _l+=1,Ya===null&&(Ya=[]),e=ny(Ya,e,r),r=Rt,(Ce===null?r.memoizedState:Ce.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?Qy:_d),e}function Ec(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===it)return Ye(e)}throw Error(s(438,String(e)))}function od(e){var r=null,a=Rt.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=vc(),Rt.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(e),l=0;l<e;l++)a[l]=x;return r.index++,a}function Wi(e,r){return typeof r=="function"?r(e):r}function Tc(e){var r=_e();return ld(r,Wt,e)}function ld(e,r,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{r=f.next;var S=_=null,D=null,z=r,Y=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Nt&$)===$:($i&$)===$){var B=z.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ba&&(Y=!0);else if(($i&B)===B){z=z.next,B===Ba&&(Y=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=$,_=d):D=D.next=$,Rt.lanes|=B,Br|=B;$=z.action,Ks&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(S=D=B,_=d):D=D.next=B,Rt.lanes|=$,Br|=$;z=z.next}while(z!==null&&z!==r);if(D===null?_=d:D.next=S,!vn(d,e.memoizedState)&&(Ie=!0,Y&&(a=ja,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ud(e){var r=_e(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);vn(d,r.memoizedState)||(Ie=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function dy(e,r,a){var l=Rt,f=_e(),d=Pt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!vn((Wt||f).memoizedState,a);if(_&&(f.memoizedState=a,Ie=!0),f=f.queue,fd(gy.bind(null,l,f,e),[e]),f.getSnapshot!==r||_||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Qa(9,{destroy:void 0},py.bind(null,l,f,a,r),null),te===null)throw Error(s(349));d||($i&127)!==0||my(l,r,a)}return a}function my(e,r,a){e.flags|=16384,e={getSnapshot:r,value:a},r=Rt.updateQueue,r===null?(r=vc(),Rt.updateQueue=r,r.stores=[e]):(a=r.stores,a===null?r.stores=[e]:a.push(e))}function py(e,r,a,l){r.value=a,r.getSnapshot=l,yy(r)&&_y(e)}function gy(e,r,a){return a(function(){yy(r)&&_y(e)})}function yy(e){var r=e.getSnapshot;e=e.value;try{var a=r();return!vn(e,a)}catch{return!0}}function _y(e){var r=zs(e,2);r!==null&&mn(r,e,2)}function cd(e){var r=an();if(typeof e=="function"){var a=e;if(e=a(),Ks){In(!0);try{a()}finally{In(!1)}}}return r.memoizedState=r.baseState=e,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},r}function vy(e,r,a,l){return e.baseState=a,ld(e,Wt,typeof l=="function"?l:Wi)}function Iw(e,r,a,l,f){if(wc(e))throw Error(s(485));if(e=r.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ey(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ey(e,r){var a=r.action,l=r.payload,f=e.state;if(r.isTransition){var d=K.T,_={};K.T=_;try{var S=a(f,l),D=K.S;D!==null&&D(_,S),Ty(e,r,S)}catch(z){hd(e,r,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(f,l),Ty(e,r,d)}catch(z){hd(e,r,z)}}function Ty(e,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(e,r,l)},function(l){return hd(e,r,l)}):Sy(e,r,a)}function Sy(e,r,a){r.status="fulfilled",r.value=a,by(r),e.state=a,r=e.pending,r!==null&&(a=r.next,a===r?e.pending=null:(a=a.next,r.next=a,Ey(e,a)))}function hd(e,r,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,by(r),r=r.next;while(r!==l)}e.action=null}function by(e){e=e.listeners;for(var r=0;r<e.length;r++)(0,e[r])()}function wy(e,r){return r}function Ay(e,r){if(Pt){var a=te.formState;if(a!==null){t:{var l=Rt;if(Pt){if(ne){e:{for(var f=ne,d=Un;f.nodeType!==8;){if(!d){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ne=zn(f.nextSibling),l=f.data==="F!";break t}}Nr(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:r},a.queue=l,a=Fy.bind(null,Rt,l),l.dispatch=a,l=cd(!1),d=yd.bind(null,Rt,!1,l.queue),l=an(),f={state:r,dispatch:null,action:e,pending:null},l.queue=f,a=Iw.bind(null,Rt,f,d,a),f.dispatch=a,l.memoizedState=e,[r,a,!1]}function Ry(e){var r=_e();return Cy(r,Wt,e)}function Cy(e,r,a){if(r=ld(e,r,wy)[0],e=Tc(Wi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=vl(r)}catch(_){throw _===qa?hc:_}else l=r;r=_e();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Rt.flags|=2048,Qa(9,{destroy:void 0},Dw.bind(null,f,a),null)),[l,d,e]}function Dw(e,r){e.action=r}function Iy(e){var r=_e(),a=Wt;if(a!==null)return Cy(r,a,e);_e(),r=r.memoizedState,a=_e();var l=a.queue.dispatch;return a.memoizedState=e,[r,l,!1]}function Qa(e,r,a,l){return e={tag:e,create:a,deps:l,inst:r,next:null},r=Rt.updateQueue,r===null&&(r=vc(),Rt.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,r.lastEffect=e),e}function Dy(){return _e().memoizedState}function Sc(e,r,a,l){var f=an();Rt.flags|=e,f.memoizedState=Qa(1|r,{destroy:void 0},a,l===void 0?null:l)}function bc(e,r,a,l){var f=_e();l=l===void 0?null:l;var d=f.memoizedState.inst;Wt!==null&&l!==null&&nd(l,Wt.memoizedState.deps)?f.memoizedState=Qa(r,d,a,l):(Rt.flags|=e,f.memoizedState=Qa(1|r,d,a,l))}function Oy(e,r){Sc(8390656,8,e,r)}function fd(e,r){bc(2048,8,e,r)}function Ow(e){Rt.flags|=4;var r=Rt.updateQueue;if(r===null)r=vc(),Rt.updateQueue=r,r.events=[e];else{var a=r.events;a===null?r.events=[e]:a.push(e)}}function Ny(e){var r=_e().memoizedState;return Ow({ref:r,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function My(e,r){return bc(4,2,e,r)}function xy(e,r){return bc(4,4,e,r)}function Vy(e,r){if(typeof r=="function"){e=e();var a=r(e);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ky(e,r,a){a=a!=null?a.concat([e]):null,bc(4,4,Vy.bind(null,r,e),a)}function dd(){}function Py(e,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&nd(r,l[1])?l[0]:(a.memoizedState=[e,r],e)}function Uy(e,r){var a=_e();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&nd(r,l[1]))return l[0];if(l=e(),Ks){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,r],l}function md(e,r,a){return a===void 0||($i&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=r:(e.memoizedState=a,e=L_(),Rt.lanes|=e,Br|=e,a)}function Ly(e,r,a,l){return vn(a,r)?a:Fa.current!==null?(e=md(e,a,l),vn(e,r)||(Ie=!0),e):($i&42)===0||($i&1073741824)!==0&&(Nt&261930)===0?(Ie=!0,e.memoizedState=a):(e=L_(),Rt.lanes|=e,Br|=e,r)}function zy(e,r,a,l,f){var d=st.p;st.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,yd(e,!1,r,a);try{var D=f(),z=K.S;if(z!==null&&z(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=Aw(D,l);El(e,r,Y,An(e))}else El(e,r,l,An(e))}catch($){El(e,r,{then:function(){},status:"rejected",reason:$},An())}finally{st.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function Nw(){}function pd(e,r,a,l){if(e.tag!==5)throw Error(s(476));var f=By(e).queue;zy(e,f,r,pt,a===null?Nw:function(){return jy(e),a(l)})}function By(e){var r=e.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:pt},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},e.memoizedState=r,e=e.alternate,e!==null&&(e.memoizedState=r),r}function jy(e){var r=By(e);r.next===null&&(r=e.alternate.memoizedState),El(e,r.next.queue,{},An())}function gd(){return Ye(Ul)}function qy(){return _e().memoizedState}function Hy(){return _e().memoizedState}function Mw(e){for(var r=e.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();e=Vr(a);var l=kr(r,e,a);l!==null&&(mn(l,r,a),pl(l,r,a)),r={cache:Gf()},e.payload=r;return}r=r.return}}function xw(e,r,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(e)?Gy(r,a):(a=Vf(e,r,a,l),a!==null&&(mn(a,e,l),Yy(a,r,l)))}function Fy(e,r,a){var l=An();El(e,r,a,l)}function El(e,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(e))Gy(r,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,vn(S,_))return rc(e,r,f,0),te===null&&ic(),!1}catch{}if(a=Vf(e,r,f,l),a!==null)return mn(a,e,l),Yy(a,r,l),!0}return!1}function yd(e,r,a,l){if(l={lane:2,revertLane:Xd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(e)){if(r)throw Error(s(479))}else r=Vf(e,a,l,2),r!==null&&mn(r,e,2)}function wc(e){var r=e.alternate;return e===Rt||r!==null&&r===Rt}function Gy(e,r){Ga=yc=!0;var a=e.pending;a===null?r.next=r:(r.next=a.next,a.next=r),e.pending=r}function Yy(e,r,a){if((a&4194048)!==0){var l=r.lanes;l&=e.pendingLanes,a|=l,r.lanes=a,qo(e,a)}}var Tl={readContext:Ye,use:Ec,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};Tl.useEffectEvent=he;var Qy={readContext:Ye,use:Ec,useCallback:function(e,r){return an().memoizedState=[e,r===void 0?null:r],e},useContext:Ye,useEffect:Oy,useImperativeHandle:function(e,r,a){a=a!=null?a.concat([e]):null,Sc(4194308,4,Vy.bind(null,r,e),a)},useLayoutEffect:function(e,r){return Sc(4194308,4,e,r)},useInsertionEffect:function(e,r){Sc(4,2,e,r)},useMemo:function(e,r){var a=an();r=r===void 0?null:r;var l=e();if(Ks){In(!0);try{e()}finally{In(!1)}}return a.memoizedState=[l,r],l},useReducer:function(e,r,a){var l=an();if(a!==void 0){var f=a(r);if(Ks){In(!0);try{a(r)}finally{In(!1)}}}else f=r;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=xw.bind(null,Rt,e),[l.memoizedState,e]},useRef:function(e){var r=an();return e={current:e},r.memoizedState=e},useState:function(e){e=cd(e);var r=e.queue,a=Fy.bind(null,Rt,r);return r.dispatch=a,[e.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(e,r){var a=an();return md(a,e,r)},useTransition:function(){var e=cd(!1);return e=zy.bind(null,Rt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,r,a){var l=Rt,f=an();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),te===null)throw Error(s(349));(Nt&127)!==0||my(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Oy(gy.bind(null,l,d,e),[e]),l.flags|=2048,Qa(9,{destroy:void 0},py.bind(null,l,d,a,r),null),a},useId:function(){var e=an(),r=te.identifierPrefix;if(Pt){var a=Ri,l=Ai;a=(l&~(1<<32-pe(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Rw++,r="_"+r+"r_"+a.toString(32)+"_";return e.memoizedState=r},useHostTransitionStatus:gd,useFormState:Ay,useActionState:Ay,useOptimistic:function(e){var r=an();r.memoizedState=r.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=yd.bind(null,Rt,!0,a),a.dispatch=r,[e,r]},useMemoCache:od,useCacheRefresh:function(){return an().memoizedState=Mw.bind(null,Rt)},useEffectEvent:function(e){var r=an(),a={impl:e};return r.memoizedState=a,function(){if((Ht&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},_d={readContext:Ye,use:Ec,useCallback:Py,useContext:Ye,useEffect:fd,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:xy,useMemo:Uy,useReducer:Tc,useRef:Dy,useState:function(){return Tc(Wi)},useDebugValue:dd,useDeferredValue:function(e,r){var a=_e();return Ly(a,Wt.memoizedState,e,r)},useTransition:function(){var e=Tc(Wi)[0],r=_e().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(e,r){var a=_e();return vy(a,Wt,e,r)},useMemoCache:od,useCacheRefresh:Hy};_d.useEffectEvent=Ny;var Ky={readContext:Ye,use:Ec,useCallback:Py,useContext:Ye,useEffect:fd,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:xy,useMemo:Uy,useReducer:ud,useRef:Dy,useState:function(){return ud(Wi)},useDebugValue:dd,useDeferredValue:function(e,r){var a=_e();return Wt===null?md(a,e,r):Ly(a,Wt.memoizedState,e,r)},useTransition:function(){var e=ud(Wi)[0],r=_e().memoizedState;return[typeof e=="boolean"?e:vl(e),r]},useSyncExternalStore:dy,useId:qy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(e,r){var a=_e();return Wt!==null?vy(a,Wt,e,r):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:od,useCacheRefresh:Hy};Ky.useEffectEvent=Ny;function vd(e,r,a,l){r=e.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ed={enqueueSetState:function(e,r,a){e=e._reactInternals;var l=An(),f=Vr(l);f.payload=r,a!=null&&(f.callback=a),r=kr(e,f,l),r!==null&&(mn(r,e,l),pl(r,e,l))},enqueueReplaceState:function(e,r,a){e=e._reactInternals;var l=An(),f=Vr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=kr(e,f,l),r!==null&&(mn(r,e,l),pl(r,e,l))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var a=An(),l=Vr(a);l.tag=2,r!=null&&(l.callback=r),r=kr(e,l,a),r!==null&&(mn(r,e,a),pl(r,e,a))}};function Xy(e,r,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!ol(a,l)||!ol(f,d):!0}function $y(e,r,a,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==e&&Ed.enqueueReplaceState(r,r.state,null)}function Xs(e,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(e=e.defaultProps){a===r&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function Wy(e){nc(e)}function Jy(e){console.error(e)}function Zy(e){nc(e)}function Ac(e,r){try{var a=e.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function t_(e,r,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Td(e,r,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(e,r)},a}function e_(e){return e=Vr(e),e.tag=3,e}function n_(e,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){t_(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){t_(r,a,l),typeof f!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function Vw(e,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&za(r,a,f,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Uc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===fc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Yd(e,l,f)),!1;case 22:return a.flags|=65536,l===fc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Yd(e,l,f)),!1}throw Error(s(435,a.tag))}return Yd(e,l,f),Uc(),!1}if(Pt)return r=Tn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Bf&&(e=Error(s(422),{cause:l}),cl(Vn(e,a)))):(l!==Bf&&(r=Error(s(423),{cause:l}),cl(Vn(r,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=Vn(l,a),f=Td(e.stateNode,l,f),Wf(e,f),fe!==4&&(fe=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),Dl===null?Dl=[d]:Dl.push(d),fe!==4&&(fe=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=Td(a.stateNode,l,e),Wf(a,e),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=e_(f),n_(f,e,a,l),Wf(a,f),!1}a=a.return}while(a!==null);return!1}var Sd=Error(s(461)),Ie=!1;function Qe(e,r,a,l){r.child=e===null?ay(r,null,a,l):Qs(r,e.child,a,l)}function i_(e,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Hs(r),l=id(e,r,a,_,d,f),S=rd(),e!==null&&!Ie?(sd(e,r,f),Ji(e,r,f)):(Pt&&S&&Lf(r),r.flags|=1,Qe(e,r,l,f),r.child)}function r_(e,r,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,s_(e,r,d,l,f)):(e=ac(a.type,null,l,r,r.mode,f),e.ref=r.ref,e.return=r,r.child=e)}if(d=e.child,!Od(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(_,l)&&e.ref===r.ref)return Ji(e,r,f)}return r.flags|=1,e=Yi(d,l),e.ref=r.ref,e.return=r,r.child=e}function s_(e,r,a,l,f){if(e!==null){var d=e.memoizedProps;if(ol(d,l)&&e.ref===r.ref)if(Ie=!1,r.pendingProps=l=d,Od(e,f))(e.flags&131072)!==0&&(Ie=!0);else return r.lanes=e.lanes,Ji(e,r,f)}return bd(e,r,a,l,f)}function a_(e,r,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=r.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return o_(e,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(r,d!==null?d.cachePool:null),d!==null?uy(r,d):Zf(),cy(r);else return l=r.lanes=536870912,o_(e,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(cc(r,d.cachePool),uy(r,d),Ur(),r.memoizedState=null):(e!==null&&cc(r,null),Zf(),Ur());return Qe(e,r,f,a),r.child}function Sl(e,r){return e!==null&&e.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function o_(e,r,a,l,f){var d=Qf();return d=d===null?null:{parent:Re._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},e!==null&&cc(r,null),Zf(),cy(r),e!==null&&za(e,r,l,!0),r.childLanes=f,null}function Rc(e,r){return r=Ic({mode:r.mode,children:r.children},e.mode),r.ref=e.ref,e.child=r,r.return=e,r}function l_(e,r,a){return Qs(r,e.child,null,a),e=Rc(r,r.pendingProps),e.flags|=2,Sn(r),r.memoizedState=null,e}function kw(e,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,e===null){if(Pt){if(l.mode==="hidden")return e=Rc(r,l),r.lanes=536870912,Sl(null,e);if(ed(r),(e=ne)?(e=Ev(e,Un),e=e!==null&&e.data==="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=r,r.child=a,Ge=r,ne=null)):e=null,e===null)throw Nr(r);return r.lanes=536870912,null}return Rc(r,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(ed(r),f)if(r.flags&256)r.flags&=-257,r=l_(e,r,a);else if(r.memoizedState!==null)r.child=e.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ie||za(e,r,a,!1),f=(a&e.childLanes)!==0,Ie||f){if(l=te,l!==null&&(_=Ho(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,zs(e,_),mn(l,e,_),Sd;Uc(),r=l_(e,r,a)}else e=d.treeContext,ne=zn(_.nextSibling),Ge=r,Pt=!0,Or=null,Un=!1,e!==null&&Kg(r,e),r=Rc(r,l),r.flags|=4096;return r}return e=Yi(e.child,{mode:l.mode,children:l.children}),e.ref=r.ref,r.child=e,e.return=r,e}function Cc(e,r){var a=r.ref;if(a===null)e!==null&&e.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(r.flags|=4194816)}}function bd(e,r,a,l,f){return Hs(r),a=id(e,r,a,l,void 0,f),l=rd(),e!==null&&!Ie?(sd(e,r,f),Ji(e,r,f)):(Pt&&l&&Lf(r),r.flags|=1,Qe(e,r,a,f),r.child)}function u_(e,r,a,l,f,d){return Hs(r),r.updateQueue=null,a=fy(r,l,a,f),hy(e),l=rd(),e!==null&&!Ie?(sd(e,r,d),Ji(e,r,d)):(Pt&&l&&Lf(r),r.flags|=1,Qe(e,r,a,d),r.child)}function c_(e,r,a,l,f){if(Hs(r),r.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ye(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Xf(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ye(_):ka,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(vd(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ed.enqueueReplaceState(d,d.state,null),yl(r,l,d,f),gl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(e===null){d=r.stateNode;var S=r.memoizedProps,D=Xs(a,S);d.props=D;var z=d.context,Y=a.contextType;_=ka,typeof Y=="object"&&Y!==null&&(_=Ye(Y));var $=a.getDerivedStateFromProps;Y=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||z!==_)&&$y(r,d,l,_),xr=!1;var B=r.memoizedState;d.state=B,yl(r,l,d,f),gl(),z=r.memoizedState,S||B!==z||xr?(typeof $=="function"&&(vd(r,a,$,l),z=r.memoizedState),(D=xr||Xy(r,a,D,l,B,z,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),d.props=l,d.state=z,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,$f(e,r),_=r.memoizedProps,Y=Xs(a,_),d.props=Y,$=r.pendingProps,B=d.context,z=a.contextType,D=ka,typeof z=="object"&&z!==null&&(D=Ye(z)),S=a.getDerivedStateFromProps,(z=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==$||B!==D)&&$y(r,d,l,D),xr=!1,B=r.memoizedState,d.state=B,yl(r,l,d,f),gl();var q=r.memoizedState;_!==$||B!==q||xr||e!==null&&e.dependencies!==null&&lc(e.dependencies)?(typeof S=="function"&&(vd(r,a,S,l),q=r.memoizedState),(Y=xr||Xy(r,a,Y,l,B,q,D)||e!==null&&e.dependencies!==null&&lc(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,q,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),d.props=l,d.state=q,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&B===e.memoizedState||(r.flags|=1024),l=!1)}return d=l,Cc(e,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,e!==null&&l?(r.child=Qs(r,e.child,null,f),r.child=Qs(r,null,a,f)):Qe(e,r,a,f),r.memoizedState=d.state,e=r.child):e=Ji(e,r,f),e}function h_(e,r,a,l){return js(),r.flags|=256,Qe(e,r,a,l),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ad(e){return{baseLanes:e,cachePool:ty()}}function Rd(e,r,a){return e=e!==null?e.childLanes&~a:0,r&&(e|=wn),e}function f_(e,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,e===null){if(Pt){if(f?Pr(r):Ur(),(e=ne)?(e=Ev(e,Un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(r.memoizedState={dehydrated:e,treeContext:Dr!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Gg(e),a.return=r,r.child=a,Ge=r,ne=null)):e=null,e===null)throw Nr(r);return lm(e)?r.lanes=32:r.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Ur(),f=r.mode,S=Ic({mode:"hidden",children:S},f),l=Bs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,l=r.child,l.memoizedState=Ad(a),l.childLanes=Rd(e,_,a),r.memoizedState=wd,Sl(null,l)):(Pr(r),Cd(r,S))}var D=e.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)r.flags&256?(Pr(r),r.flags&=-257,r=Id(e,r,a)):r.memoizedState!==null?(Ur(),r.child=e.child,r.flags|=128,r=null):(Ur(),S=l.fallback,f=r.mode,l=Ic({mode:"visible",children:l.children},f),S=Bs(S,f,a,null),S.flags|=2,l.return=r,S.return=r,l.sibling=S,r.child=l,Qs(r,e.child,null,a),l=r.child,l.memoizedState=Ad(a),l.childLanes=Rd(e,_,a),r.memoizedState=wd,r=Sl(null,l));else if(Pr(r),lm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),r=Id(e,r,a)}else if(Ie||za(e,r,a,!1),_=(a&e.childLanes)!==0,Ie||_){if(_=te,_!==null&&(l=Ho(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,zs(e,l),mn(_,e,l),Sd;om(S)||Uc(),r=Id(e,r,a)}else om(S)?(r.flags|=192,r.child=e.child,r=null):(e=D.treeContext,ne=zn(S.nextSibling),Ge=r,Pt=!0,Or=null,Un=!1,e!==null&&Kg(r,e),r=Cd(r,l.children),r.flags|=4096);return r}return f?(Ur(),S=l.fallback,f=r.mode,D=e.child,z=D.sibling,l=Yi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?S=Yi(z,S):(S=Bs(S,f,a,null),S.flags|=2),S.return=r,l.return=r,l.sibling=S,r.child=l,Sl(null,l),l=r.child,S=e.child.memoizedState,S===null?S=Ad(a):(f=S.cachePool,f!==null?(D=Re._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ty(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Rd(e,_,a),r.memoizedState=wd,Sl(e.child,l)):(Pr(r),a=e.child,e=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,e!==null&&(_=r.deletions,_===null?(r.deletions=[e],r.flags|=16):_.push(e)),r.child=a,r.memoizedState=null,a)}function Cd(e,r){return r=Ic({mode:"visible",children:r},e.mode),r.return=e,e.child=r}function Ic(e,r){return e=En(22,e,null,r),e.lanes=0,e}function Id(e,r,a){return Qs(r,e.child,null,a),e=Cd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function d_(e,r,a){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),Hf(e.return,r,a)}function Dd(e,r,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function m_(e,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ye.current,S=(_&2)!==0;if(S?(_=_&1|2,r.flags|=128):_&=1,at(ye,_),Qe(e,r,l,a),l=Pt?ul:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&d_(e,a,r);else if(e.tag===19)d_(e,a,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break t;for(;e.sibling===null;){if(e.return===null||e.return===r)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Dd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(e=f.alternate,e!==null&&gc(e)===null){r.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Dd(r,!0,a,null,d,l);break;case"together":Dd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Ji(e,r,a){if(e!==null&&(r.dependencies=e.dependencies),Br|=r.lanes,(a&r.childLanes)===0)if(e!==null){if(za(e,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,a=Yi(e,e.pendingProps),r.child=a,a.return=r;e.sibling!==null;)e=e.sibling,a=a.sibling=Yi(e,e.pendingProps),a.return=r;a.sibling=null}return r.child}function Od(e,r){return(e.lanes&r)!==0?!0:(e=e.dependencies,!!(e!==null&&lc(e)))}function Pw(e,r,a){switch(r.tag){case 3:ke(r,r.stateNode.containerInfo),Mr(r,Re,e.memoizedState.cache),js();break;case 27:case 5:Ts(r);break;case 4:ke(r,r.stateNode.containerInfo);break;case 10:Mr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ed(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?f_(e,r,a):(Pr(r),e=Ji(e,r,a),e!==null?e.sibling:null);Pr(r);break;case 19:var f=(e.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(za(e,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return m_(e,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),at(ye,ye.current),l)break;return null;case 22:return r.lanes=0,a_(e,r,a,r.pendingProps);case 24:Mr(r,Re,e.memoizedState.cache)}return Ji(e,r,a)}function p_(e,r,a){if(e!==null)if(e.memoizedProps!==r.pendingProps)Ie=!0;else{if(!Od(e,a)&&(r.flags&128)===0)return Ie=!1,Pw(e,r,a);Ie=(e.flags&131072)!==0}else Ie=!1,Pt&&(r.flags&1048576)!==0&&Qg(r,ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{var l=r.pendingProps;if(e=Gs(r.elementType),r.type=e,typeof e=="function")kf(e)?(l=Xs(e,l),r.tag=1,r=c_(null,r,e,l,a)):(r.tag=0,r=bd(null,r,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ft){r.tag=11,r=i_(null,r,e,l,a);break t}else if(f===R){r.tag=14,r=r_(null,r,e,l,a);break t}}throw r=se(e)||e,Error(s(306,r,""))}}return r;case 0:return bd(e,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Xs(l,r.pendingProps),c_(e,r,l,f,a);case 3:t:{if(ke(r,r.stateNode.containerInfo),e===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,$f(e,r),yl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,Mr(r,Re,l),l!==d.cache&&Ff(r,[Re],a,!0),gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=h_(e,r,l,a);break t}else if(l!==f){f=Vn(Error(s(424)),r),cl(f),r=h_(e,r,l,a);break t}else for(e=r.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=zn(e.firstChild),Ge=r,Pt=!0,Or=null,Un=!0,a=ay(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(js(),l===f){r=Ji(e,r,a);break t}Qe(e,r,l,a)}r=r.child}return r;case 26:return Cc(e,r),e===null?(a=Rv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Pt||(a=r.type,e=r.pendingProps,l=Fc(Ct.current).createElement(a),l[be]=r,l[ze]=e,Ke(l,a,e),we(l),r.stateNode=l):r.memoizedState=Rv(r.type,e.memoizedProps,r.pendingProps,e.memoizedState),null;case 27:return Ts(r),e===null&&Pt&&(l=r.stateNode=bv(r.type,r.pendingProps,Ct.current),Ge=r,Un=!0,f=ne,Gr(r.type)?(um=f,ne=zn(l.firstChild)):ne=f),Qe(e,r,r.pendingProps.children,a),Cc(e,r),e===null&&(r.flags|=4194304),r.child;case 5:return e===null&&Pt&&((f=l=ne)&&(l=fA(l,r.type,r.pendingProps,Un),l!==null?(r.stateNode=l,Ge=r,ne=zn(l.firstChild),Un=!1,f=!0):f=!1),f||Nr(r)),Ts(r),f=r.type,d=r.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,rm(f,d)?l=null:_!==null&&rm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=id(e,r,Cw,null,null,a),Ul._currentValue=f),Cc(e,r),Qe(e,r,l,a),r.child;case 6:return e===null&&Pt&&((e=a=ne)&&(a=dA(a,r.pendingProps,Un),a!==null?(r.stateNode=a,Ge=r,ne=null,e=!0):e=!1),e||Nr(r)),null;case 13:return f_(e,r,a);case 4:return ke(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Qs(r,null,l,a):Qe(e,r,l,a),r.child;case 11:return i_(e,r,r.type,r.pendingProps,a);case 7:return Qe(e,r,r.pendingProps,a),r.child;case 8:return Qe(e,r,r.pendingProps.children,a),r.child;case 12:return Qe(e,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Mr(r,r.type,l.value),Qe(e,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Hs(r),f=Ye(f),l=l(f),r.flags|=1,Qe(e,r,l,a),r.child;case 14:return r_(e,r,r.type,r.pendingProps,a);case 15:return s_(e,r,r.type,r.pendingProps,a);case 19:return m_(e,r,a);case 31:return kw(e,r,a);case 22:return a_(e,r,a,r.pendingProps);case 24:return Hs(r),l=Ye(Re),e===null?(f=Qf(),f===null&&(f=te,d=Gf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Xf(r),Mr(r,Re,f)):((e.lanes&a)!==0&&($f(e,r),yl(r,null,null,a),gl()),f=e.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Mr(r,Re,l)):(l=d.cache,Mr(r,Re,l),l!==f.cache&&Ff(r,[Re],a,!0))),Qe(e,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(e){e.flags|=4}function Nd(e,r,a,l,f){if((r=(e.mode&32)!==0)&&(r=!1),r){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(q_())e.flags|=8192;else throw Ys=fc,Kf}else e.flags&=-16777217}function g_(e,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nv(r))if(q_())e.flags|=8192;else throw Ys=fc,Kf}function Dc(e,r){r!==null&&(e.flags|=4),e.flags&16384&&(r=e.tag!==22?ku():536870912,e.lanes|=r,Wa|=r)}function bl(e,r){if(!Pt)switch(e.tailMode){case"hidden":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ie(e){var r=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(r)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,r}function Uw(e,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(r),null;case 1:return ie(r),null;case 3:return a=r.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(Re),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(La(r)?Zi(r):e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,jf())),ie(r),null;case 26:var f=r.type,d=r.memoizedState;return e===null?(Zi(r),d!==null?(ie(r),g_(r,d)):(ie(r),Nd(r,f,null,l,a))):d?d!==e.memoizedState?(Zi(r),ie(r),g_(r,d)):(ie(r),r.flags&=-16777217):(e=e.memoizedProps,e!==l&&Zi(r),ie(r),Nd(r,f,e,l,a)),null;case 27:if(ga(r),a=Ct.current,f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}e=ut.current,La(r)?Xg(r):(e=bv(f,l,a),r.stateNode=e,Zi(r))}return ie(r),null;case 5:if(ga(r),f=r.type,e!==null&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ie(r),null}if(d=ut.current,La(r))Xg(r);else{var _=Fc(Ct.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=r,d[ze]=l;t:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break t;for(;_.sibling===null;){if(_.return===null||_.return===r)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;t:switch(Ke(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Zi(r)}}return ie(r),Nd(r,r.type,e===null?null:e.memoizedProps,r.pendingProps,a),null;case 6:if(e&&r.stateNode!=null)e.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(e=Ct.current,La(r)){if(e=r.stateNode,a=r.memoizedProps,l=null,f=Ge,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=r,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fv(e.nodeValue,a)),e||Nr(r,!0)}else e=Fc(e).createTextNode(l),e[be]=r,r.stateNode=e}return ie(r),null;case 31:if(a=r.memoizedState,e===null||e.memoizedState!==null){if(l=La(r),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=r.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[be]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),e=!1}else a=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return r.flags&256?(Sn(r),r):(Sn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ie(r),null;case 13:if(l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=La(r),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ie(r),f=!1}else f=jf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Sn(r),r):(Sn(r),null)}return Sn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),ie(r),null);case 4:return ae(),e===null&&Zd(r.stateNode.containerInfo),ie(r),null;case 10:return Xi(r.type),ie(r),null;case 19:if(W(ye),l=r.memoizedState,l===null)return ie(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)bl(l,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(d=gc(e),d!==null){for(r.flags|=128,bl(l,!1),e=d.updateQueue,r.updateQueue=e,Dc(r,e),r.subtreeFlags=0,e=a,a=r.child;a!==null;)Fg(a,e),a=a.sibling;return at(ye,ye.current&1|2),Pt&&Qi(r,l.treeForkCount),r.child}e=e.sibling}l.tail!==null&&rn()>Vc&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304)}else{if(!f)if(e=gc(d),e!==null){if(r.flags|=128,f=!0,e=e.updateQueue,r.updateQueue=e,Dc(r,e),bl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Pt)return ie(r),null}else 2*rn()-l.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,f=!0,bl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(e=l.last,e!==null?e.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ye.current,at(ye,f?a&1|2:a&1),Pt&&Qi(r,l.treeForkCount),e):(ie(r),null);case 22:case 23:return Sn(r),td(),l=r.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ie(r),r.subtreeFlags&6&&(r.flags|=8192)):ie(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),e!==null&&W(Fs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Xi(Re),ie(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Lw(e,r){switch(zf(r),r.tag){case 1:return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Xi(Re),ae(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 26:case 27:case 5:return ga(r),null;case 31:if(r.memoizedState!==null){if(Sn(r),r.alternate===null)throw Error(s(340));js()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 13:if(Sn(r),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));js()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return W(ye),null;case 4:return ae(),null;case 10:return Xi(r.type),null;case 22:case 23:return Sn(r),td(),e!==null&&W(Fs),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 24:return Xi(Re),null;case 25:return null;default:return null}}function y_(e,r){switch(zf(r),r.tag){case 3:Xi(Re),ae();break;case 26:case 27:case 5:ga(r);break;case 4:ae();break;case 31:r.memoizedState!==null&&Sn(r);break;case 13:Sn(r);break;case 19:W(ye);break;case 10:Xi(r.type);break;case 22:case 23:Sn(r),td(),e!==null&&W(Fs);break;case 24:Xi(Re)}}function wl(e,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Kt(r,r.return,S)}}function Lr(e,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var D=a,z=S;try{z()}catch(Y){Kt(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Kt(r,r.return,Y)}}function __(e){var r=e.updateQueue;if(r!==null){var a=e.stateNode;try{ly(r,a)}catch(l){Kt(e,e.return,l)}}}function v_(e,r,a){a.props=Xs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(e,r,l)}}function Al(e,r){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Kt(e,r,f)}}function Ci(e,r){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Kt(e,r,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(e,r,f)}else a.current=null}function E_(e){var r=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Kt(e,e.return,f)}}function Md(e,r,a){try{var l=e.stateNode;aA(l,e.type,a,r),l[ze]=r}catch(f){Kt(e,e.return,f)}}function T_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Gr(e.type)||e.tag===4}function xd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||T_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Gr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vd(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(e),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Xn));else if(l!==4&&(l===27&&Gr(e.type)&&(a=e.stateNode,r=null),e=e.child,e!==null))for(Vd(e,r,a),e=e.sibling;e!==null;)Vd(e,r,a),e=e.sibling}function Oc(e,r,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?a.insertBefore(e,r):a.appendChild(e);else if(l!==4&&(l===27&&Gr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Oc(e,r,a),e=e.sibling;e!==null;)Oc(e,r,a),e=e.sibling}function S_(e){var r=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Ke(r,l,a),r[be]=e,r[ze]=a}catch(d){Kt(e,e.return,d)}}var tr=!1,De=!1,kd=!1,b_=typeof WeakSet=="function"?WeakSet:Set,je=null;function zw(e,r){if(e=e.containerInfo,nm=Wc,e=kg(e),If(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,z=0,Y=0,$=e,B=null;e:for(;;){for(var q;$!==a||f!==0&&$.nodeType!==3||(S=_+f),$!==d||l!==0&&$.nodeType!==3||(D=_+l),$.nodeType===3&&(_+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===a&&++z===f&&(S=_),B===d&&++Y===l&&(D=_),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:e,selectionRange:a},Wc=!1,je=r;je!==null;)if(r=je,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,je=e;else for(;je!==null;){switch(r=je,d=r.alternate,e=r.flags,r.tag){case 0:if((e&4)!==0&&(e=r.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ct=Xs(a.type,f);e=l.getSnapshotBeforeUpdate(ct,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=r.stateNode.containerInfo,a=e.nodeType,a===9)am(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":am(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=r.sibling,e!==null){e.return=r.return,je=e;break}je=r.return}}function w_(e,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(e,a),l&4&&wl(5,a);break;case 1:if(nr(e,a),l&4)if(e=a.stateNode,r===null)try{e.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var f=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{e.componentDidUpdate(f,r,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}l&64&&__(a),l&512&&Al(a,a.return);break;case 3:if(nr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ly(e,r)}catch(_){Kt(a,a.return,_)}}break;case 27:r===null&&l&4&&S_(a);case 26:case 5:nr(e,a),r===null&&l&4&&E_(a),l&512&&Al(a,a.return);break;case 12:nr(e,a);break;case 31:nr(e,a),l&4&&C_(e,a);break;case 13:nr(e,a),l&4&&I_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Kw.bind(null,a),mA(e,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){r=r!==null&&r.memoizedState!==null||De,f=tr;var d=De;tr=l,(De=r)&&!d?ir(e,a,(a.subtreeFlags&8772)!==0):nr(e,a),tr=f,De=d}break;case 30:break;default:nr(e,a)}}function A_(e){var r=e.alternate;r!==null&&(e.alternate=null,A_(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&Ta(r)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,cn=!1;function er(e,r,a){for(a=a.child;a!==null;)R_(e,r,a),a=a.sibling}function R_(e,r,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:De||Ci(a,r),er(e,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Ci(a,r);var l=le,f=cn;Gr(a.type)&&(le=a.stateNode,cn=!1),er(e,r,a),Vl(a.stateNode),le=l,cn=f;break;case 5:De||Ci(a,r);case 6:if(l=le,f=cn,le=null,er(e,r,a),le=l,cn=f,le!==null)if(cn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(d){Kt(a,r,d)}else try{le.removeChild(a.stateNode)}catch(d){Kt(a,r,d)}break;case 18:le!==null&&(cn?(e=le,_v(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),so(e)):_v(le,a.stateNode));break;case 4:l=le,f=cn,le=a.stateNode.containerInfo,cn=!0,er(e,r,a),le=l,cn=f;break;case 0:case 11:case 14:case 15:Lr(2,a,r),De||Lr(4,a,r),er(e,r,a);break;case 1:De||(Ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v_(a,r,l)),er(e,r,a);break;case 21:er(e,r,a);break;case 22:De=(l=De)||a.memoizedState!==null,er(e,r,a),De=l;break;default:er(e,r,a)}}function C_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{so(e)}catch(a){Kt(r,r.return,a)}}}function I_(e,r){if(r.memoizedState===null&&(e=r.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{so(e)}catch(a){Kt(r,r.return,a)}}function Bw(e){switch(e.tag){case 31:case 13:case 19:var r=e.stateNode;return r===null&&(r=e.stateNode=new b_),r;case 22:return e=e.stateNode,r=e._retryCache,r===null&&(r=e._retryCache=new b_),r;default:throw Error(s(435,e.tag))}}function Nc(e,r){var a=Bw(e);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Xw.bind(null,e,l);l.then(f,f)}})}function hn(e,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=r,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Gr(S.type)){le=S.stateNode,cn=!1;break t}break;case 5:le=S.stateNode,cn=!1;break t;case 3:case 4:le=S.stateNode.containerInfo,cn=!0;break t}S=S.return}if(le===null)throw Error(s(160));R_(d,_,f),le=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)D_(r,e),r=r.sibling}var ei=null;function D_(e,r){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(r,e),fn(e),l&4&&(Lr(3,e,e.return),wl(3,e),Lr(5,e,e.return));break;case 1:hn(r,e),fn(e),l&512&&(De||a===null||Ci(a,a.return)),l&64&&tr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(hn(r,e),fn(e),l&512&&(De||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[di]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ke(d,l,a),d[be]=e,we(d),l=d;break t;case"link":var _=Dv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Dv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[be]=e,we(d),l=d}e.stateNode=l}else Ov(f,e.type,e.stateNode);else e.stateNode=Iv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Ov(f,e.type,e.stateNode):Iv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Md(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(r,e),fn(e),l&512&&(De||a===null||Ci(a,a.return)),a!==null&&l&4&&Md(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(r,e),fn(e),l&512&&(De||a===null||Ci(a,a.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(ct){Kt(e,e.return,ct)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Md(e,f,a!==null?a.memoizedProps:f)),l&1024&&(kd=!0);break;case 6:if(hn(r,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ct){Kt(e,e.return,ct)}}break;case 3:if(Qc=null,f=ei,ei=Gc(r.containerInfo),hn(r,e),ei=f,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(r.containerInfo)}catch(ct){Kt(e,e.return,ct)}kd&&(kd=!1,O_(e));break;case 4:l=ei,ei=Gc(e.stateNode.containerInfo),hn(r,e),fn(e),ei=l;break;case 12:hn(r,e),fn(e);break;case 31:hn(r,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 13:hn(r,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,z=tr,Y=De;if(tr=z||f,De=Y||D,hn(r,e),De=Y,tr=z,fn(e),l&8192)t:for(r=e.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||D||tr||De||$s(e)),a=null,r=e;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var $=D.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;S.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Kt(D,D.return,ct)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(ct){Kt(D,D.return,ct)}}}else if(r.tag===18){if(a===null){D=r;try{var q=D.stateNode;f?vv(q,!0):vv(D.stateNode,!1)}catch(ct){Kt(D,D.return,ct)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===e)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break t;for(;r.sibling===null;){if(r.return===null||r.return===e)break t;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(e,a))));break;case 19:hn(r,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Nc(e,l)));break;case 30:break;case 21:break;default:hn(r,e),fn(e)}}function fn(e){var r=e.flags;if(r&2){try{for(var a,l=e.return;l!==null;){if(T_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(e);Oc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var S=xd(e);Oc(e,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,z=xd(e);Vd(e,z,D);break;default:throw Error(s(161))}}catch(Y){Kt(e,e.return,Y)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function O_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var r=e;O_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),e=e.sibling}}function nr(e,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w_(e,r.alternate,r),r=r.sibling}function $s(e){for(e=e.child;e!==null;){var r=e;switch(r.tag){case 0:case 11:case 14:case 15:Lr(4,r,r.return),$s(r);break;case 1:Ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&v_(r,r.return,a),$s(r);break;case 27:Vl(r.stateNode);case 26:case 5:Ci(r,r.return),$s(r);break;case 22:r.memoizedState===null&&$s(r);break;case 30:$s(r);break;default:$s(r)}e=e.sibling}}function ir(e,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=e,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(f,d,a),wl(4,d);break;case 1:if(ir(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)oy(D[f],S)}catch(z){Kt(l,l.return,z)}}a&&_&64&&__(d),Al(d,d.return);break;case 27:S_(d);case 26:case 5:ir(f,d,a),a&&l===null&&_&4&&E_(d),Al(d,d.return);break;case 12:ir(f,d,a);break;case 31:ir(f,d,a),a&&_&4&&C_(f,d);break;case 13:ir(f,d,a),a&&_&4&&I_(f,d);break;case 22:d.memoizedState===null&&ir(f,d,a),Al(d,d.return);break;case 30:break;default:ir(f,d,a)}r=r.sibling}}function Pd(e,r){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(e=r.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hl(a))}function Ud(e,r){e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e))}function ni(e,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)N_(e,r,a,l),r=r.sibling}function N_(e,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ni(e,r,a,l),f&2048&&wl(9,r);break;case 1:ni(e,r,a,l);break;case 3:ni(e,r,a,l),f&2048&&(e=null,r.alternate!==null&&(e=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==e&&(r.refCount++,e!=null&&hl(e)));break;case 12:if(f&2048){ni(e,r,a,l),e=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Kt(r,r.return,D)}}else ni(e,r,a,l);break;case 31:ni(e,r,a,l);break;case 13:ni(e,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ni(e,r,a,l):Rl(e,r):d._visibility&2?ni(e,r,a,l):(d._visibility|=2,Ka(e,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Pd(_,r);break;case 24:ni(e,r,a,l),f&2048&&Ud(r.alternate,r);break;default:ni(e,r,a,l)}}function Ka(e,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=e,_=r,S=a,D=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,S,D,f),wl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ka(d,_,S,D,f):Rl(d,_):(Y._visibility|=2,Ka(d,_,S,D,f)),f&&z&2048&&Pd(_.alternate,_);break;case 24:Ka(d,_,S,D,f),f&&z&2048&&Ud(_.alternate,_);break;default:Ka(d,_,S,D,f)}r=r.sibling}}function Rl(e,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=e,l=r,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&Pd(l.alternate,l);break;case 24:Rl(a,l),f&2048&&Ud(l.alternate,l);break;default:Rl(a,l)}r=r.sibling}}var Cl=8192;function Xa(e,r,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)M_(e,r,a),e=e.sibling}function M_(e,r,a){switch(e.tag){case 26:Xa(e,r,a),e.flags&Cl&&e.memoizedState!==null&&RA(a,ei,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,r,a);break;case 3:case 4:var l=ei;ei=Gc(e.stateNode.containerInfo),Xa(e,r,a),ei=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,Xa(e,r,a),Cl=l):Xa(e,r,a));break;default:Xa(e,r,a)}}function x_(e){var r=e.alternate;if(r!==null&&(e=r.child,e!==null)){r.child=null;do r=e.sibling,e.sibling=null,e=r;while(e!==null)}}function Il(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,k_(l,e)}x_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)V_(e),e=e.sibling}function V_(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&Lr(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var r=e.stateNode;e.memoizedState!==null&&r._visibility&2&&(e.return===null||e.return.tag!==13)?(r._visibility&=-3,Mc(e)):Il(e);break;default:Il(e)}}function Mc(e){var r=e.deletions;if((e.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];je=l,k_(l,e)}x_(e)}for(e=e.child;e!==null;){switch(r=e,r.tag){case 0:case 11:case 15:Lr(8,r,r.return),Mc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Mc(r));break;default:Mc(r)}e=e.sibling}}function k_(e,r){for(;je!==null;){var a=je;switch(a.tag){case 0:case 11:case 15:Lr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,je=l;else t:for(a=e;je!==null;){l=je;var f=l.sibling,d=l.return;if(A_(l),l===a){je=null;break t}if(f!==null){f.return=d,je=f;break t}je=d}}}var jw={getCacheForType:function(e){var r=Ye(Re),a=r.data.get(e);return a===void 0&&(a=e(),r.data.set(e,a)),a},cacheSignal:function(){return Ye(Re).controller.signal}},qw=typeof WeakMap=="function"?WeakMap:Map,Ht=0,te=null,Dt=null,Nt=0,Qt=0,bn=null,zr=!1,$a=!1,Ld=!1,rr=0,fe=0,Br=0,Ws=0,zd=0,wn=0,Wa=0,Dl=null,dn=null,Bd=!1,xc=0,P_=0,Vc=1/0,kc=null,jr=null,Ue=0,qr=null,Ja=null,sr=0,jd=0,qd=null,U_=null,Ol=0,Hd=null;function An(){return(Ht&2)!==0&&Nt!==0?Nt&-Nt:K.T!==null?Xd():Pu()}function L_(){if(wn===0)if((Nt&536870912)===0||Pt){var e=ws;ws<<=1,(ws&3932160)===0&&(ws=262144),wn=e}else wn=536870912;return e=Tn.current,e!==null&&(e.flags|=32),wn}function mn(e,r,a){(e===te&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Za(e,0),Hr(e,Nt,wn,!1)),As(e,a),((Ht&2)===0||e!==te)&&(e===te&&((Ht&2)===0&&(Ws|=a),fe===4&&Hr(e,Nt,wn,!1)),Ii(e))}function z_(e,r,a){if((Ht&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&e.expiredLanes)===0||Yn(e,r),f=l?Gw(e,r):Gd(e,r,!0),d=l;do{if(f===0){$a&&!l&&Hr(e,r,0,!1);break}else{if(a=e.current.alternate,d&&!Hw(a)){f=Gd(e,r,!1),d=!1;continue}if(f===2){if(d=r,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;t:{var S=e;f=Dl;var D=S.current.memoizedState.isDehydrated;if(D&&(Za(S,_).flags|=256),_=Gd(S,_,!1),_!==2){if(Ld&&!D){S.errorRecoveryDisabledLanes|=d,Ws|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Za(e,0),Hr(e,r,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Hr(l,r,wn,!zr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=xc+300-rn(),10<f)){if(Hr(l,r,wn,!zr),ci(l,0,!0)!==0)break t;sr=r,l.timeoutHandle=gv(B_.bind(null,l,a,dn,kc,Bd,r,wn,Ws,Wa,zr,d,"Throttled",-0,0),f);break t}B_(l,a,dn,kc,Bd,r,wn,Ws,Wa,zr,d,null,-0,0)}}break}while(!0);Ii(e)}function B_(e,r,a,l,f,d,_,S,D,z,Y,$,B,q){if(e.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},M_(r,d,$);var ct=(d&62914560)===d?xc-rn():(d&4194048)===d?P_-rn():0;if(ct=CA($,ct),ct!==null){sr=d,e.cancelPendingCommit=ct(K_.bind(null,e,r,d,a,l,f,_,S,D,Y,$,null,B,q)),Hr(e,d,_,!z);return}}K_(e,r,d,a,l,f,_,S,D)}function Hw(e){for(var r=e;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!vn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(e,r,a,l){r&=~zd,r&=~Ws,e.suspendedLanes|=r,e.pingedLanes&=~r,l&&(e.warmLanes|=r),l=e.expirationTimes;for(var f=r;0<f;){var d=31-pe(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Rs(e,a,r)}function Pc(){return(Ht&6)===0?(Nl(0),!1):!0}function Fd(){if(Dt!==null){if(Qt===0)var e=Dt.return;else e=Dt,Ki=qs=null,ad(e),Ha=null,dl=0,e=Dt;for(;e!==null;)y_(e.alternate,e),e=e.return;Dt=null}}function Za(e,r){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,uA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sr=0,Fd(),te=e,Dt=a=Yi(e.current,null),Nt=r,Qt=0,bn=null,zr=!1,$a=Yn(e,r),Ld=!1,Wa=wn=zd=Ws=Br=fe=0,dn=Dl=null,Bd=!1,(r&8)!==0&&(r|=r&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=r;0<l;){var f=31-pe(l),d=1<<f;r|=e[f],l&=~d}return rr=r,ic(),a}function j_(e,r){Rt=null,K.H=Tl,r===qa||r===hc?(r=iy(),Qt=3):r===Kf?(r=iy(),Qt=4):Qt=r===Sd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Dt===null&&(fe=1,Ac(e,Vn(r,e.current)))}function q_(){var e=Tn.current;return e===null?!0:(Nt&4194048)===Nt?Ln===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Ln:!1}function H_(){var e=K.H;return K.H=Tl,e===null?Tl:e}function F_(){var e=K.A;return K.A=jw,e}function Uc(){fe=4,zr||(Nt&4194048)!==Nt&&Tn.current!==null||($a=!0),(Br&134217727)===0&&(Ws&134217727)===0||te===null||Hr(te,Nt,wn,!1)}function Gd(e,r,a){var l=Ht;Ht|=2;var f=H_(),d=F_();(te!==e||Nt!==r)&&(kc=null,Za(e,r)),r=!1;var _=fe;t:do try{if(Qt!==0&&Dt!==null){var S=Dt,D=bn;switch(Qt){case 8:Fd(),_=6;break t;case 3:case 2:case 9:case 6:Tn.current===null&&(r=!0);var z=Qt;if(Qt=0,bn=null,to(e,S,D,z),a&&$a){_=0;break t}break;default:z=Qt,Qt=0,bn=null,to(e,S,D,z)}}Fw(),_=fe;break}catch(Y){j_(e,Y)}while(!0);return r&&e.shellSuspendCounter++,Ki=qs=null,Ht=l,K.H=f,K.A=d,Dt===null&&(te=null,Nt=0,ic()),_}function Fw(){for(;Dt!==null;)G_(Dt)}function Gw(e,r){var a=Ht;Ht|=2;var l=H_(),f=F_();te!==e||Nt!==r?(kc=null,Vc=rn()+500,Za(e,r)):$a=Yn(e,r);t:do try{if(Qt!==0&&Dt!==null){r=Dt;var d=bn;e:switch(Qt){case 1:Qt=0,bn=null,to(e,r,d,1);break;case 2:case 9:if(ey(d)){Qt=0,bn=null,Y_(r);break}r=function(){Qt!==2&&Qt!==9||te!==e||(Qt=7),Ii(e)},d.then(r,r);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:ey(d)?(Qt=0,bn=null,Y_(r)):(Qt=0,bn=null,to(e,r,d,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var S=Dt;if(_?Nv(_):S.stateNode.complete){Qt=0,bn=null;var D=S.sibling;if(D!==null)Dt=D;else{var z=S.return;z!==null?(Dt=z,Lc(z)):Dt=null}break e}}Qt=0,bn=null,to(e,r,d,5);break;case 6:Qt=0,bn=null,to(e,r,d,6);break;case 8:Fd(),fe=6;break t;default:throw Error(s(462))}}Yw();break}catch(Y){j_(e,Y)}while(!0);return Ki=qs=null,K.H=l,K.A=f,Ht=a,Dt!==null?0:(te=null,Nt=0,ic(),fe)}function Yw(){for(;Dt!==null&&!Tf();)G_(Dt)}function G_(e){var r=p_(e.alternate,e,rr);e.memoizedProps=e.pendingProps,r===null?Lc(e):Dt=r}function Y_(e){var r=e,a=r.alternate;switch(r.tag){case 15:case 0:r=u_(a,r,r.pendingProps,r.type,void 0,Nt);break;case 11:r=u_(a,r,r.pendingProps,r.type.render,r.ref,Nt);break;case 5:ad(r);default:y_(a,r),r=Dt=Fg(r,rr),r=p_(a,r,rr)}e.memoizedProps=e.pendingProps,r===null?Lc(e):Dt=r}function to(e,r,a,l){Ki=qs=null,ad(r),Ha=null,dl=0;var f=r.return;try{if(Vw(e,f,r,a,Nt)){fe=1,Ac(e,Vn(a,e.current)),Dt=null;return}}catch(d){if(f!==null)throw Dt=f,d;fe=1,Ac(e,Vn(a,e.current)),Dt=null;return}r.flags&32768?(Pt||l===1?e=!0:$a||(Nt&536870912)!==0?e=!1:(zr=e=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Q_(r,e)):Lc(r)}function Lc(e){var r=e;do{if((r.flags&32768)!==0){Q_(r,zr);return}e=r.return;var a=Uw(r.alternate,r,rr);if(a!==null){Dt=a;return}if(r=r.sibling,r!==null){Dt=r;return}Dt=r=e}while(r!==null);fe===0&&(fe=5)}function Q_(e,r){do{var a=Lw(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function K_(e,r,a,l,f,d,_,S,D){e.cancelPendingCommit=null;do zc();while(Ue!==0);if((Ht&6)!==0)throw Error(s(327));if(r!==null){if(r===e.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=xf,wf(e,a,d,_,S,D),e===te&&(Dt=te=null,Nt=0),Ja=r,qr=e,sr=a,jd=d,qd=f,U_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,$w(vr,function(){return Z_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=st.p,st.p=2,_=Ht,Ht|=4;try{zw(e,r,a)}finally{Ht=_,st.p=f,K.T=l}}Ue=1,X_(),$_(),W_()}}function X_(){if(Ue===1){Ue=0;var e=qr,r=Ja,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var f=Ht;Ht|=4;try{D_(r,e);var d=im,_=kg(e.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Vg(S.ownerDocument.documentElement,S)){if(D!==null&&If(S)){var z=D.start,Y=D.end;if(Y===void 0&&(Y=z),"selectionStart"in S)S.selectionStart=z,S.selectionEnd=Math.min(Y,S.value.length);else{var $=S.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),ct=S.textContent.length,gt=Math.min(D.start,ct),Zt=D.end===void 0?gt:Math.min(D.end,ct);!q.extend&&gt>Zt&&(_=Zt,Zt=gt,gt=_);var V=xg(S,gt),O=xg(S,Zt);if(V&&O&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var L=$.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),gt>Zt?(q.addRange(L),q.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),q.addRange(L))}}}}for($=[],q=S;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<$.length;S++){var X=$[S];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Wc=!!nm,im=nm=null}finally{Ht=f,st.p=l,K.T=a}}e.current=r,Ue=2}}function $_(){if(Ue===2){Ue=0;var e=qr,r=Ja,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=st.p;st.p=2;var f=Ht;Ht|=4;try{w_(e,r.alternate,r)}finally{Ht=f,st.p=l,K.T=a}}Ue=3}}function W_(){if(Ue===4||Ue===3){Ue=0,Du();var e=qr,r=Ja,a=sr,l=U_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,Ja=qr=null,J_(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(jr=null),qi(a),r=r.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Gn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,f=st.p,st.p=2,K.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{K.T=r,st.p=f}}(sr&3)!==0&&zc(),Ii(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===Hd?Ol++:(Ol=0,Hd=e):Ol=0,Nl(0)}}function J_(e,r){(e.pooledCacheLanes&=r)===0&&(r=e.pooledCache,r!=null&&(e.pooledCache=null,hl(r)))}function zc(){return X_(),$_(),W_(),Z_()}function Z_(){if(Ue!==5)return!1;var e=qr,r=jd;jd=0;var a=qi(sr),l=K.T,f=st.p;try{st.p=32>a?32:a,K.T=null,a=qd,qd=null;var d=qr,_=sr;if(Ue=0,Ja=qr=null,sr=0,(Ht&6)!==0)throw Error(s(331));var S=Ht;if(Ht|=4,V_(d.current),N_(d,d.current,_,a),Ht=S,Nl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{st.p=f,K.T=l,J_(e,r)}}function tv(e,r,a){r=Vn(a,r),r=Td(e.stateNode,r,2),e=kr(e,r,2),e!==null&&(As(e,2),Ii(e))}function Kt(e,r,a){if(e.tag===3)tv(e,e,a);else for(;r!==null;){if(r.tag===3){tv(r,e,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){e=Vn(a,e),a=e_(2),l=kr(r,a,2),l!==null&&(n_(a,l,r,e),As(l,2),Ii(l));break}}r=r.return}}function Yd(e,r,a){var l=e.pingCache;if(l===null){l=e.pingCache=new qw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Ld=!0,f.add(a),e=Qw.bind(null,e,r,a),r.then(e,e))}function Qw(e,r,a){var l=e.pingCache;l!==null&&l.delete(r),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(Nt&a)===a&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>rn()-xc?(Ht&2)===0&&Za(e,0):zd|=a,Wa===Nt&&(Wa=0)),Ii(e)}function ev(e,r){r===0&&(r=ku()),e=zs(e,r),e!==null&&(As(e,r),Ii(e))}function Kw(e){var r=e.memoizedState,a=0;r!==null&&(a=r.retryLane),ev(e,a)}function Xw(e,r){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),ev(e,a)}function $w(e,r){return Pe(e,r)}var Bc=null,eo=null,Qd=!1,jc=!1,Kd=!1,Fr=0;function Ii(e){e!==eo&&e.next===null&&(eo===null?Bc=eo=e:eo=eo.next=e),jc=!0,Qd||(Qd=!0,Jw())}function Nl(e,r){if(!Kd&&jc){Kd=!0;do for(var a=!1,l=Bc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pe(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,sv(l,d))}else d=Nt,d=ci(l,l===te?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,sv(l,d));l=l.next}while(a);Kd=!1}}function Ww(){nv()}function nv(){jc=Qd=!1;var e=0;Fr!==0&&lA()&&(e=Fr);for(var r=rn(),a=null,l=Bc;l!==null;){var f=l.next,d=iv(l,r);d===0?(l.next=null,a===null?Bc=f:a.next=f,f===null&&(eo=a)):(a=l,(e!==0||(d&3)!==0)&&(jc=!0)),l=f}Ue!==0&&Ue!==5||Nl(e),Fr!==0&&(Fr=0)}function iv(e,r){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-pe(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=bf(S,r)):D<=r&&(e.expiredLanes|=S),d&=~S}if(r=te,a=Nt,a=ci(e,e===r?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===r&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&_r(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yn(e,a)){if(r=a&-a,r===e.callbackPriority)return r;switch(l!==null&&_r(l),qi(a)){case 2:case 8:a=jo;break;case 32:a=vr;break;case 268435456:a=Ou;break;default:a=vr}return l=rv.bind(null,e),a=Pe(a,l),e.callbackPriority=r,e.callbackNode=a,r}return l!==null&&l!==null&&_r(l),e.callbackPriority=2,e.callbackNode=null,2}function rv(e,r){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zc()&&e.callbackNode!==a)return null;var l=Nt;return l=ci(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(z_(e,l,r),iv(e,rn()),e.callbackNode!=null&&e.callbackNode===a?rv.bind(null,e):null)}function sv(e,r){if(zc())return null;z_(e,r,!0)}function Jw(){cA(function(){(Ht&6)!==0?Pe(Bo,Ww):nv()})}function Xd(){if(Fr===0){var e=Ba;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),Fr=e}return Fr}function av(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Aa(""+e)}function ov(e,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,e.id&&a.setAttribute("form",e.id),r.parentNode.insertBefore(a,r),e=new FormData(e),a.parentNode.removeChild(a),e}function Zw(e,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=av((f[ze]||null).action),_=l.submitter;_&&(r=(r=_[ze]||null)?av(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new Ti("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fr!==0){var D=_?ov(f,_):new FormData(f);pd(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?ov(f,_):new FormData(f),pd(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var $d=0;$d<Mf.length;$d++){var Wd=Mf[$d],tA=Wd.toLowerCase(),eA=Wd[0].toUpperCase()+Wd.slice(1);ti(tA,"on"+eA)}ti(Lg,"onAnimationEnd"),ti(zg,"onAnimationIteration"),ti(Bg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(yw,"onTransitionRun"),ti(_w,"onTransitionStart"),ti(vw,"onTransitionCancel"),ti(jg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function lv(e,r){r=(r&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,z=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=z;try{d(f)}catch(Y){nc(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,z=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=z;try{d(f)}catch(Y){nc(Y)}f.currentTarget=null,d=D}}}}function Ot(e,r){var a=r[Ea];a===void 0&&(a=r[Ea]=new Set);var l=e+"__bubble";a.has(l)||(uv(r,e,2,!1),a.add(l))}function Jd(e,r,a){var l=0;r&&(l|=4),uv(a,e,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Zd(e){if(!e[qc]){e[qc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(nA.has(a)||Jd(a,!1,e),Jd(a,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[qc]||(r[qc]=!0,Jd("selectionchange",!1,r))}}function uv(e,r,a,l){switch(Lv(r)){case 2:var f=OA;break;case 8:f=NA;break;default:f=mm}a=f.bind(null,r,a,e),f=void 0,!Ns||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(r,a,{capture:!0,passive:f}):e.addEventListener(r,a,!0):f!==void 0?e.addEventListener(r,a,{passive:f}):e.addEventListener(r,a,!1)}function tm(e,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=mi(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Ar(function(){var z=d,Y=On(a),$=[];t:{var B=qg.get(e);if(B!==void 0){var q=Ti,ct=e;switch(e){case"keypress":if(xs(a)===0)break t;case"keydown":case"keyup":q=Zu;break;case"focusin":ct="focus",q=ks;break;case"focusout":ct="blur",q=ks;break;case"beforeblur":case"afterblur":q=ks;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=g;break;case Lg:case zg:case Bg:q=Yu;break;case jg:q=b;break;case"scroll":case"scrollend":q=nl;break;case"wheel":q=j;break;case"copy":case"cut":case"paste":q=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gi;break;case"toggle":case"beforetoggle":q=At}var gt=(r&4)!==0,Zt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=z,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||V===null||(X=$n(O,V),X!=null&&gt.push(xl(O,X,L))),Zt)break;O=O.return}0<gt.length&&(B=new q(B,ct,null,a,Y),$.push({event:B,listeners:gt}))}}if((r&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&a!==Zo&&(ct=a.relatedTarget||a.fromElement)&&(mi(ct)||ct[fi]))break t;if((q||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ct=a.relatedTarget||a.toElement,q=z,ct=ct?mi(ct):null,ct!==null&&(Zt=u(ct),gt=ct.tag,ct!==Zt||gt!==5&&gt!==27&&gt!==6)&&(ct=null)):(q=null,ct=z),q!==ct)){if(gt=il,X="onMouseLeave",V="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Gi,X="onPointerLeave",V="onPointerEnter",O="pointer"),Zt=q==null?B:yn(q),L=ct==null?B:yn(ct),B=new gt(X,O+"leave",q,a,Y),B.target=Zt,B.relatedTarget=L,X=null,mi(Y)===z&&(gt=new gt(V,O+"enter",ct,a,Y),gt.target=L,gt.relatedTarget=Zt,X=gt),Zt=X,q&&ct)e:{for(gt=iA,V=q,O=ct,L=0,X=V;X;X=gt(X))L++;X=0;for(var dt=O;dt;dt=gt(dt))X++;for(;0<L-X;)V=gt(V),L--;for(;0<X-L;)O=gt(O),X--;for(;L--;){if(V===O||O!==null&&V===O.alternate){gt=V;break e}V=gt(V),O=gt(O)}gt=null}else gt=null;q!==null&&cv($,B,q,gt,!1),ct!==null&&Zt!==null&&cv($,Zt,ct,gt,!0)}}t:{if(B=z?yn(z):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Bt=Cg;else if(Ag(B))if(Ig)Bt=mw;else{Bt=fw;var ht=hw}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&wa(z.elementType)&&(Bt=Cg):Bt=dw;if(Bt&&(Bt=Bt(e,z))){Rg($,Bt,a,Y);break t}ht&&ht(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&$o(B,"number",B.value)}switch(ht=z?yn(z):window,e){case"focusin":(Ag(ht)||ht.contentEditable==="true")&&(Ma=ht,Df=z,ll=null);break;case"focusout":ll=Df=Ma=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Pg($,a,Y);break;case"selectionchange":if(gw)break;case"keydown":case"keyup":Pg($,a,Y)}var It;if(qt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Na?Ps(e,a)&&(Mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Mt="onCompositionStart");Mt&&(wi&&a.locale!=="ko"&&(Na||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Na&&(It=el()):(Ei=Y,tl="value"in Ei?Ei.value:Ei.textContent,Na=!0)),ht=Hc(z,Mt),0<ht.length&&(Mt=new bi(Mt,e,null,a,Y),$.push({event:Mt,listeners:ht}),It?Mt.data=It:(It=Oa(a),It!==null&&(Mt.data=It)))),(It=Mn?ow(e,a):lw(e,a))&&(Mt=Hc(z,"onBeforeInput"),0<Mt.length&&(ht=new bi("onBeforeInput","beforeinput",null,a,Y),$.push({event:ht,listeners:Mt}),ht.data=It)),Zw($,e,z,a,Y)}lv($,r)})}function xl(e,r,a){return{instance:e,listener:r,currentTarget:a}}function Hc(e,r){for(var a=r+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(e,a),f!=null&&l.unshift(xl(e,f,d)),f=$n(e,r),f!=null&&l.push(xl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function iA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cv(e,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,z=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||z===null||(D=z,f?(z=$n(a,d),z!=null&&_.unshift(xl(a,z,D))):f||(z=$n(a,d),z!=null&&_.push(xl(a,z,D)))),a=a.return}_.length!==0&&e.push({event:r,listeners:_})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function hv(e){return(typeof e=="string"?e:""+e).replace(rA,`
`).replace(sA,"")}function fv(e,r){return r=hv(r),hv(e)===r}function Jt(e,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&un(e,""+l);break;case"className":_n(e,"class",l);break;case"tabIndex":_n(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(e,a,l);break;case"style":Jo(e,l,d);break;case"data":if(r!=="object"){_n(e,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Jt(e,r,"name",f.name,f,null),Jt(e,r,"formEncType",f.formEncType,f,null),Jt(e,r,"formMethod",f.formMethod,f,null),Jt(e,r,"formTarget",f.formTarget,f,null)):(Jt(e,r,"encType",f.encType,f,null),Jt(e,r,"method",f.method,f,null),Jt(e,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Aa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),Sa(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hu.get(a)||a,Sa(e,a,l))}}function em(e,r,a,l,f,d){switch(a){case"style":Jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Ot("scroll",e);break;case"onScrollEnd":l!=null&&Ot("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=e[ze]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(r,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Sa(e,a,l)}}}function Ke(e,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,d,_,a,null)}}f&&Jt(e,r,"srcSet",a.srcSet,a,null),l&&Jt(e,r,"src",a.src,a,null);return;case"input":Ot("invalid",e);var S=d=_=f=null,D=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":z=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Jt(e,r,l,Y,a,null)}}Bu(e,d,S,D,z,_,f,!1);return;case"select":Ot("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Jt(e,r,f,S,a,null)}r=d,a=_,e.multiple=!!l,r!=null?Tr(e,!!l,r,!1):a!=null&&Tr(e,!!l,a,!0);return;case"textarea":Ot("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Jt(e,r,_,S,a,null)}Sr(e,l,f,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,r,D,l,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Ot(Ml[l],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Jt(e,r,z,l,a,null)}return;default:if(wa(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&em(e,r,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Jt(e,r,S,l,a,null))}function aA(e,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,z=null,Y=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=$;default:l.hasOwnProperty(q)||Jt(e,r,q,null,l,$)}}for(var B in l){var q=l[B];if($=a[B],l.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":d=q;break;case"name":f=q;break;case"checked":z=q;break;case"defaultChecked":Y=q;break;case"value":_=q;break;case"defaultValue":S=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,r));break;default:q!==$&&Jt(e,r,B,q,l,$)}}ba(e,_,S,D,z,Y,d,f);return;case"select":q=_=S=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(d)||Jt(e,r,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":B=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&Jt(e,r,f,d,l,D)}r=S,a=_,l=q,B!=null?Tr(e,!!a,B,!1):!!l!=!!a&&(r!=null?Tr(e,!!a,r,!0):Tr(e,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Jt(e,r,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":B=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Jt(e,r,_,f,l,d)}ju(e,B,q);return;case"option":for(var ct in a)B=a[ct],a.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&(ct==="selected"?e.selected=!1:Jt(e,r,ct,null,l,B));for(D in l)B=l[D],q=a[D],l.hasOwnProperty(D)&&B!==q&&(B!=null||q!=null)&&(D==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Jt(e,r,D,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)B=a[gt],a.hasOwnProperty(gt)&&B!=null&&!l.hasOwnProperty(gt)&&Jt(e,r,gt,null,l,B);for(z in l)if(B=l[z],q=a[z],l.hasOwnProperty(z)&&B!==q&&(B!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,r));break;default:Jt(e,r,z,B,l,q)}return;default:if(wa(r)){for(var Zt in a)B=a[Zt],a.hasOwnProperty(Zt)&&B!==void 0&&!l.hasOwnProperty(Zt)&&em(e,r,Zt,void 0,l,B);for(Y in l)B=l[Y],q=a[Y],!l.hasOwnProperty(Y)||B===q||B===void 0&&q===void 0||em(e,r,Y,B,l,q);return}}for(var V in a)B=a[V],a.hasOwnProperty(V)&&B!=null&&!l.hasOwnProperty(V)&&Jt(e,r,V,null,l,B);for($ in l)B=l[$],q=a[$],!l.hasOwnProperty($)||B===q||B==null&&q==null||Jt(e,r,$,B,l,q)}function dv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&dv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],z=D.startTime;if(z>S)break;var Y=D.transferSize,$=D.initiatorType;Y&&dv($)&&(D=D.responseEnd,_+=Y*(D<S?1:(S-z)/(D-z)))}if(--l,r+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return r/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var nm=null,im=null;function Fc(e){return e.nodeType===9?e:e.ownerDocument}function mv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pv(e,r){if(e===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&r==="foreignObject"?0:e}function rm(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sm=null;function lA(){var e=window.event;return e&&e.type==="popstate"?e===sm?!1:(sm=e,!0):(sm=null,!1)}var gv=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,yv=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof yv<"u"?function(e){return yv.resolve(null).then(e).catch(hA)}:gv;function hA(e){setTimeout(function(){throw e})}function Gr(e){return e==="head"}function _v(e,r){var a=r,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),so(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Vl(e.ownerDocument.body);a=f}while(a);so(r)}function vv(e,r){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function am(e){var r=e.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function fA(e,r,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[di])switch(r){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(r==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function dA(e,r,a){if(r==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function Ev(e,r){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=zn(e.nextSibling),e===null))return null;return e}function om(e){return e.data==="$?"||e.data==="$~"}function lm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function mA(e,r){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=r;else if(e.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function zn(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return e}var um=null;function Tv(e){e=e.nextSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(r===0)return zn(e.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}e=e.nextSibling}return null}function Sv(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return e;r--}else a!=="/$"&&a!=="/&"||r++}e=e.previousSibling}return null}function bv(e,r,a){switch(r=Fc(a),e){case"html":if(e=r.documentElement,!e)throw Error(s(452));return e;case"head":if(e=r.head,!e)throw Error(s(453));return e;case"body":if(e=r.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Ta(e)}var Bn=new Map,wv=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ar=st.d;st.d={f:pA,r:gA,D:yA,C:_A,L:vA,m:EA,X:SA,S:TA,M:bA};function pA(){var e=ar.f(),r=Pc();return e||r}function gA(e){var r=Dn(e);r!==null&&r.tag===5&&r.type==="form"?jy(r):ar.r(e)}var no=typeof document>"u"?null:document;function Av(e,r,a){var l=no;if(l&&typeof r=="string"&&r){var f=ln(r);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),wv.has(f)||(wv.add(f),e={rel:e,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Ke(r,"link",e),we(r),l.head.appendChild(r)))}}function yA(e){ar.D(e),Av("dns-prefetch",e,null)}function _A(e,r){ar.C(e,r),Av("preconnect",e,r)}function vA(e,r,a){ar.L(e,r,a);var l=no;if(l&&e&&r){var f='link[rel="preload"][as="'+ln(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(r){case"style":d=io(e);break;case"script":d=ro(e)}Bn.has(d)||(e=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:e,as:r},a),Bn.set(d,e),l.querySelector(f)!==null||r==="style"&&l.querySelector(kl(d))||r==="script"&&l.querySelector(Pl(d))||(r=l.createElement("link"),Ke(r,"link",e),we(r),l.head.appendChild(r)))}}function EA(e,r){ar.m(e,r);var a=no;if(a&&e){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(e)}if(!Bn.has(d)&&(e=T({rel:"modulepreload",href:e},r),Bn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Pl(d)))return}l=a.createElement("link"),Ke(l,"link",e),we(l),a.head.appendChild(l)}}}function TA(e,r,a){ar.S(e,r,a);var l=no;if(l&&e){var f=pi(l).hoistableStyles,d=io(e);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(kl(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":r},a),(a=Bn.get(d))&&cm(e,a);var D=_=l.createElement("link");we(D),Ke(D,"link",e),D._p=new Promise(function(z,Y){D.onload=z,D.onerror=Y}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Yc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function SA(e,r){ar.X(e,r);var a=no;if(a&&e){var l=pi(a).hoistableScripts,f=ro(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0},r),(r=Bn.get(f))&&hm(e,r),d=a.createElement("script"),we(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function bA(e,r){ar.M(e,r);var a=no;if(a&&e){var l=pi(a).hoistableScripts,f=ro(e),d=l.get(f);d||(d=a.querySelector(Pl(f)),d||(e=T({src:e,async:!0,type:"module"},r),(r=Bn.get(f))&&hm(e,r),d=a.createElement("script"),we(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Rv(e,r,a,l){var f=(f=Ct.current)?Gc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=io(a.href),a=pi(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=io(a.href);var d=pi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(kl(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(e,a),d||wA(f,e,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ro(a),a=pi(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function io(e){return'href="'+ln(e)+'"'}function kl(e){return'link[rel="stylesheet"]['+e+"]"}function Cv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function wA(e,r,a,l){e.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=e.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ke(r,"link",a),we(r),e.head.appendChild(r))}function ro(e){return'[src="'+ln(e)+'"]'}function Pl(e){return"script[async]"+e}function Iv(e,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return r.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Ke(l,"style",f),Yc(l,a.precedence,e),r.instance=l;case"stylesheet":f=io(a.href);var d=e.querySelector(kl(f));if(d)return r.state.loading|=4,r.instance=d,we(d),d;l=Cv(a),(f=Bn.get(f))&&cm(l,f),d=(e.ownerDocument||e).createElement("link"),we(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ke(d,"link",l),r.state.loading|=4,Yc(d,a.precedence,e),r.instance=d;case"script":return d=ro(a.src),(f=e.querySelector(Pl(d)))?(r.instance=f,we(f),f):(l=a,(f=Bn.get(d))&&(l=T({},a),hm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),we(f),Ke(f,"link",l),e.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,a.precedence,e));return r.instance}function Yc(e,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(e,r.firstChild))}function cm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.title==null&&(e.title=r.title)}function hm(e,r){e.crossOrigin==null&&(e.crossOrigin=r.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=r.referrerPolicy),e.integrity==null&&(e.integrity=r.integrity)}var Qc=null;function Dv(e,r,a){if(Qc===null){var l=new Map,f=Qc=new Map;f.set(a,l)}else f=Qc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[di]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Ov(e,r,a){e=e.ownerDocument||e,e.head.insertBefore(a,r==="title"?e.querySelector("head > title"):null)}function AA(e,r,a){if(a===1||r.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(e=r.disabled,typeof r.precedence=="string"&&e==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Nv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function RA(e,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=io(l.href),d=r.querySelector(kl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(e.count++,e=Kc.bind(e),r.then(e,e)),a.state.loading|=4,a.instance=d,we(d);return}d=r.ownerDocument||r,l=Cv(l),(f=Bn.get(f))&&cm(l,f),d=d.createElement("link"),we(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kc.bind(e),r.addEventListener("load",a),r.addEventListener("error",a))}}var fm=0;function CA(e,r){return e.stylesheets&&e.count===0&&$c(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+r);0<e.imgBytes&&fm===0&&(fm=62500*oA());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&$c(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>fm?50:800)+r);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xc=null;function $c(e,r){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xc=new Map,r.forEach(IA,e),Xc=null,Kc.call(e))}function IA(e,r){if(!(r.state.loading&4)){var a=Xc.get(e);if(a)var l=a.get(null);else{a=new Map,Xc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),r.state.loading|=4}}var Ul={$$typeof:it,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function DA(e,r,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Mv(e,r,a,l,f,d,_,S,D,z,Y,$){return e=new DA(e,r,a,_,D,z,Y,$,S),r=1,d===!0&&(r|=24),d=En(3,null,null,r),e.current=d,d.stateNode=e,r=Gf(),r.refCount++,e.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Xf(d),e}function xv(e){return e?(e=ka,e):ka}function Vv(e,r,a,l,f,d){f=xv(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(e,l,r),a!==null&&(mn(a,e,r),pl(a,e,r))}function kv(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<r?a:r}}function dm(e,r){kv(e,r),(e=e.alternate)&&kv(e,r)}function Pv(e){if(e.tag===13||e.tag===31){var r=zs(e,67108864);r!==null&&mn(r,e,67108864),dm(e,67108864)}}function Uv(e){if(e.tag===13||e.tag===31){var r=An();r=Cs(r);var a=zs(e,r);a!==null&&mn(a,e,r),dm(e,r)}}var Wc=!0;function OA(e,r,a,l){var f=K.T;K.T=null;var d=st.p;try{st.p=2,mm(e,r,a,l)}finally{st.p=d,K.T=f}}function NA(e,r,a,l){var f=K.T;K.T=null;var d=st.p;try{st.p=8,mm(e,r,a,l)}finally{st.p=d,K.T=f}}function mm(e,r,a,l){if(Wc){var f=pm(l);if(f===null)tm(e,r,l,Jc,a),zv(e,l);else if(xA(f,e,r,a,l))l.stopPropagation();else if(zv(e,l),r&4&&-1<MA.indexOf(e)){for(;f!==null;){var d=Dn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-pe(_);S.entanglements[1]|=D,_&=~D}Ii(d),(Ht&6)===0&&(Vc=rn()+500,Nl(0))}}break;case 31:case 13:S=zs(d,2),S!==null&&mn(S,d,2),Pc(),dm(d,2)}if(d=pm(l),d===null&&tm(e,r,l,Jc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else tm(e,r,l,null,a)}}function pm(e){return e=On(e),gm(e)}var Jc=null;function gm(e){if(Jc=null,e=mi(e),e!==null){var r=u(e);if(r===null)e=null;else{var a=r.tag;if(a===13){if(e=h(r),e!==null)return e;e=null}else if(a===31){if(e=m(r),e!==null)return e;e=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null)}}return Jc=e,null}function Lv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Bo:return 2;case jo:return 8;case vr:case Sf:return 32;case Ou:return 268435456;default:return 32}default:return 32}}var ym=!1,Yr=null,Qr=null,Kr=null,Ll=new Map,zl=new Map,Xr=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zv(e,r){switch(e){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ll.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(r.pointerId)}}function Bl(e,r,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Dn(r),r!==null&&Pv(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),e)}function xA(e,r,a,l,f){switch(r){case"focusin":return Yr=Bl(Yr,e,r,a,l,f),!0;case"dragenter":return Qr=Bl(Qr,e,r,a,l,f),!0;case"mouseover":return Kr=Bl(Kr,e,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ll.set(d,Bl(Ll.get(d)||null,e,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,zl.set(d,Bl(zl.get(d)||null,e,r,a,l,f)),!0}return!1}function Bv(e){var r=mi(e.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){e.blockedOn=r,Qn(e.priority,function(){Uv(a)});return}}else if(r===31){if(r=m(a),r!==null){e.blockedOn=r,Qn(e.priority,function(){Uv(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zc(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var a=pm(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return r=Dn(a),r!==null&&Pv(r),e.blockedOn=a,!1;r.shift()}return!0}function jv(e,r,a){Zc(e)&&a.delete(r)}function VA(){ym=!1,Yr!==null&&Zc(Yr)&&(Yr=null),Qr!==null&&Zc(Qr)&&(Qr=null),Kr!==null&&Zc(Kr)&&(Kr=null),Ll.forEach(jv),zl.forEach(jv)}function th(e,r){e.blockedOn===r&&(e.blockedOn=null,ym||(ym=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,VA)))}var eh=null;function qv(e){eh!==e&&(eh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===e&&(eh=null);for(var r=0;r<e.length;r+=3){var a=e[r],l=e[r+1],f=e[r+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var d=Dn(a);d!==null&&(e.splice(r,3),r-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function so(e){function r(D){return th(D,e)}Yr!==null&&th(Yr,e),Qr!==null&&th(Qr,e),Kr!==null&&th(Kr,e),Ll.forEach(r),zl.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Bv(a),a.blockedOn===null&&Xr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[ze]||null;if(typeof d=="function")_||qv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[ze]||null)S=_.formAction;else if(gm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qv(a)}}}function Hv(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function _m(e){this._internalRoot=e}nh.prototype.render=_m.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();Vv(a,l,e,r,null,null)},nh.prototype.unmount=_m.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;Vv(e.current,2,null,e,null,null),Pc(),r[fi]=null}};function nh(e){this._internalRoot=e}nh.prototype.unstable_scheduleHydration=function(e){if(e){var r=Pu();e={blockedOn:null,target:e,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,e),a===0&&Bv(e)}};var Fv=t.version;if(Fv!=="19.2.4")throw Error(s(527,Fv,"19.2.4"));st.findDOMNode=function(e){var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(r),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var kA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Gn=ih.inject(kA),He=ih}catch{}}return ql.createRoot=function(e,r){if(!o(e))throw Error(s(299));var a=!1,l="",f=Wy,d=Jy,_=Zy;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=Mv(e,1,!1,null,null,a,l,null,f,d,_,Hv),e[fi]=r.current,Zd(e),new _m(r)},ql.hydrateRoot=function(e,r,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=Wy,_=Jy,S=Zy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),r=Mv(e,1,!0,r,a??null,l,f,D,d,_,S,Hv),r.context=xv(null),a=r.current,l=An(),l=Cs(l),f=Vr(l),f.callback=null,kr(a,f,l),a=l,r.current.lanes=a,As(r,a),Ii(r),e[fi]=r.current,Zd(e),new nh(r)},ql.version="19.2.4",ql}var tE;function QA(){if(tE)return Tm.exports;tE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Tm.exports=YA(),Tm.exports}var KA=QA();var eE="popstate";function XA(i={}){function t(s,o){let{pathname:u,search:h,hash:m}=s.location;return Fm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ru(o)}return WA(t,n,null,i)}function ue(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Ui(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $A(){return Math.random().toString(36).substring(2,10)}function nE(i,t){return{usr:i.state,key:i.key,idx:t}}function Fm(i,t,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Io(t):t,state:n,key:t&&t.key||s||$A()}}function ru({pathname:i="/",search:t="",hash:n=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Io(i){let t={};if(i){let n=i.indexOf("#");n>=0&&(t.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function WA(i,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let F=E(),nt=F==null?null:F-y;y=F,p&&p({action:m,location:Q.location,delta:nt})}function w(F,nt){m="PUSH";let et=Fm(Q.location,F,nt);y=E()+1;let it=nE(et,y),ft=Q.createHref(et);try{h.pushState(it,"",ft)}catch(wt){if(wt instanceof DOMException&&wt.name==="DataCloneError")throw wt;o.location.assign(ft)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(F,nt){m="REPLACE";let et=Fm(Q.location,F,nt);y=E();let it=nE(et,y),ft=Q.createHref(et);h.replaceState(it,"",ft),u&&p&&p({action:m,location:Q.location,delta:0})}function G(F){return JA(F)}let Q={get action(){return m},get location(){return i(o,h)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(eE,T),p=F,()=>{o.removeEventListener(eE,T),p=null}},createHref(F){return t(o,F)},createURL:G,encodeLocation(F){let nt=G(F);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:w,replace:k,go(F){return h.go(F)}};return Q}function JA(i,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ue(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:ru(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function KT(i,t,n="/"){return ZA(i,t,n,!1)}function ZA(i,t,n,s){let o=typeof t=="string"?Io(t):t,u=fr(o.pathname||"/",n);if(u==null)return null;let h=XT(i);t1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=h1(u);m=u1(h[p],y,s)}return m}function XT(i,t=[],n=[],s="",o=!1){let u=(h,m,p=o,y)=>{let E={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ue(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=hr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(ue(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),XT(h.children,t,w,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:o1(T,h.index),routesMeta:w})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of $T(h.path))u(h,m,!0,p)}),t}function $T(i){let t=i.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=$T(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function t1(i){i.sort((t,n)=>t.score!==n.score?n.score-t.score:l1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var e1=/^:[\w-]+$/,n1=3,i1=2,r1=1,s1=10,a1=-2,iE=i=>i==="*";function o1(i,t){let n=i.split("/"),s=n.length;return n.some(iE)&&(s+=a1),t&&(s+=i1),n.filter(o=>!iE(o)).reduce((o,u)=>o+(e1.test(u)?n1:u===""?r1:s1),s)}function l1(i,t){return i.length===t.length&&i.slice(0,-1).every((s,o)=>s===t[o])?i[i.length-1]-t[t.length-1]:0}function u1(i,t,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:hr([u,T.pathname]),pathnameBase:p1(hr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=hr([u,T.pathnameBase]))}return h}function Rh(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=c1(i.path,i.caseSensitive,i.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:T},w)=>{if(E==="*"){let G=m[w]||"";h=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function c1(i,t=!1,n=!0){Ui(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function h1(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ui(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function fr(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function d1(i,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Io(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=rE(n.substring(1),"/"):u=rE(n,t)):u=t,{pathname:u,search:g1(s),hash:y1(o)}}function rE(i,t){let n=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,t,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m1(i){return i.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function WT(i){let t=m1(i);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function JT(i,t,n,s=!1){let o;typeof i=="string"?o=Io(i):(o={...i},ue(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ue(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ue(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=d1(o,m),y=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),p1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),g1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,y1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,_1=class{constructor(i,t,n,s=!1){this.status=i,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function v1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function E1(i){return i.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ZT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function t0(i,t){let n=i;if(typeof n!="string"||!f1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(ZT)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=fr(h.pathname,t);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch{Ui(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var e0=["POST","PUT","PATCH","DELETE"];new Set(e0);var T1=["GET",...e0];new Set(T1);var Do=H.createContext(null);Do.displayName="DataRouter";var Qh=H.createContext(null);Qh.displayName="DataRouterState";var S1=H.createContext(!1),n0=H.createContext({isTransitioning:!1});n0.displayName="ViewTransition";var b1=H.createContext(new Map);b1.displayName="Fetchers";var w1=H.createContext(null);w1.displayName="Await";var Hn=H.createContext(null);Hn.displayName="Navigation";var du=H.createContext(null);du.displayName="Location";var Bi=H.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var vp=H.createContext(null);vp.displayName="RouteError";var i0="REACT_ROUTER_ERROR",A1="REDIRECT",R1="ROUTE_ERROR_RESPONSE";function C1(i){if(i.startsWith(`${i0}:${A1}:{`))try{let t=JSON.parse(i.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function I1(i){if(i.startsWith(`${i0}:${R1}:{`))try{let t=JSON.parse(i.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new _1(t.status,t.statusText,t.data)}catch{}}function D1(i,{relative:t}={}){ue(mu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Hn),{hash:o,pathname:u,search:h}=pu(i,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function mu(){return H.useContext(du)!=null}function fa(){return ue(mu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(du).location}var r0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s0(i){H.useContext(Hn).static||H.useLayoutEffect(i)}function O1(){let{isDataRoute:i}=H.useContext(Bi);return i?F1():N1()}function N1(){ue(mu(),"useNavigate() may be used only in the context of a <Router> component.");let i=H.useContext(Do),{basename:t,navigator:n}=H.useContext(Hn),{matches:s}=H.useContext(Bi),{pathname:o}=fa(),u=JSON.stringify(WT(s)),h=H.useRef(!1);return s0(()=>{h.current=!0}),H.useCallback((p,y={})=>{if(Ui(h.current,r0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=JT(p,JSON.parse(u),o,y.relative==="path");i==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:hr([t,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[t,n,u,o,i])}H.createContext(null);function M1(){let{matches:i}=H.useContext(Bi),t=i[i.length-1];return t?t.params:{}}function pu(i,{relative:t}={}){let{matches:n}=H.useContext(Bi),{pathname:s}=fa(),o=JSON.stringify(WT(n));return H.useMemo(()=>JT(i,JSON.parse(o),s,t==="path"),[i,o,s,t])}function x1(i,t){return a0(i,t)}function a0(i,t,n,s,o){ue(mu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Hn),{matches:h}=H.useContext(Bi),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let et=T&&T.path||"";l0(y,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let w=fa(),k;if(t){let et=typeof t=="string"?Io(t):t;ue(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),k=et}else k=w;let G=k.pathname||"/",Q=G;if(E!=="/"){let et=E.replace(/^\//,"").split("/");Q="/"+G.replace(/^\//,"").split("/").slice(et.length).join("/")}let F=KT(i,{pathname:Q});Ui(T||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ui(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=L1(F&&F.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:hr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:hr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),h,n,s,o);return t&&nt?H.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},nt):nt}function V1(){let i=H1(),t=v1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:o},n):null,h)}var k1=H.createElement(V1,null),o0=class extends H.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){this.props.onError?this.props.onError(i,t):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=I1(i.digest);n&&(i=n)}let t=i!==void 0?H.createElement(Bi.Provider,{value:this.props.routeContext},H.createElement(vp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?H.createElement(P1,{error:i},t):t}};o0.contextType=S1;var Rm=new WeakMap;function P1({children:i,error:t}){let{basename:n}=H.useContext(Hn);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=C1(t.digest);if(s){let o=Rm.get(t);if(o)throw o;let u=t0(s.location,n);if(ZT&&!Rm.get(t))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Rm.set(t,h),h}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function U1({routeContext:i,match:t,children:n}){let s=H.useContext(Do);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),H.createElement(Bi.Provider,{value:i},n)}function L1(i,t=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&h?.[T.route.id]!==void 0);ue(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:k}=n,G=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let y=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:E1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,G=!1,Q=null,F=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,Q=T.route.errorElement||k1,m&&(p<0&&w===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,F=null):p===w&&(G=!0,F=T.route.hydrateFallbackElement||null)));let nt=t.concat(u.slice(0,w+1)),et=()=>{let it;return k?it=Q:G?it=F:T.route.Component?it=H.createElement(T.route.Component,null):T.route.element?it=T.route.element:it=E,H.createElement(U1,{match:T,routeContext:{outlet:E,matches:nt,isDataRoute:n!=null},children:it})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?H.createElement(o0,{location:n.location,revalidation:n.revalidation,component:Q,error:k,children:et(),routeContext:{outlet:null,matches:nt,isDataRoute:!0},onError:y}):et()},null)}function Ep(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z1(i){let t=H.useContext(Do);return ue(t,Ep(i)),t}function B1(i){let t=H.useContext(Qh);return ue(t,Ep(i)),t}function j1(i){let t=H.useContext(Bi);return ue(t,Ep(i)),t}function Tp(i){let t=j1(i),n=t.matches[t.matches.length-1];return ue(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function q1(){return Tp("useRouteId")}function H1(){let i=H.useContext(vp),t=B1("useRouteError"),n=Tp("useRouteError");return i!==void 0?i:t.errors?.[n]}function F1(){let{router:i}=z1("useNavigate"),t=Tp("useNavigate"),n=H.useRef(!1);return s0(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Ui(n.current,r0),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:t,...u}))},[i,t])}var sE={};function l0(i,t,n){!t&&!sE[i]&&(sE[i]=!0,Ui(!1,n))}H.memo(G1);function G1({routes:i,future:t,state:n,onError:s}){return a0(i,void 0,n,s,t)}function Zr(i){ue(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Y1({basename:i="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){ue(!mu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=Io(n));let{pathname:y="/",search:E="",hash:T="",state:w=null,key:k="default"}=n,G=H.useMemo(()=>{let Q=fr(y,m);return Q==null?null:{location:{pathname:Q,search:E,hash:T,state:w,key:k},navigationType:s}},[m,y,E,T,w,k,s]);return Ui(G!=null,`<Router basename="${m}"> is not able to match the URL "${y}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:H.createElement(Hn.Provider,{value:p},H.createElement(du.Provider,{children:t,value:G}))}function Q1({children:i,location:t}){return x1(Gm(i),t)}function Gm(i,t=[]){let n=[];return H.Children.forEach(i,(s,o)=>{if(!H.isValidElement(s))return;let u=[...t,o];if(s.type===H.Fragment){n.push.apply(n,Gm(s.props.children,u));return}ue(s.type===Zr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ue(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Gm(s.props.children,u)),n.push(h)}),n}var mh="get",ph="application/x-www-form-urlencoded";function Kh(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function K1(i){return Kh(i)&&i.tagName.toLowerCase()==="button"}function X1(i){return Kh(i)&&i.tagName.toLowerCase()==="form"}function $1(i){return Kh(i)&&i.tagName.toLowerCase()==="input"}function W1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function J1(i,t){return i.button===0&&(!t||t==="_self")&&!W1(i)}var rh=null;function Z1(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!tR.has(i)?(Ui(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):i}function eR(i,t){let n,s,o,u,h;if(X1(i)){let m=i.getAttribute("action");s=m?fr(m,t):null,n=i.getAttribute("method")||mh,o=Cm(i.getAttribute("enctype"))||ph,u=new FormData(i)}else if(K1(i)||$1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,t):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||mh,o=Cm(i.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||ph,u=new FormData(m,i),!Z1()){let{name:y,type:E,value:T}=i;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,T)}}else{if(Kh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=mh,s=null,o=ph,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function nR(i,t,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:t&&fr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function iR(i,t){if(i.id in t)return t[i.id];try{let n=await import(i.module);return t[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function sR(i,t,n){let s=await Promise.all(i.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await iR(u,n);return h.links?h.links():[]}return[]}));return uR(s.flat(1).filter(rR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aE(i,t,n,s,o,u){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function aR(i,t,{includeHydrateFallback:n}={}){return oR(i.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function oR(i){return[...new Set(i)]}function lR(i){let t={},n=Object.keys(i).sort();for(let s of n)t[s]=i[s];return t}function uR(i,t){let n=new Set;return new Set(t),i.reduce((s,o)=>{let u=JSON.stringify(lR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function u0(){let i=H.useContext(Do);return Sp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function cR(){let i=H.useContext(Qh);return Sp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=H.createContext(void 0);bp.displayName="FrameworkContext";function c0(){let i=H.useContext(bp);return Sp(i,"You must render this element inside a <HydratedRouter> element"),i}function hR(i,t){let n=H.useContext(bp),[s,o]=H.useState(!1),[u,h]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:T}=t,w=H.useRef(null);H.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let Q=nt=>{nt.forEach(et=>{h(et.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[i]),H.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(m,k),onBlur:Hl(p,G),onMouseEnter:Hl(y,k),onMouseLeave:Hl(E,G),onTouchStart:Hl(T,k)}]:[!1,w,{}]}function Hl(i,t){return n=>{i&&i(n),n.defaultPrevented||t(n)}}function fR({page:i,...t}){let{router:n}=u0(),s=H.useMemo(()=>KT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?H.createElement(mR,{page:i,matches:s,...t}):null}function dR(i){let{manifest:t,routeModules:n}=c0(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return sR(i,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,t,n]),s}function mR({page:i,matches:t,...n}){let s=fa(),{future:o,manifest:u,routeModules:h}=c0(),{basename:m}=u0(),{loaderData:p,matches:y}=cR(),E=H.useMemo(()=>aE(i,t,y,u,s,"data"),[i,t,y,u,s]),T=H.useMemo(()=>aE(i,t,y,u,s,"assets"),[i,t,y,u,s]),w=H.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let Q=new Set,F=!1;if(t.forEach(et=>{let it=u.routes[et.route.id];!it||!it.hasLoader||(!E.some(ft=>ft.route.id===et.route.id)&&et.route.id in p&&h[et.route.id]?.shouldRevalidate||it.hasClientLoader?F=!0:Q.add(et.route.id))}),Q.size===0)return[];let nt=nR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return F&&Q.size>0&&nt.searchParams.set("_routes",t.filter(et=>Q.has(et.route.id)).map(et=>et.route.id).join(",")),[nt.pathname+nt.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,t,i,h]),k=H.useMemo(()=>aR(T,u),[T,u]),G=dR(T);return H.createElement(H.Fragment,null,w.map(Q=>H.createElement("link",{key:Q,rel:"prefetch",as:"fetch",href:Q,...n})),k.map(Q=>H.createElement("link",{key:Q,rel:"modulepreload",href:Q,...n})),G.map(({key:Q,link:F})=>H.createElement("link",{key:Q,nonce:n.nonce,...F,crossOrigin:F.crossOrigin??n.crossOrigin})))}function pR(...i){return t=>{i.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gR&&(window.__reactRouterVersion="7.13.0")}catch{}function yR({basename:i,children:t,unstable_useTransitions:n,window:s}){let o=H.useRef();o.current==null&&(o.current=XA({window:s,v5Compat:!0}));let u=o.current,[h,m]=H.useState({action:u.action,location:u.location}),p=H.useCallback(y=>{n===!1?m(y):H.startTransition(()=>m(y))},[n]);return H.useLayoutEffect(()=>u.listen(p),[u,p]),H.createElement(Y1,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=H.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},G){let{basename:Q,unstable_useTransitions:F}=H.useContext(Hn),nt=typeof y=="string"&&h0.test(y),et=t0(y,Q);y=et.to;let it=D1(y,{relative:o}),[ft,wt,Tt]=hR(s,k),R=TR(y,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:w,unstable_useTransitions:F});function A(x){t&&t(x),x.defaultPrevented||R(x)}let C=H.createElement("a",{...k,...Tt,href:et.absoluteURL||it,onClick:et.isExternal||u?t:A,ref:pR(G,wt),target:p,"data-discover":!nt&&n==="render"?"true":void 0});return ft&&!nt?H.createElement(H.Fragment,null,C,H.createElement(fR,{page:it})):C});or.displayName="Link";var _R=H.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...y},E){let T=pu(h,{relative:y.relative}),w=fa(),k=H.useContext(Qh),{navigator:G,basename:Q}=H.useContext(Hn),F=k!=null&&RR(T)&&m===!0,nt=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,et=w.pathname,it=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(et=et.toLowerCase(),it=it?it.toLowerCase():null,nt=nt.toLowerCase()),it&&Q&&(it=fr(it,Q)||it);const ft=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let wt=et===nt||!o&&et.startsWith(nt)&&et.charAt(ft)==="/",Tt=it!=null&&(it===nt||!o&&it.startsWith(nt)&&it.charAt(nt.length)==="/"),R={isActive:wt,isPending:Tt,isTransitioning:F},A=wt?t:void 0,C;typeof s=="function"?C=s(R):C=[s,wt?"active":null,Tt?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(R):u;return H.createElement(or,{...y,"aria-current":A,className:C,ref:E,style:x,to:h,viewTransition:m},typeof p=="function"?p(R):p)});_R.displayName="NavLink";var vR=H.forwardRef(({discover:i="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=mh,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w,...k},G)=>{let{unstable_useTransitions:Q}=H.useContext(Hn),F=wR(),nt=AR(m,{relative:y}),et=h.toLowerCase()==="get"?"get":"post",it=typeof m=="string"&&h0.test(m),ft=wt=>{if(p&&p(wt),wt.defaultPrevented)return;wt.preventDefault();let Tt=wt.nativeEvent.submitter,R=Tt?.getAttribute("formmethod")||h,A=()=>F(Tt||wt.currentTarget,{fetcherKey:t,method:R,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:w});Q&&n!==!1?H.startTransition(()=>A()):A()};return H.createElement("form",{ref:G,method:et,action:nt,onSubmit:s?p:ft,...k,"data-discover":!it&&i==="render"?"true":void 0})});vR.displayName="Form";function ER(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function f0(i){let t=H.useContext(Do);return ue(t,ER(i)),t}function TR(i,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let y=O1(),E=fa(),T=pu(i,{relative:u});return H.useCallback(w=>{if(J1(w,t)){w.preventDefault();let k=n!==void 0?n:ru(E)===ru(T),G=()=>y(i,{replace:k,state:s,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?H.startTransition(()=>G()):G()}},[E,y,T,n,s,t,i,o,u,h,m,p])}var SR=0,bR=()=>`__${String(++SR)}__`;function wR(){let{router:i}=f0("useSubmit"),{basename:t}=H.useContext(Hn),n=q1(),s=i.fetch,o=i.navigate;return H.useCallback(async(u,h={})=>{let{action:m,method:p,encType:y,formData:E,body:T}=eR(u,t);if(h.navigate===!1){let w=h.fetcherKey||bR();await s(w,n,h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||y,flushSync:h.flushSync})}else await o(h.action||m,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:E,body:T,formMethod:h.method||p,formEncType:h.encType||y,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})},[s,o,t,n])}function AR(i,{relative:t}={}){let{basename:n}=H.useContext(Hn),s=H.useContext(Bi);ue(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...pu(i||".",{relative:t})},h=fa();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),ru(u)}function RR(i,{relative:t}={}){let n=H.useContext(n0);ue(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=f0("useViewTransitionState"),o=pu(i,{relative:t});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,u)!=null}const CR=()=>{};var oE={};const d0=function(i){const t=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},IR=function(i){const t=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,k=y&63;p||(k=64,h||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(d0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):IR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||T==null)throw new DR;const w=u<<2|m>>4;if(s.push(w),y!==64){const k=m<<4&240|y>>2;if(s.push(k),T!==64){const G=y<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class DR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OR=function(i){const t=d0(i);return m0.encodeByteArray(t,!0)},Ch=function(i){return OR(i).replace(/\./g,"")},p0=function(i){try{return m0.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const MR=()=>NR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof oE>"u")return;const i=oE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},VR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&p0(i[1]);return t&&JSON.parse(t)},Xh=()=>{try{return CR()||MR()||xR()||VR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},g0=i=>Xh()?.emulatorHosts?.[i],y0=i=>{const t=g0(i);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},_0=()=>Xh()?.config,v0=i=>Xh()?.[`_${i}`];class kR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function _s(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wp(i){return(await fetch(i,{credentials:"include"})).ok}function E0(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Wl={};function PR(){const i={prod:[],emulator:[]};for(const t of Object.keys(Wl))Wl[t]?i.emulator.push(t):i.prod.push(t);return i}function UR(i){let t=document.getElementById(i),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),n=!0),{created:n,element:t}}let lE=!1;function Ap(i,t){if(typeof window>"u"||typeof document>"u"||!_s(window.location.host)||Wl[i]===t||Wl[i]||lE)return;Wl[i]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=PR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{lE=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=UR(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),F=document.getElementById(Q)||document.createElement("a"),nt=n("preprendIcon"),et=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;m(it),E(F,Q);const ft=y();p(et,nt),it.append(et,G,F,ft),document.body.appendChild(it)}u?(G.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function zR(){const i=Xh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function qR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function FR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function YR(){return new Promise((i,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}const QR="FirebaseError";class ji extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=QR,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?KR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ji(o,m,s)}}function KR(i,t){return i.replace(XR,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const XR=/\{\$([^}]+)}/g;function $R(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function cs(i,t){if(i===t)return!0;const n=Object.keys(i),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=t[o];if(uE(u)&&uE(h)){if(!cs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uE(i){return i!==null&&typeof i=="object"}function yu(i){const t=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function WR(i,t){const n=new JR(i,t);return n.subscribe.bind(n)}class JR{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");ZR(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ZR(i,t){if(typeof i!="object"||i===null)return!1;for(const n of t)if(n in i&&typeof i[n]=="function")return!0;return!1}function Im(){}function Ee(i){return i&&i._delegate?i._delegate:i}class hs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Js="[DEFAULT]";class tC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new kR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nC(t))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Js){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Js){return this.instances.has(t)}getOptions(t=Js){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eC(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Js){return this.component?this.component.multipleInstances?t:Js:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eC(i){return i===Js?void 0:i}function nC(i){return i.instantiationMode==="EAGER"}class iC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var xt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xt||(xt={}));const rC={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},sC=xt.INFO,aC={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},oC=(i,t,...n)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),o=aC[t];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=sC,this._logHandler=oC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const lC=(i,t)=>t.some(n=>i instanceof n);let cE,hE;function uC(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cC(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Ym=new WeakMap,S0=new WeakMap,Dm=new WeakMap,Cp=new WeakMap;function hC(i){const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&T0.set(n,i)}).catch(()=>{}),Cp.set(t,i),t}function fC(i){if(Ym.has(i))return;const t=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ym.set(i,t)}let Qm={get(i,t,n){if(i instanceof IDBTransaction){if(t==="done")return Ym.get(i);if(t==="objectStoreNames")return i.objectStoreNames||S0.get(i);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(i[t])},set(i,t,n){return i[t]=n,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function dC(i){Qm=i(Qm)}function mC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=i.call(Om(this),t,...n);return S0.set(s,t.sort?t.sort():[t]),ss(s)}:cC().includes(i)?function(...t){return i.apply(Om(this),t),ss(T0.get(this))}:function(...t){return ss(i.apply(Om(this),t))}}function pC(i){return typeof i=="function"?mC(i):(i instanceof IDBTransaction&&fC(i),lC(i,uC())?new Proxy(i,Qm):i)}function ss(i){if(i instanceof IDBRequest)return hC(i);if(Dm.has(i))return Dm.get(i);const t=pC(i);return t!==i&&(Dm.set(i,t),Cp.set(t,i)),t}const Om=i=>Cp.get(i);function gC(i,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,t),m=ss(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ss(h.result),p.oldVersion,p.newVersion,ss(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const yC=["get","getKey","getAll","getAllKeys","count"],_C=["put","add","delete","clear"],Nm=new Map;function fE(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Nm.get(t))return Nm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=_C.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||yC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Nm.set(t,u),u}dC(i=>({...i,get:(t,n,s)=>fE(t,n)||i.get(t,n,s),has:(t,n)=>!!fE(t,n)||i.has(t,n)}));class vC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function EC(i){return i.getComponent()?.type==="VERSION"}const Km="@firebase/app",dE="0.14.8";const dr=new Rp("@firebase/app"),TC="@firebase/app-compat",SC="@firebase/analytics-compat",bC="@firebase/analytics",wC="@firebase/app-check-compat",AC="@firebase/app-check",RC="@firebase/auth",CC="@firebase/auth-compat",IC="@firebase/database",DC="@firebase/data-connect",OC="@firebase/database-compat",NC="@firebase/functions",MC="@firebase/functions-compat",xC="@firebase/installations",VC="@firebase/installations-compat",kC="@firebase/messaging",PC="@firebase/messaging-compat",UC="@firebase/performance",LC="@firebase/performance-compat",zC="@firebase/remote-config",BC="@firebase/remote-config-compat",jC="@firebase/storage",qC="@firebase/storage-compat",HC="@firebase/firestore",FC="@firebase/ai",GC="@firebase/firestore-compat",YC="firebase",QC="12.9.0";const Xm="[DEFAULT]",KC={[Km]:"fire-core",[TC]:"fire-core-compat",[bC]:"fire-analytics",[SC]:"fire-analytics-compat",[AC]:"fire-app-check",[wC]:"fire-app-check-compat",[RC]:"fire-auth",[CC]:"fire-auth-compat",[IC]:"fire-rtdb",[DC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[NC]:"fire-fn",[MC]:"fire-fn-compat",[xC]:"fire-iid",[VC]:"fire-iid-compat",[kC]:"fire-fcm",[PC]:"fire-fcm-compat",[UC]:"fire-perf",[LC]:"fire-perf-compat",[zC]:"fire-rc",[BC]:"fire-rc-compat",[jC]:"fire-gcs",[qC]:"fire-gcs-compat",[HC]:"fire-fst",[GC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};const Ih=new Map,XC=new Map,$m=new Map;function mE(i,t){try{i.container.addComponent(t)}catch(n){dr.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,n)}}function ra(i){const t=i.name;if($m.has(t))return dr.debug(`There were multiple attempts to register component ${t}.`),!1;$m.set(t,i);for(const n of Ih.values())mE(n,i);for(const n of XC.values())mE(n,i);return!0}function $h(i,t){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(t)}function jn(i){return i==null?!1:i.settings!==void 0}const $C={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new gu("app","Firebase",$C);class WC{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const da=QC;function b0(i,t={}){let n=i;typeof t!="object"&&(t={name:t});const s={name:Xm,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=_0()),!n)throw as.create("no-options");const u=Ih.get(o);if(u){if(cs(n,u.options)&&cs(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new iC(o);for(const p of $m.values())h.addComponent(p);const m=new WC(n,s,h);return Ih.set(o,m),m}function Ip(i=Xm){const t=Ih.get(i);if(!t&&i===Xm&&_0())return b0();if(!t)throw as.create("no-app",{appName:i});return t}function Ni(i,t,n){let s=KC[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dr.warn(h.join(" "));return}ra(new hs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const JC="firebase-heartbeat-database",ZC=1,su="firebase-heartbeat-store";let Mm=null;function w0(){return Mm||(Mm=gC(JC,ZC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function tI(i){try{const n=(await w0()).transaction(su),s=await n.objectStore(su).get(A0(i));return await n.done,s}catch(t){if(t instanceof ji)dr.warn(t.message);else{const n=as.create("idb-get",{originalErrorMessage:t?.message});dr.warn(n.message)}}}async function pE(i,t){try{const s=(await w0()).transaction(su,"readwrite");await s.objectStore(su).put(t,A0(i)),await s.done}catch(n){if(n instanceof ji)dr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function A0(i){return`${i.name}!${i.options.appId}`}const eI=1024,nI=30;class iI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new sI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=gE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>nI){const o=aI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){dr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=gE(),{heartbeatsToSend:n,unsentEntries:s}=rI(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dr.warn(t),""}}}function gE(){return new Date().toISOString().substring(0,10)}function rI(i,t=eI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),yE(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yE(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class sI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?YR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tI(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return pE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function yE(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function aI(i){if(i.length===0)return-1;let t=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,t=s);return t}function oI(i){ra(new hs("platform-logger",t=>new vC(t),"PRIVATE")),ra(new hs("heartbeat",t=>new iI(t),"PRIVATE")),Ni(Km,dE,i),Ni(Km,dE,"esm2020"),Ni("fire-js","")}oI("");var lI="firebase",uI="12.9.0";Ni(lI,uI,"app");var _E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var os,R0;(function(){var i;function t(R,A){function C(){}C.prototype=A.prototype,R.F=A.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(x,N,P){for(var I=Array(arguments.length-2),se=2;se<arguments.length;se++)I[se-2]=arguments[se];return A.prototype[N].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,C){C||(C=0);const x=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)x[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)x[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=R.g[0],C=R.g[1],N=R.g[2];let P=R.g[3],I;I=A+(P^C&(N^P))+x[0]+3614090360&4294967295,A=C+(I<<7&4294967295|I>>>25),I=P+(N^A&(C^N))+x[1]+3905402710&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(C^P&(A^C))+x[2]+606105819&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(A^N&(P^A))+x[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(P^C&(N^P))+x[4]+4118548399&4294967295,A=C+(I<<7&4294967295|I>>>25),I=P+(N^A&(C^N))+x[5]+1200080426&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(C^P&(A^C))+x[6]+2821735955&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(A^N&(P^A))+x[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(P^C&(N^P))+x[8]+1770035416&4294967295,A=C+(I<<7&4294967295|I>>>25),I=P+(N^A&(C^N))+x[9]+2336552879&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(C^P&(A^C))+x[10]+4294925233&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(A^N&(P^A))+x[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(P^C&(N^P))+x[12]+1804603682&4294967295,A=C+(I<<7&4294967295|I>>>25),I=P+(N^A&(C^N))+x[13]+4254626195&4294967295,P=A+(I<<12&4294967295|I>>>20),I=N+(C^P&(A^C))+x[14]+2792965006&4294967295,N=P+(I<<17&4294967295|I>>>15),I=C+(A^N&(P^A))+x[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=A+(N^P&(C^N))+x[1]+4129170786&4294967295,A=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(A^C))+x[6]+3225465664&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(P^A))+x[11]+643717713&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^A&(N^P))+x[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(C^N))+x[5]+3593408605&4294967295,A=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(A^C))+x[10]+38016083&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(P^A))+x[15]+3634488961&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^A&(N^P))+x[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(C^N))+x[9]+568446438&4294967295,A=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(A^C))+x[14]+3275163606&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(P^A))+x[3]+4107603335&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^A&(N^P))+x[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(N^P&(C^N))+x[13]+2850285829&4294967295,A=C+(I<<5&4294967295|I>>>27),I=P+(C^N&(A^C))+x[2]+4243563512&4294967295,P=A+(I<<9&4294967295|I>>>23),I=N+(A^C&(P^A))+x[7]+1735328473&4294967295,N=P+(I<<14&4294967295|I>>>18),I=C+(P^A&(N^P))+x[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=A+(C^N^P)+x[5]+4294588738&4294967295,A=C+(I<<4&4294967295|I>>>28),I=P+(A^C^N)+x[8]+2272392833&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^C)+x[11]+1839030562&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^A)+x[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^P)+x[1]+2763975236&4294967295,A=C+(I<<4&4294967295|I>>>28),I=P+(A^C^N)+x[4]+1272893353&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^C)+x[7]+4139469664&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^A)+x[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^P)+x[13]+681279174&4294967295,A=C+(I<<4&4294967295|I>>>28),I=P+(A^C^N)+x[0]+3936430074&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^C)+x[3]+3572445317&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^A)+x[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(C^N^P)+x[9]+3654602809&4294967295,A=C+(I<<4&4294967295|I>>>28),I=P+(A^C^N)+x[12]+3873151461&4294967295,P=A+(I<<11&4294967295|I>>>21),I=N+(P^A^C)+x[15]+530742520&4294967295,N=P+(I<<16&4294967295|I>>>16),I=C+(N^P^A)+x[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=A+(N^(C|~P))+x[0]+4096336452&4294967295,A=C+(I<<6&4294967295|I>>>26),I=P+(C^(A|~N))+x[7]+1126891415&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~C))+x[14]+2878612391&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~A))+x[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~P))+x[12]+1700485571&4294967295,A=C+(I<<6&4294967295|I>>>26),I=P+(C^(A|~N))+x[3]+2399980690&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~C))+x[10]+4293915773&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~A))+x[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~P))+x[8]+1873313359&4294967295,A=C+(I<<6&4294967295|I>>>26),I=P+(C^(A|~N))+x[15]+4264355552&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~C))+x[6]+2734768916&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~A))+x[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=A+(N^(C|~P))+x[4]+4149444226&4294967295,A=C+(I<<6&4294967295|I>>>26),I=P+(C^(A|~N))+x[11]+3174756917&4294967295,P=A+(I<<10&4294967295|I>>>22),I=N+(A^(P|~C))+x[2]+718787259&4294967295,N=P+(I<<15&4294967295|I>>>17),I=C+(P^(N|~A))+x[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+N&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const C=A-this.blockSize,x=this.C;let N=this.h,P=0;for(;P<A;){if(N==0)for(;P<=C;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<A;)if(x[N++]=R.charCodeAt(P++),N==this.blockSize){o(this,x),N=0;break}}else for(;P<A;)if(x[N++]=R[P++],N==this.blockSize){o(this,x),N=0;break}}this.h=N,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)R[A++]=this.g[C]>>>x&255;return R};function u(R,A){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=A(R)}function h(R,A){this.h=A;const C=[];let x=!0;for(let N=R.length-1;N>=0;N--){const P=R[N]|0;x&&P==A||(C[N]=P,x=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new h([A|0],A<0?-1:0)}):new h([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return F(y(-R));const A=[];let C=1;for(let x=0;R>=C;x++)A[x]=R/C|0,C*=4294967296;return new h(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return F(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(A,8));let x=T;for(let P=0;P<R.length;P+=8){var N=Math.min(8,R.length-P);const I=parseInt(R.substring(P,P+N),A);N<8?(N=y(Math.pow(A,N)),x=x.j(N).add(y(I))):(x=x.j(C),x=x.add(y(I)))}return x}var T=p(0),w=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(Q(this))return-F(this).m();let R=0,A=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);R+=(x>=0?x:4294967296+x)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(G(this))return"0";if(Q(this))return"-"+F(this).toString(R);const A=y(Math.pow(R,6));var C=this;let x="";for(;;){const N=ft(C,A).g;C=nt(C,N.j(A));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=N,G(C))return P+x;for(;P.length<6;)P="0"+P;x=P+x}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function G(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function Q(R){return R.h==-1}i.l=function(R){return R=nt(this,R),Q(R)?-1:G(R)?0:1};function F(R){const A=R.g.length,C=[];for(let x=0;x<A;x++)C[x]=~R.g[x];return new h(C,~R.h).add(w)}i.abs=function(){return Q(this)?F(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),C=[];let x=0;for(let N=0;N<=A;N++){let P=x+(this.i(N)&65535)+(R.i(N)&65535),I=(P>>>16)+(this.i(N)>>>16)+(R.i(N)>>>16);x=I>>>16,P&=65535,I&=65535,C[N]=I<<16|P}return new h(C,C[C.length-1]&-2147483648?-1:0)};function nt(R,A){return R.add(F(A))}i.j=function(R){if(G(this)||G(R))return T;if(Q(this))return Q(R)?F(this).j(F(R)):F(F(this).j(R));if(Q(R))return F(this.j(F(R)));if(this.l(k)<0&&R.l(k)<0)return y(this.m()*R.m());const A=this.g.length+R.g.length,C=[];for(var x=0;x<2*A;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let N=0;N<R.g.length;N++){const P=this.i(x)>>>16,I=this.i(x)&65535,se=R.i(N)>>>16,Ve=R.i(N)&65535;C[2*x+2*N]+=I*Ve,et(C,2*x+2*N),C[2*x+2*N+1]+=P*Ve,et(C,2*x+2*N+1),C[2*x+2*N+1]+=I*se,et(C,2*x+2*N+1),C[2*x+2*N+2]+=P*se,et(C,2*x+2*N+2)}for(R=0;R<A;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=A;R<2*A;R++)C[R]=0;return new h(C,0)};function et(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function it(R,A){this.g=R,this.h=A}function ft(R,A){if(G(A))throw Error("division by zero");if(G(R))return new it(T,T);if(Q(R))return A=ft(F(R),A),new it(F(A.g),F(A.h));if(Q(A))return A=ft(R,F(A)),new it(F(A.g),A.h);if(R.g.length>30){if(Q(R)||Q(A))throw Error("slowDivide_ only works with positive integers.");for(var C=w,x=A;x.l(R)<=0;)C=wt(C),x=wt(x);var N=Tt(C,1),P=Tt(x,1);for(x=Tt(x,2),C=Tt(C,2);!G(x);){var I=P.add(x);I.l(R)<=0&&(N=N.add(C),P=I),x=Tt(x,1),C=Tt(C,1)}return A=nt(R,N.j(A)),new it(N,A)}for(N=T;R.l(A)>=0;){for(C=Math.max(1,Math.floor(R.m()/A.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),P=y(C),I=P.j(A);Q(I)||I.l(R)>0;)C-=x,P=y(C),I=P.j(A);G(P)&&(P=w),N=N.add(P),R=nt(R,I)}return new it(N,R)}i.B=function(R){return ft(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)&R.i(x);return new h(C,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)|R.i(x);return new h(C,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),C=[];for(let x=0;x<A;x++)C[x]=this.i(x)^R.i(x);return new h(C,this.h^R.h)};function wt(R){const A=R.g.length+1,C=[];for(let x=0;x<A;x++)C[x]=R.i(x)<<1|R.i(x-1)>>>31;return new h(C,R.h)}function Tt(R,A){const C=A>>5;A%=32;const x=R.g.length-C,N=[];for(let P=0;P<x;P++)N[P]=A>0?R.i(P+C)>>>A|R.i(P+C+1)<<32-A:R.i(P+C);return new h(N,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,R0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,os=h}).apply(typeof _E<"u"?_E:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var C0,Kl,I0,gh,Wm,D0,O0,N0;(function(){var i,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)t:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var U=c[b];if(!(U in v))break t;v=v[U]}c=c[c.length-1],b=v[c],g=g(b),g!=b&&g!=null&&t(v,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var v=[],b;for(b in g)Object.prototype.hasOwnProperty.call(g,b)&&v.push([b,g[b]]);return v}});var u=u||{},h=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,v){return c.call.apply(c.bind,arguments)}function y(c,g,v){return y=p,y.apply(null,arguments)}function E(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function T(c,g){function v(){}v.prototype=g.prototype,c.Z=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(b,U,j){for(var rt=Array(arguments.length-2),At=2;At<arguments.length;At++)rt[At-2]=arguments[At];return g.prototype[U].apply(b,rt)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const g=c.length;if(g>0){const v=Array(g);for(let b=0;b<g;b++)v[b]=c[b];return v}return[]}function G(c,g){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=c.length||0;const j=U.length||0;c.length=v+j;for(let rt=0;rt<j;rt++)c[v+rt]=U[rt]}else c.push(U)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function F(c){h.setTimeout(()=>{throw c},0)}function nt(){var c=R;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class et{constructor(){this.h=this.g=null}add(g,v){const b=it.get();b.set(g,v),this.h?this.h.next=b:this.g=b,this.h=b}}var it=new Q(()=>new ft,c=>c.reset());class ft{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let wt,Tt=!1,R=new et,A=()=>{const c=Promise.resolve(void 0);wt=()=>{c.then(C)}};function C(){for(var c;c=nt();){try{c.h.call(c.g)}catch(v){F(v)}var g=it;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}Tt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function se(c,g){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}T(se,N),se.prototype.init=function(c,g){const v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),K=0;function st(c,g,v,b,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!b,this.ha=U,this.key=++K,this.da=this.fa=!1}function pt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function zt(c,g,v){for(const b in c)g.call(v,c[b],b,c)}function Gt(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function M(c){const g={};for(const v in c)g[v]=c[v];return g}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(c,g){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)c[v]=b[v];for(let j=0;j<W.length;j++)v=W[j],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function ut(c){this.src=c,this.g={},this.h=0}ut.prototype.add=function(c,g,v,b,U){const j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);const rt=Ct(c,g,b,U);return rt>-1?(g=c[rt],v||(g.fa=!1)):(g=new st(g,this.src,j,!!b,U),g.fa=v,c.push(g)),g};function vt(c,g){const v=g.type;if(v in c.g){var b=c.g[v],U=Array.prototype.indexOf.call(b,g,void 0),j;(j=U>=0)&&Array.prototype.splice.call(b,U,1),j&&(pt(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ct(c,g,v,b){for(let U=0;U<c.length;++U){const j=c[U];if(!j.da&&j.listener==g&&j.capture==!!v&&j.ha==b)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),ke={};function ae(c,g,v,b,U){if(Array.isArray(g)){for(let j=0;j<g.length;j++)ae(c,g[j],v,b,U);return null}return v=zo(v),c&&c[Ve]?c.J(g,v,m(b)?!!b.capture:!1,U):Ts(c,g,v,!1,b,U)}function Ts(c,g,v,b,U,j){if(!g)throw Error("Invalid event type");const rt=m(U)?!!U.capture:!!U;let At=Ss(c);if(At||(c[Ut]=At=new ut(c)),v=At.add(g,v,b,rt,j),v.proxy)return v;if(b=ga(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)P||(U=rt),U===void 0&&(U=!1),c.addEventListener(g.toString(),b,U);else if(c.attachEvent)c.attachEvent(oi(g.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ga(){function c(v){return g.call(c.src,c.listener,v)}const g=Uo;return c}function ya(c,g,v,b,U){if(Array.isArray(g))for(var j=0;j<g.length;j++)ya(c,g[j],v,b,U);else b=m(b)?!!b.capture:!!b,v=zo(v),c&&c[Ve]?(c=c.i,j=String(g).toString(),j in c.g&&(g=c.g[j],v=Ct(g,v,b,U),v>-1&&(pt(g[v]),Array.prototype.splice.call(g,v,1),g.length==0&&(delete c.g[j],c.h--)))):c&&(c=Ss(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Ct(g,v,b,U)),(v=c>-1?g[c]:null)&&_a(v))}function _a(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ve])vt(g.i,c);else{var v=c.type,b=c.proxy;g.removeEventListener?g.removeEventListener(v,b,c.capture):g.detachEvent?g.detachEvent(oi(v),b):g.addListener&&g.removeListener&&g.removeListener(b),(v=Ss(g))?(vt(v,c),v.h==0&&(v.src=null,g[Ut]=null)):pt(c)}}}function oi(c){return c in ke?ke[c]:ke[c]="on"+c}function Uo(c,g){if(c.da)c=!0;else{g=new se(g,this);const v=c.listener,b=c.ha||c.src;c.fa&&_a(c),c=v.call(b,g)}return c}function Ss(c){return c=c[Ut],c instanceof ut?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(g){return c.handleEvent(g)}),c[Lo])}function Te(){x.call(this),this.i=new ut(this),this.M=this,this.G=null}T(Te,x),Te.prototype[Ve]=!0,Te.prototype.removeEventListener=function(c,g,v,b){ya(this,c,g,v,b)};function Pe(c,g){var v,b=c.G;if(b)for(v=[];b;b=b.G)v.push(b);if(c=c.M,b=g.type||g,typeof g=="string")g=new N(g,c);else if(g instanceof N)g.target=g.target||c;else{var U=g;g=new N(b,c),at(g,U)}U=!0;let j,rt;if(v)for(rt=v.length-1;rt>=0;rt--)j=g.g=v[rt],U=_r(j,b,!0,g)&&U;if(j=g.g=c,U=_r(j,b,!0,g)&&U,U=_r(j,b,!1,g)&&U,v)for(rt=0;rt<v.length;rt++)j=g.g=v[rt],U=_r(j,b,!1,g)&&U}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const v=c.g[g];for(let b=0;b<v.length;b++)pt(v[b]);delete c.g[g],c.h--}}this.G=null},Te.prototype.J=function(c,g,v,b){return this.i.add(String(c),g,!1,v,b)},Te.prototype.K=function(c,g,v,b){return this.i.add(String(c),g,!0,v,b)};function _r(c,g,v,b){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let U=!0;for(let j=0;j<g.length;++j){const rt=g[j];if(rt&&!rt.da&&rt.capture==v){const At=rt.listener,ge=rt.ha||rt.src;rt.fa&&vt(c.i,rt),U=At.call(ge,b)!==!1&&U}}return U&&!b.defaultPrevented}function Tf(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:h.setTimeout(c,g||0)}function Du(c){c.g=Tf(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class rn extends x{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){x.call(this),this.h=c,this.g={}}T(bs,x);var Bo=[];function jo(c){zt(c.g,function(g,v){this.g.hasOwnProperty(v)&&_a(g)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),jo(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=h.JSON.stringify,Sf=h.JSON.parse,Ou=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Nu(){}function Mu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){N.call(this,"d")}T(He,N);function In(){N.call(this,"c")}T(In,N);var pe={},xu=null;function va(){return xu=xu||new Te}pe.Ia="serverreachability";function Vu(c){N.call(this,pe.Ia,c)}T(Vu,N);function li(c){const g=va();Pe(g,new Vu(g))}pe.STAT_EVENT="statevent";function ws(c,g){N.call(this,pe.STAT_EVENT,c),this.stat=g}T(ws,N);function Se(c){const g=va();Pe(g,new ws(g,c))}pe.Ja="timingevent";function ui(c,g){N.call(this,pe.Ja,c),this.size=g}T(ui,N);function ci(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function bf(c,g,v,b,U,j){c.info(function(){if(c.g)if(j){var rt="",At=j.split("&");for(let qt=0;qt<At.length;qt++){var ge=At[qt].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const Mn=oe.split("_");rt=Mn.length>=2&&Mn[1]=="type"?rt+(oe+"="+ge+"&"):rt+(oe+"=redacted&")}}}else rt=null;else rt=j;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+g+`
`+v+`
`+rt})}function ku(c,g,v,b,U,j,rt){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+g+`
`+v+`
`+j+" "+rt})}function hi(c,g,v,b){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+wf(c,v)+(b?" "+b:"")})}function As(c,g){c.info(function(){return"TIMEOUT: "+g})}Yn.prototype.info=function(){};function wf(c,g){if(!c.g)return g;if(!g)return null;try{const j=JSON.parse(g);if(j){for(c=0;c<j.length;c++)if(Array.isArray(j[c])){var v=j[c];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let rt=1;rt<b.length;rt++)b[rt]=""}}}}return vr(j)}catch{return g}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Cs(){}T(Cs,Nu),Cs.prototype.g=function(){return new XMLHttpRequest},Ho=new Cs;function qi(c){return encodeURIComponent(String(c))}function Pu(c){var g=1;c=c.split(":");const v=[];for(;g>0&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function Qn(c,g,v,b){this.j=c,this.i=g,this.l=v,this.S=b||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Kn}function Kn(){this.i=null,this.g="",this.h=!1}var be={},ze={};function fi(c,g,v){c.M=1,c.A=Is(Ae(g)),c.u=v,c.R=!0,Ea(c,null)}function Ea(c,g){c.F=Date.now(),di(c),c.B=Ae(c.A);var v=c.B,b=c.S;Array.isArray(b)||(b=[String(b)]),wa(v.i,"t",b),c.C=0,v=c.j.L,c.h=new Kn,c.g=Wu(c.j,v?g:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),g=c.V,v=c.g,b=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Bo[0]=U.toString()),U=Bo);for(let j=0;j<U.length;j++){const rt=ae(v,U[j],b||g.handleEvent,!1,g.h||g);if(!rt)break;g.g[rt.key]=rt}g=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),li(),bf(c.i,c.v,c.B,c.l,c.S,c.u)}Qn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Wn(c)==3?g.j():this.Y(c)},Qn.prototype.Y=function(c){try{if(c==this.g)t:{const At=Wn(this.g),ge=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||At!=4||ge==7||(ge==8||qt<=0?li(3):li(2)),mi(this);var g=this.g.ca();this.X=g;var v=Af(this);if(this.o=g==200,ku(this.i,this.v,this.B,this.l,this.S,At,g),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(b)){var j=b;break e}}j=null}if(c=j)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Se(12),yn(this),Dn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=Lu(this,v),oe==ze){At==4&&(this.m=4,Se(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==be){this.m=4,Se(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,oe,null),pi(this,oe);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,Se(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Dn(this);else if(v.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(rt),rt.P=!0,Se(11))}}else hi(this.i,this.l,v,null),pi(this,v);At==4&&yn(this),this.o&&!this.K&&(At==4?Qu(this.j,this):(this.o=!1,di(this)))}else Fi(this.g),g==400&&v.indexOf("Unknown SID")>0?(this.m=3,Se(12)):(this.m=0,Se(13)),yn(this),Dn(this)}}}catch{}};function Af(c){if(!Uu(c))return c.g.la();const g=Fe(c.g);if(g==="")return"";let v="";const b=g.length,U=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Dn(c),"";c.h.i=new h.TextDecoder}for(let j=0;j<b;j++)c.h.h=!0,v+=c.h.i.decode(g[j],{stream:!(U&&j==b-1)});return g.length=0,c.h.g+=v,c.C=0,c.h.g}function Uu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,g){var v=c.C,b=g.indexOf(`
`,v);return b==-1?ze:(v=Number(g.substring(v,b)),isNaN(v)?be:(b+=1,b+v>g.length?ze:(g=g.slice(b,b+v),c.C=b+v,g)))}Qn.prototype.cancel=function(){this.K=!0,yn(this)};function di(c){c.T=Date.now()+c.H,Ta(c,c.H)}function Ta(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),g)}function mi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Qn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(li(),Se(17)),yn(this),this.m=2,Dn(this)):Ta(this,this.T-c)};function Dn(c){c.j.I==0||c.K||Qu(c.j,c)}function yn(c){mi(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,jo(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function pi(c,g){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var b=v.Ba.g.parse(g)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Da(v),Cr(v);else break t;ks(v),Se(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(y(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((c.L||v.g==c)&&Da(v),!I(g))for(U=v.Ba.g.parse(g),g=0;g<U.length;g++){let qt=U[g];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Mn=qt[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const wi=qt[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Jn=qt[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(b=1.5*Jn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Zn=c.g;if(Zn){const Ps=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var j=b.h;j.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Yo(j,j.h),j.h=null))}if(b.G){const Oa=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(b.wa=Oa,Yt(b.J,b.G,Oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var rt=c;if(b.na=$u(b,b.L?b.ba:null,b.W),rt.L){Qo(b.h,rt);var At=rt,ge=b.O;ge&&(At.H=ge),At.D&&(mi(At),di(At)),b.g=rt}else Gu(b);v.i.length>0&&Si(v)}else qt[0]!="stop"&&qt[0]!="close"||bi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?bi(v,7):nl(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}li(4)}catch{}}var we=class{constructor(c,g){this.g=c,this.map=g}};function Fo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Yo(c,g){c.g?c.g.add(g):c.h=g}function Qo(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fo.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ko(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.G);return g}return k(c.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,g){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const b=c[v].indexOf("=");let U,j=null;b>=0?(U=c[v].substring(0,b),j=c[v].substring(b+1)):U=c[v],g(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof _n?(this.l=c.l,Be(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,Xo(this,Hu(c.i)),this.m=c.m):c&&(g=String(c).match(zu))?(this.l=!1,Be(this,g[1]||"",!0),this.o=_i(g[2]||""),this.g=_i(g[3]||"",!0),Er(this,g[4]),this.h=_i(g[5]||"",!0),Xo(this,g[6]||"",!0),this.m=_i(g[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}_n.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ds(g,ba,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ds(g,ba,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ds(v,v.charAt(0)=="/"?$o:Bu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ds(v,ju)),c.join("")},_n.prototype.resolve=function(c){const g=Ae(this);let v=!!c.j;v?Be(g,c.j):v=!!c.o,v?g.o=c.o:v=!!c.g,v?g.g=c.g:v=c.u!=null;var b=c.h;if(v)Er(g,c.u);else if(v=!!c.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=g.h.lastIndexOf("/");U!=-1&&(b=g.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let rt=0;rt<U.length;){const At=U[rt++];At=="."?b&&rt==U.length&&j.push(""):At==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&rt==U.length&&j.push("")):(j.push(At),b=!0)}b=j.join("/")}else b=U}return v?g.h=b:v=c.i.toString()!=="",v?Xo(g,Hu(c.i)):v=!!c.m,v&&(g.m=c.m),g};function Ae(c){return new _n(c)}function Be(c,g,v){c.j=v?_i(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function Xo(c,g,v){g instanceof Sr?(c.i=g,Aa(c.i,c.l)):(v||(g=Ds(g,Tr)),c.i=new Sr(g,c.l))}function Yt(c,g,v){c.i.set(g,v)}function Is(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ba=/[#\/\?@]/g,Bu=/[#\?:]/g,$o=/[#\?]/g,Tr=/[#\?@]/g,ju=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}i=Sr.prototype,i.add=function(c,g){un(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function qu(c,g){un(c),g=br(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Wo(c,g){return un(c),g=br(c,g),c.g.has(g)}i.forEach=function(c,g){un(this),this.g.forEach(function(v,b){v.forEach(function(U){c.call(g,U,b,this)},this)},this)};function Jo(c,g){un(c);let v=[];if(typeof g=="string")Wo(c,g)&&(v=v.concat(c.g.get(br(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)v=v.concat(c[g]);return v}i.set=function(c,g){return un(this),this.i=null,c=br(this,c),Wo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},i.get=function(c,g){return c?(c=Jo(this,c),c.length>0?String(c[0]):g):g};function wa(c,g,v){qu(c,g),v.length>0&&(c.i=null,c.g.set(br(c,g),k(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let b=0;b<g.length;b++){var v=g[b];const U=qi(v);v=Jo(this,v);for(let j=0;j<v.length;j++){let rt=U;v[j]!==""&&(rt+="="+qi(v[j])),c.push(rt)}}return this.i=c.join("&")};function Hu(c){const g=new Sr;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function br(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Aa(c,g){g&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(qu(this,b),wa(this,U,v))},c)),c.j=g}function Xn(c,g){const v=new Yn;if(h.Image){const b=new Image;b.onload=E(On,v,"TestLoadImage: loaded",!0,g,b),b.onerror=E(On,v,"TestLoadImage: error",!1,g,b),b.onabort=E(On,v,"TestLoadImage: abort",!1,g,b),b.ontimeout=E(On,v,"TestLoadImage: timeout",!1,g,b),h.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else g(!1)}function Zo(c,g){const v=new Yn,b=new AbortController,U=setTimeout(()=>{b.abort(),On(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:b.signal}).then(j=>{clearTimeout(U),j.ok?On(v,"TestPingServer: ok",!0,g):On(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),On(v,"TestPingServer: error",!1,g)})}function On(c,g,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function wr(){this.g=new Ou}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,Nu),vi.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,g){Te.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Os,Te),i=Os.prototype,i.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,$n(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||h).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Ar(this):$n(this),this.readyState==3&&Ra(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ar(this))},i.Na=function(c){this.g&&(this.response=c,Ar(this))},i.ga=function(){this.g&&Ar(this)};function Ar(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}i.setRequestHeader=function(c,g){this.A.append(c,g)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let g="";return zt(c,function(v,b){g+=b,g+=":",g+=v,g+=`\r
`}),g}function Ns(c,g,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Nn(v),typeof c=="string"?v!=null&&qi(v):Yt(c,g,v))}function $t(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($t,Te);var Ei=/^https?$/i,tl=["POST","PUT"];i=$t.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,g,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){Ms(this,j);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())v.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,g,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,rt]of v)this.g.setRequestHeader(j,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(j){Ms(this,j)}};function Ms(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,el(c),Hi(c)}function el(c){c.A||(c.A=!0,Pe(c,"complete"),Pe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Pe(this,"complete"),Pe(this,"abort"),Hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),$t.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?xs(this):this.Xa())},i.Xa=function(){xs(this)};function xs(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Pe(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const j=c.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var b;if(b=j===0){let rt=String(c.D).match(zu)[1]||null;!rt&&h.self&&h.self.location&&(rt=h.self.location.protocol.slice(0,-1)),b=!Ei.test(rt?rt.toLowerCase():"")}v=b}if(v)Pe(c,"complete"),Pe(c,"success");else{c.o=6;try{var U=Wn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",el(c)}}finally{Hi(c)}}}}function Hi(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,g||Pe(c,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}i.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Sf(g)}};function Fe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const g={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(I(c[b]))continue;var v=Pu(c[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=g[U]||[];g[U]=j,j.push(v)}Gt(g,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Rr(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Rr.prototype,i.ka=8,i.I=1,i.connect=function(c,g,v,b){Se(0),this.W=c,this.H=g||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=$u(this,null,this.W),Si(this)};function nl(c){if(Ca(c),c.I==3){var g=c.V++,v=Ae(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",g),Yt(v,"TYPE","terminate"),Vs(c,v),g=new Qn(c,c.j,g),g.M=2,g.A=Is(Ae(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.A,v=!0),v||(g.g=Wu(g.j,null),g.g.ea(g.A)),g.F=Date.now(),di(g)}Xu(c)}function Cr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function Ca(c){Cr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Da(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Si(c){if(!Go(c.h)&&!c.m){c.m=!0;var g=c.Ea;wt||A(),Tt||(wt(),Tt=!0),R.add(g,c),c.D=0}}function Ia(c,g){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,g),Ku(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Qn(this,this.j,c);let j=this.o;if(this.U&&(j?(j=M(j),at(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(g+=b,g>4096){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Fu(this,U,g),v=Ae(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Vs(this,v),j&&(this.R?g="headers="+qi(Nn(j))+"&"+g:this.u&&Ns(v,this.u,j)),Yo(this.h,U),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",g),Yt(v,"SID","null"),U.U=!0,fi(U,v,null)):fi(U,v,g),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||Go(this.h)||il(this))};function il(c,g){var v;g?v=g.l:v=c.V++;const b=Ae(c.J);Yt(b,"SID",c.M),Yt(b,"RID",v),Yt(b,"AID",c.K),Vs(c,b),c.u&&c.o&&Ns(b,c.u,c.o),v=new Qn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),g&&(c.i=g.G.concat(c.i)),g=Fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Yo(c.h,v),fi(v,b,g)}function Vs(c,g){c.H&&zt(c.H,function(v,b){Yt(g,b,v)}),c.l&&zt({},function(v,b){Yt(g,b,v)})}function Fu(c,g,v){v=Math.min(c.i.length,v);const b=c.l?y(c.l.Ka,c.l,c):null;t:{var U=c.i;let At=-1;for(;;){const ge=["count="+v];At==-1?v>0?(At=U[0].g,ge.push("ofs="+At)):At=0:ge.push("ofs="+At);let qt=!0;for(let oe=0;oe<v;oe++){var j=U[oe].g;const Mn=U[oe].map;if(j-=At,j<0)At=Math.max(0,U[oe].g-100),qt=!1;else try{j="req"+j+"_"||"";try{var rt=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,Jn]of rt){let Zn=Jn;m(Jn)&&(Zn=vr(Jn)),ge.push(j+wi+"="+encodeURIComponent(Zn))}}catch(wi){throw ge.push(j+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(Mn)}}if(qt){rt=ge.join("&");break t}}rt=void 0}return c=c.i.splice(0,v),g.G=c,rt}function Gu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;wt||A(),Tt||(wt(),Tt=!0),R.add(g,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),Ku(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Se(10),Cr(this),Yu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new Qn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=Ae(c.na);Yt(g,"RID","rpc"),Yt(g,"SID",c.M),Yt(g,"AID",c.K),Yt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(g,"TO",c.ia),Yt(g,"TYPE","xmlhttp"),Vs(c,g),c.u&&c.o&&Ns(g,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(Ae(g)),v.u=null,v.R=!0,Ea(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Cr(this),ks(this),Se(19))};function Da(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Qu(c,g){var v=null;if(c.g==g){Da(c),rl(c),c.g=null;var b=2}else if(yi(c.h,g))v=g.G,Qo(c.h,g),b=1;else return;if(c.I!=0){if(g.o)if(b==1){v=g.u?g.u.length:0,g=Date.now()-g.F;var U=c.D;b=va(),Pe(b,new ui(b,v)),Si(c)}else Gu(c);else if(U=g.m,U==3||U==0&&g.X>0||!(b==1&&Ia(c,g)||b==2&&ks(c)))switch(v&&v.length>0&&(g=c.h,g.i=g.i.concat(v)),U){case 1:bi(c,5);break;case 4:bi(c,10);break;case 3:bi(c,6);break;default:bi(c,2)}}}function Ku(c,g){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*g}function bi(c,g){if(c.j.info("Error code "+g),g==2){var v=y(c.bb,c),b=c.Ua;const U=!b;b=new _n(b||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Be(b,"https"),Is(b),U?Xn(b.toString(),v):Zo(b.toString(),v)}else Se(2);c.I=0,c.l&&c.l.pa(g),Xu(c),Ca(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Xu(c){if(c.I=0,c.ja=[],c.l){const g=Ko(c.h);(g.length!=0||c.i.length!=0)&&(G(c.ja,g),G(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function $u(c,g,v){var b=v instanceof _n?Ae(v):new _n(v);if(b.g!="")g&&(b.g=g+"."+b.g),Er(b,b.u);else{var U=h.location;b=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;const j=new _n(null);b&&Be(j,b),g&&(j.g=g),U&&Er(j,U),v&&(j.h=v),b=j}return v=c.G,g=c.wa,v&&g&&Yt(b,v,g),Yt(b,"VER",c.ka),Vs(c,b),b}function Wu(c,g,v){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new $t(new vi({ab:v})):new $t(c.ma),g.Fa(c.L),g}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Ir(){}Ir.prototype.g=function(c,g){return new sn(c,g)};function sn(c,g){Te.call(this),this.g=new Rr(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!I(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Gi(this)}T(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=vr(c),c=v);g.i.push(new we(g.Ya++,c)),g.I==3&&Si(g)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.Z.N.call(this)};function Zu(c){He.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const v in g){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}T(Zu,He);function tc(){In.call(this),this.status=1}T(tc,In);function Gi(c){this.g=c}T(Gi,Ju),Gi.prototype.ra=function(){Pe(this.g,"a")},Gi.prototype.qa=function(c){Pe(this.g,new Zu(c))},Gi.prototype.pa=function(c){Pe(this.g,new tc)},Gi.prototype.oa=function(){Pe(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,N0=function(){return new Ir},O0=function(){return va()},D0=pe,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,gh=Rs,qo.COMPLETE="complete",I0=qo,Mu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Kl=Mu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,C0=$t}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let Oo="12.9.0";function cI(i){Oo=i}const sa=new Rp("@firebase/firestore");function oo(){return sa.logLevel}function lt(i,...t){if(sa.logLevel<=xt.DEBUG){const n=t.map(Dp);sa.debug(`Firestore (${Oo}): ${i}`,...n)}}function mr(i,...t){if(sa.logLevel<=xt.ERROR){const n=t.map(Dp);sa.error(`Firestore (${Oo}): ${i}`,...n)}}function aa(i,...t){if(sa.logLevel<=xt.WARN){const n=t.map(Dp);sa.warn(`Firestore (${Oo}): ${i}`,...n)}}function Dp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function yt(i,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,M0(i,s,n)}function M0(i,t,n){let s=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw mr(s),new Error(s)}function Ft(i,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||M0(t,o,s)}function bt(i,t){return i}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ls{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}class x0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class fI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dI{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ft(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ls;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ls,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ls)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string",31837,{l:s}),new x0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class mI{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pI{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new mI(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gI{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ft(this.o===void 0,3512);const s=u=>{u.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,lt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yI(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class Op{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=yI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Vt(i,t){return i<t?-1:i>t?1:0}function Jm(i,t){const n=Math.min(i.length,t.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=t.charAt(s);if(o!==u)return xm(o)===xm(u)?Vt(o,u):xm(o)?1:-1}return Vt(i.length,t.length)}const _I=55296,vI=57343;function xm(i){const t=i.charCodeAt(0);return t>=_I&&t<=vI}function vo(i,t,n){return i.length===t.length&&i.every(((s,o)=>n(s,t[o])))}const EE="__name__";class Di{constructor(t,n,s){n===void 0?n=0:n>t.length&&yt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&yt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Vt(t.length,n.length)}static compareSegments(t,n){const s=Di.isNumericId(t),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(t).compare(Di.extractNumericId(n)):Jm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return os.fromString(t.substring(4,t.length-2))}}class ee extends Di{construct(t,n,s){return new ee(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ee(n)}static emptyPath(){return new ee([])}}const EI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Di{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return EI.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new $e([EE])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ee.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}function V0(i,t,n){if(!n)throw new ot(J.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function TI(i,t,n,s){if(t===!0&&s===!0)throw new ot(J.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function TE(i){if(!mt.isDocumentKey(i))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function SE(i){if(mt.isDocumentKey(i))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function k0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Wh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":yt(12329,{type:typeof i})}function oa(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(i);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return i}function Me(i,t){const n={typeString:i};return t&&(n.value=t),n}function _u(i,t){if(!k0(i))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ot(J.INVALID_ARGUMENT,n);return!0}const bE=-62135596800,wE=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*wE);return new re(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<bE)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wE}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_u(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Me("string",re._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new re(0,0))}static max(){return new Et(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const au=-1;function SI(i,t){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new re(n+1,0):new re(n,s));return new fs(o,mt.empty(),t)}function bI(i){return new fs(i.readTime,i.key,au)}class fs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Et.min(),mt.empty(),au)}static max(){return new fs(Et.max(),mt.empty(),au)}}function wI(i,t){let n=i.readTime.compareTo(t.readTime);return n!==0?n:(n=mt.comparator(i.documentKey,t.documentKey),n!==0?n:Vt(i.largestBatchId,t.largestBatchId))}const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function No(i){if(i.code!==J.FAILED_PRECONDITION||i.message!==AI)throw i;lt("LocalStore","Unexpectedly lost primary lease")}class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):tt.reject(n)}static resolve(t){return new tt(((n,s)=>{n(t)}))}static reject(t){return new tt(((n,s)=>{s(t)}))}static waitFor(t){return new tt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next((o=>o?tt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new tt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(t[y]).next((E=>{h[y]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(t,n){return new tt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function CI(i){const t=i.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class Jh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Jh.ce=-1;const Np=-1;function Zh(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function II(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const P0="";function DI(i){let t="";for(let n=0;n<i.length;n++)t.length>0&&(t=AE(t)),t=OI(i.get(n),t);return AE(t)}function OI(i,t){let n=t;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case P0:n+="";break;default:n+=u}}return n}function AE(i){return i+P0+""}function RE(i){let t=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t++;return t}function vs(i,t){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&t(n,i[n])}function U0(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}class ce{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ah(this.root,t,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ah(this.root,t,this.comparator,!0)}}class ah{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=o??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Xe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(t){return new CE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Le(this.comparator);return n.data=t,n}}class CE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new Rn([])}unionWith(t){let n=new Le($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new Rn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return vo(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}class L0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new L0("Invalid base64 string: "+u):u}})(t);return new We(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const NI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Ft(!!i,39018),typeof i=="string"){let t=0;const n=NI.exec(i);if(Ft(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(i.seconds),nanos:ve(i.nanos)}}function ve(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?We.fromBase64String(i):We.fromUint8Array(i)}const z0="server_timestamp",B0="__type__",j0="__previous_value__",q0="__local_write_time__";function Mp(i){return(i?.mapValue?.fields||{})[B0]?.stringValue===z0}function tf(i){const t=i.mapValue.fields[j0];return Mp(t)?tf(t):t}function ou(i){const t=ds(i.mapValue.fields[q0].timestampValue);return new re(t.seconds,t.nanos)}class MI{constructor(t,n,s,o,u,h,m,p,y,E,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E,this.apiKey=T}}const Oh="(default)";class lu{constructor(t,n){this.projectId=t,this.database=n||Oh}static empty(){return new lu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(t){return t instanceof lu&&t.projectId===this.projectId&&t.database===this.database}}function xI(i,t){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lu(i.options.projectId,t)}const H0="__type__",VI="__max__",oh={mapValue:{}},F0="__vector__",Nh="value";function ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mp(i)?4:PI(i)?9007199254740991:kI(i)?10:11:yt(28295,{value:i})}function Li(i,t){if(i===t)return!0;const n=ps(i);if(n!==ps(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ou(i).isEqual(ou(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,t);case 5:return i.stringValue===t.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return(function(o,u){return ve(o.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(o.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(i,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return ve(o.integerValue)===ve(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=ve(o.doubleValue),m=ve(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1})(i,t);case 9:return vo(i.arrayValue.values||[],t.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(RE(h)!==RE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Li(h[p],m[p])))return!1;return!0})(i,t);default:return yt(52216,{left:i})}}function uu(i,t){return(i.values||[]).find((n=>Li(n,t)))!==void 0}function Eo(i,t){if(i===t)return 0;const n=ps(i),s=ps(t);if(n!==s)return Vt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vt(i.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=ve(u.integerValue||u.doubleValue),p=ve(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,t);case 3:return IE(i.timestampValue,t.timestampValue);case 4:return IE(ou(i),ou(t));case 5:return Jm(i.stringValue,t.stringValue);case 6:return(function(u,h){const m=ms(u),p=ms(h);return m.compareTo(p)})(i.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Vt(m[y],p[y]);if(E!==0)return E}return Vt(m.length,p.length)})(i.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Vt(ve(u.latitude),ve(h.latitude));return m!==0?m:Vt(ve(u.longitude),ve(h.longitude))})(i.geoPointValue,t.geoPointValue);case 9:return DE(i.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Nh]?.arrayValue,E=p[Nh]?.arrayValue,T=Vt(y?.values?.length||0,E?.values?.length||0);return T!==0?T:DE(y,E)})(i.mapValue,t.mapValue);case 11:return(function(u,h){if(u===oh.mapValue&&h===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(h===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Jm(p[T],E[T]);if(w!==0)return w;const k=Eo(m[p[T]],y[E[T]]);if(k!==0)return k}return Vt(p.length,E.length)})(i.mapValue,t.mapValue);default:throw yt(23264,{he:n})}}function IE(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Vt(i,t);const n=ds(i),s=ds(t),o=Vt(n.seconds,s.seconds);return o!==0?o:Vt(n.nanos,s.nanos)}function DE(i,t){const n=i.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Vt(n.length,s.length)}function To(i){return Zm(i)}function Zm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ms(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return mt.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Zm(n.fields[h])}`;return o+"}"})(i.mapValue):yt(61005,{value:i})}function yh(i){switch(ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=tf(i);return t?16+yh(t):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return vs(s.fields,((u,h)=>{o+=u.length+yh(h)})),o})(i.mapValue);default:throw yt(13486,{value:i})}}function OE(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function tp(i){return!!i&&"integerValue"in i}function xp(i){return!!i&&"arrayValue"in i}function NE(i){return!!i&&"nullValue"in i}function ME(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _h(i){return!!i&&"mapValue"in i}function kI(i){return(i?.mapValue?.fields||{})[H0]?.stringValue===F0}function Jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const t={mapValue:{fields:{}}};return vs(i.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Jl(s))),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return t}return{...i}}function PI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===VI}class gn{constructor(t){this.value=t}static empty(){return new gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jl(n)}setAll(t){let n=$e.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Jl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){vs(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new gn(Jl(this.value))}}function G0(i){const t=[];return vs(i.fields,((n,s)=>{const o=new $e([n]);if(_h(s)){const u=G0(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new Rn(t)}class en{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new en(t,0,Et.min(),Et.min(),Et.min(),gn.empty(),0)}static newFoundDocument(t,n,s,o){return new en(t,1,n,Et.min(),s,o,0)}static newNoDocument(t,n){return new en(t,2,n,Et.min(),Et.min(),gn.empty(),0)}static newUnknownDocument(t,n){return new en(t,3,n,Et.min(),Et.min(),gn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(t,n){this.position=t,this.inclusive=n}}function xE(i,t,n){let s=0;for(let o=0;o<i.position.length;o++){const u=t[o],h=i.position[o];if(u.field.isKeyField()?s=mt.comparator(mt.fromName(h.referenceValue),n.key):s=Eo(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function VE(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Li(i.position[n],t.position[n]))return!1;return!0}class xh{constructor(t,n="asc"){this.field=t,this.dir=n}}function UI(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}class Y0{}class Ne extends Y0{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new zI(t,n,s):n==="array-contains"?new qI(t,s):n==="in"?new HI(t,s):n==="not-in"?new FI(t,s):n==="array-contains-any"?new GI(t,s):new Ne(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new BI(t,s):new jI(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends Y0{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ai(t,n)}matches(t){return Q0(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Q0(i){return i.op==="and"}function K0(i){return LI(i)&&Q0(i)}function LI(i){for(const t of i.filters)if(t instanceof ai)return!1;return!0}function ep(i){if(i instanceof Ne)return i.field.canonicalString()+i.op.toString()+To(i.value);if(K0(i))return i.filters.map((t=>ep(t))).join(",");{const t=i.filters.map((n=>ep(n))).join(",");return`${i.op}(${t})`}}function X0(i,t){return i instanceof Ne?(function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(i,t):i instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&X0(h,o.filters[m])),!0):!1})(i,t):void yt(19439)}function $0(i){return i instanceof Ne?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map($0).join(" ,")+"}"})(i):"Filter"}class zI extends Ne{constructor(t,n,s){super(t,n,s),this.key=mt.fromName(s.referenceValue)}matches(t){const n=mt.comparator(t.key,this.key);return this.matchesComparison(n)}}class BI extends Ne{constructor(t,n){super(t,"in",n),this.keys=W0("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class jI extends Ne{constructor(t,n){super(t,"not-in",n),this.keys=W0("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function W0(i,t){return(t.arrayValue?.values||[]).map((n=>mt.fromName(n.referenceValue)))}class qI extends Ne{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return xp(n)&&uu(n.arrayValue,this.value)}}class HI extends Ne{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class FI extends Ne{constructor(t,n){super(t,"not-in",n)}matches(t){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class GI extends Ne{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!xp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>uu(this.value.arrayValue,s)))}}class YI{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function kE(i,t=null,n=[],s=[],o=null,u=null,h=null){return new YI(i,t,n,s,o,u,h)}function Vp(i){const t=bt(i);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Zh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>To(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>To(s))).join(",")),t.Te=n}return t.Te}function kp(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!UI(i.orderBy[n],t.orderBy[n]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!X0(i.filters[n],t.filters[n]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!VE(i.startAt,t.startAt)&&VE(i.endAt,t.endAt)}function np(i){return mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class vu{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QI(i,t,n,s,o,u,h,m){return new vu(i,t,n,s,o,u,h,m)}function J0(i){return new vu(i)}function PE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function KI(i){return mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Z0(i){return i.collectionGroup!==null}function Zl(i){const t=bt(i);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Le($e.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new xh(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new xh($e.keyField(),s))}return t.Ie}function Mi(i){const t=bt(i);return t.Ee||(t.Ee=XI(t,Zl(i))),t.Ee}function XI(i,t){if(i.limitType==="F")return kE(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new xh(o.field,u)}));const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return kE(i.path,i.collectionGroup,t,i.filters,i.limit,n,s)}}function ip(i,t){const n=i.filters.concat([t]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function rp(i,t,n){return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,n,i.startAt,i.endAt)}function ef(i,t){return kp(Mi(i),Mi(t))&&i.limitType===t.limitType}function tS(i){return`${Vp(Mi(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>$0(o))).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Mi(i))}; limitType=${i.limitType})`}function nf(i,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):mt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,t)&&(function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const y=xE(h,m,p);return h.inclusive?y<=0:y<0})(s.startAt,Zl(s),o)||s.endAt&&!(function(h,m,p){const y=xE(h,m,p);return h.inclusive?y>=0:y>0})(s.endAt,Zl(s),o))})(i,t)}function $I(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eS(i){return(t,n)=>{let s=!1;for(const o of Zl(i)){const u=WI(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function WI(i,t,n){const s=i.field.isKeyField()?mt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Eo(p,y):yt(42886)})(i.field,t,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return yt(19790,{direction:i.dir})}}class ma{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){vs(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return U0(this.inner)}size(){return this.innerSize}}const JI=new ce(mt.comparator);function pr(){return JI}const nS=new ce(mt.comparator);function Xl(...i){let t=nS;for(const n of i)t=t.insert(n.key,n);return t}function iS(i){let t=nS;return i.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ta(){return tu()}function rS(){return tu()}function tu(){return new ma((i=>i.toString()),((i,t)=>i.isEqual(t)))}const ZI=new ce(mt.comparator),t2=new Le(mt.comparator);function kt(...i){let t=t2;for(const n of i)t=t.add(n);return t}const e2=new Le(Vt);function n2(){return e2}function Pp(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(t)?"-0":t}}function sS(i){return{integerValue:""+i}}function aS(i,t){return II(t)?sS(t):Pp(i,t)}class rf{constructor(){this._=void 0}}function i2(i,t,n){return i instanceof Vh?(function(o,u){const h={fields:{[B0]:{stringValue:z0},[q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Mp(u)&&(u=tf(u)),u&&(h.fields[j0]=u),{mapValue:h}})(n,t):i instanceof So?lS(i,t):i instanceof cu?uS(i,t):(function(o,u){const h=oS(o,u),m=UE(h)+UE(o.Ae);return tp(h)&&tp(o.Ae)?sS(m):Pp(o.serializer,m)})(i,t)}function r2(i,t,n){return i instanceof So?lS(i,t):i instanceof cu?uS(i,t):n}function oS(i,t){return i instanceof hu?(function(s){return tp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class Vh extends rf{}class So extends rf{constructor(t){super(),this.elements=t}}function lS(i,t){const n=cS(t);for(const s of i.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends rf{constructor(t){super(),this.elements=t}}function uS(i,t){let n=cS(t);for(const s of i.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class hu extends rf{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function UE(i){return ve(i.integerValue||i.doubleValue)}function cS(i){return xp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class hS{constructor(t,n){this.field=t,this.transform=n}}function s2(i,t){return i.field.isEqual(t.field)&&(function(s,o){return s instanceof So&&o instanceof So||s instanceof cu&&o instanceof cu?vo(s.elements,o.elements,Li):s instanceof hu&&o instanceof hu?Li(s.Ae,o.Ae):s instanceof Vh&&o instanceof Vh})(i.transform,t.transform)}class a2{constructor(t,n){this.version=t,this.transformResults=n}}class xi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new xi}static exists(t){return new xi(void 0,t)}static updateTime(t){return new xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vh(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class sf{}function fS(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new mS(i.key,xi.none()):new Eu(i.key,i.data,xi.none());{const n=i.data,s=gn.empty();let o=new Le($e.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(i.key,s,new Rn(o.toArray()),xi.none())}}function o2(i,t,n){i instanceof Eu?(function(o,u,h){const m=o.value.clone(),p=zE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,t,n):i instanceof Es?(function(o,u,h){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=zE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(dS(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function eu(i,t,n,s){return i instanceof Eu?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const y=u.value.clone(),E=BE(u.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,t,n,s):i instanceof Es?(function(u,h,m,p){if(!vh(u.precondition,h))return m;const y=BE(u.fieldTransforms,p,h),E=h.data;return E.setAll(dS(u)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,t,n,s):(function(u,h,m){return vh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,t,n)}function l2(i,t){let n=null;for(const s of i.fieldTransforms){const o=t.data.field(s.field),u=oS(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function LE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,h)=>s2(u,h)))})(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Eu extends sf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends sf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function dS(i){const t=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);t.set(n,s)}})),t}function zE(i,t,n){const s=new Map;Ft(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,r2(h,m,n[o]))}return s}function BE(i,t,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,i2(u,h,t))}return s}class mS extends sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u2 extends sf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class c2{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&o2(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=eu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=rS();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=fS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),kt())}isEqual(t){return this.batchId===t.batchId&&vo(this.mutations,t.mutations,((n,s)=>LE(n,s)))&&vo(this.baseMutations,t.baseMutations,((n,s)=>LE(n,s)))}}class Up{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Ft(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return ZI})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Up(t,n,s,o)}}class h2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f2{constructor(t,n){this.count=t,this.unchangedNames=n}}var Oe,Lt;function d2(i){switch(i){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:i})}}function pS(i){if(i===void 0)return mr("GRPC error has no .code"),J.UNKNOWN;switch(i){case Oe.OK:return J.OK;case Oe.CANCELLED:return J.CANCELLED;case Oe.UNKNOWN:return J.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return J.INTERNAL;case Oe.UNAVAILABLE:return J.UNAVAILABLE;case Oe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Oe.NOT_FOUND:return J.NOT_FOUND;case Oe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Oe.ABORTED:return J.ABORTED;case Oe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Oe.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:i})}}(Lt=Oe||(Oe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function m2(){return new TextEncoder}const p2=new os([4294967295,4294967295],0);function jE(i){const t=m2().encode(i),n=new R0;return n.update(t),new Uint8Array(n.digest())}function qE(i){const t=new DataView(i.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Lp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=os.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(os.fromNumber(s)));return o.compare(p2)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=jE(t),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new Lp(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=jE(t),[s,o]=qE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.be(h)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class af{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Tu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new af(Et.min(),o,new ce(Vt),pr(),kt())}}class Tu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Tu(s,n,kt(),kt(),kt())}}class Eh{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=o}}class gS{constructor(t,n){this.targetId=t,this.Ce=n}}class yS{constructor(t,n,s=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class HE{constructor(){this.ve=0,this.Fe=FE(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),n=kt(),s=kt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:yt(38017,{changeType:u})}})),new Tu(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=FE()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class g2{constructor(t){this.Ge=t,this.ze=new Map,this.je=pr(),this.He=lh(),this.Je=lh(),this.Ze=new ce(Vt)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(np(u))if(s===0){const h=new mt(u.path);this.et(n,h,en.newNoDocument(h,Et.min()))}else Ft(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=ms(s).toUint8Array()}catch(p){if(p instanceof L0)return aa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(h,o,u)}catch(p){return aa(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&np(m.target)){const p=new mt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,en.newNoDocument(p,t))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let s=kt();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new af(t,n,this.Ze,this.je,s);return this.je=pr(),this.He=lh(),this.Je=lh(),this.Ze=new ce(Vt),o}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new HE,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Le(Vt),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Le(Vt),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||lt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new HE),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function lh(){return new ce(mt.comparator)}function FE(){return new ce(mt.comparator)}const y2={asc:"ASCENDING",desc:"DESCENDING"},_2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v2={and:"AND",or:"OR"};class E2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sp(i,t){return i.useProto3Json||Zh(t)?t:{value:t}}function kh(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function T2(i,t){return kh(i,t.toTimestamp())}function Vi(i){return Ft(!!i,49232),Et.fromTimestamp((function(n){const s=ds(n);return new re(s.seconds,s.nanos)})(i))}function zp(i,t){return ap(i,t).canonicalString()}function ap(i,t){const n=(function(o){return new ee(["projects",o.projectId,"databases",o.database])})(i).child("documents");return t===void 0?n:n.child(t)}function vS(i){const t=ee.fromString(i);return Ft(wS(t),10190,{key:t.toString()}),t}function op(i,t){return zp(i.databaseId,t.path)}function Vm(i,t){const n=vS(t);if(n.get(1)!==i.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new mt(TS(n))}function ES(i,t){return zp(i.databaseId,t)}function S2(i){const t=vS(i);return t.length===4?ee.emptyPath():TS(t)}function lp(i){return new ee(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function TS(i){return Ft(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function GE(i,t,n){return{name:op(i,t),fields:n.value.mapValue.fields}}function b2(i,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string",58123),We.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),We.fromUint8Array(E||new Uint8Array))})(i,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(y){const E=y.code===void 0?J.UNKNOWN:pS(y.code);return new ot(E,y.message||"")})(h);n=new yS(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Vm(i,s.document.name),u=Vi(s.document.updateTime),h=s.document.createTime?Vi(s.document.createTime):Et.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,h,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Vm(i,s.document),u=s.readTime?Vi(s.readTime):Et.min(),h=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Vm(i,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new f2(o,u),m=s.targetId;n=new gS(m,h)}}return n}function w2(i,t){let n;if(t instanceof Eu)n={update:GE(i,t.key,t.value)};else if(t instanceof mS)n={delete:op(i,t.key)};else if(t instanceof Es)n={update:GE(i,t.key,t.data),updateMask:x2(t.fieldMask)};else{if(!(t instanceof u2))return yt(16599,{dt:t.type});n={verify:op(i,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw yt(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:T2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:yt(27497)})(i,t.precondition)),n}function A2(i,t){return i&&i.length>0?(Ft(t!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Vi(o.updateTime):Vi(u);return h.isEqual(Et.min())&&(h=Vi(u)),new a2(h,o.transformResults||[])})(n,t)))):[]}function R2(i,t){return{documents:[ES(i,t.path)]}}function C2(i,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ES(i,o);const u=(function(y){if(y.length!==0)return bS(ai.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((E=>(function(w){return{field:uo(w.field),direction:O2(w.dir)}})(E)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=sp(i,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:o}}function I2(i){let t=S2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ft(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=SS(T);return w instanceof ai&&K0(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(G){return new xh(co(G.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Zh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Mh(k,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const w=!T.before,k=T.values||[];return new Mh(k,w)})(n.endAt)),QI(t,o,h,u,m,"F",p,y)}function D2(i,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function SS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Ne.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Ne.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ne.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>SS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(n.compositeFilter.op))})(i):yt(30097,{filter:i})}function O2(i){return y2[i]}function N2(i){return _2[i]}function M2(i){return v2[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return $e.fromServerFormat(i.fieldPath)}function bS(i){return i instanceof Ne?(function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(NE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(NE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:N2(n.op),value:n.value}}})(i):i instanceof ai?(function(n){const s=n.getFilters().map((o=>bS(o)));return s.length===1?s[0]:{compositeFilter:{op:M2(n.op),filters:s}}})(i):yt(54877,{filter:i})}function x2(i){const t=[];return i.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function wS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function AS(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class rs{constructor(t,n,s,o,u=Et.min(),h=Et.min(),m=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new rs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class V2{constructor(t){this.yt=t}}function k2(i){const t=I2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rp(t,t.limit,"L"):t}class P2{constructor(){this.Sn=new U2}addToCollectionParentIndex(t,n){return this.Sn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(fs.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(fs.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class U2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Le(ee.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Le(ee.comparator)).toArray()}}const YE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RS=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(RS,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class bo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}const QE="LruGarbageCollector",L2=1048576;function KE([i,t],[n,s]){const o=Vt(i,n);return o===0?Vt(t,s):o}class z2{constructor(t){this.Pr=t,this.buffer=new Le(KE),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();KE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class B2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){lt(QE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?lt(QE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Ar(3e5)}))}}class j2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Jh.ce);const s=new z2(n);return this.Vr.forEachTarget(t,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(t,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(YE)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YE):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,o,u,h,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(y=Date.now(),oo()<=xt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function q2(i,t){return new j2(i,t)}class H2{constructor(){this.changes=new ma((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class F2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}class G2{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&eu(s.mutation,o,Rn.empty(),re.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,kt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=kt()){const o=ta();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Xl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,kt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=pr();const h=tu(),m=(function(){return tu()})();return n.forEach(((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),eu(E.mutation,y,E.mutation.getFieldMask(),re.now())):h.set(y.key,Rn.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>h.set(y,E))),n.forEach(((y,E)=>m.set(y,new F2(E,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=tu();let o=new ce(((h,m)=>h-m)),u=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const T=(o.get(m.batchId)||kt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,T=rS();E.forEach((w=>{if(!u.has(w)){const k=fS(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(t,y,T))}return tt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return KI(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Z0(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(ta());let m=au,p=u;return h.next((y=>tt.forEach(y,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?tt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,kt()))).next((E=>({batchId:m,changes:iS(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new mt(n)).next((s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(t,u).next((m=>tt.forEach(m,(p=>{const y=(function(T,w){return new vu(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,en.newInvalidDocument(E)))}));let m=Xl();return h.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&eu(E.mutation,y,Rn.empty(),re.now()),nf(n,y)&&(m=m.insert(p,y))})),m}))}}class Y2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return tt.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:k2(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),tt.resolve()}}class Q2{constructor(){this.overlays=new ce(mt.comparator),this.Lr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return tt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.bt(t,n,u)})),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=ta(),u=n.length+1,h=new mt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new ce(((y,E)=>y-E));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=ta(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return tt.resolve(m)}bt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new h2(n,s));let u=this.Lr.get(n);u===void 0&&(u=kt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class K2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}class Bp{constructor(){this.kr=new Le(qe.Kr),this.qr=new Le(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new qe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new mt(new ee([])),s=new qe(n,t),o=new qe(n,t+1),u=[];return this.qr.forEachInRange([s,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new mt(new ee([])),s=new qe(n,t),o=new qe(n,t+1);let u=kt();return this.qr.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new qe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return mt.comparator(t.key,n.key)||Vt(t.Hr,n.Hr)}static Ur(t,n){return Vt(t.Hr,n.Hr)||mt.comparator(t.key,n.key)}}class X2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Le(qe.Kr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new c2(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return tt.resolve(h)}lookupMutationBatch(t,n){return tt.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?Np:this.Yn-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),o=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Le(Vt);return n.forEach((o=>{const u=new qe(o,0),h=new qe(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{s=s.add(m.Hr)}))})),tt.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;mt.isDocumentKey(u)||(u=u.child(""));const h=new qe(new mt(u),0);let m=new Le(Vt);return this.Jr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Hr)),!0)}),h),tt.resolve(this.Yr(m))}Yr(t){const n=[];return t.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Ft(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return tt.forEach(n.mutations,(o=>{const u=new qe(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new qe(n,0),o=this.Jr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class $2{constructor(t){this.ti=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(t,n){let s=pr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))})),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=pr();const h=n.path,m=new mt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||wI(bI(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){yt(9500)}ni(t,n){return tt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new W2(this)}getSize(t){return tt.resolve(this.size)}}class W2 extends H2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(t,o)):this.Mr.removeEntry(s)})),tt.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}class J2{constructor(t){this.persistence=t,this.ri=new ma((n=>Vp(n)),kp),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Bp,this.targetCount=0,this.oi=bo._r()}forEachTarget(t,n){return this.ri.forEach(((s,o)=>n(o))),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),tt.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.lr(n),tt.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),tt.waitFor(u).next((()=>o))}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.si.containsKey(n))}}class CS{constructor(t,n){this._i={},this.overlays={},this.ai=new Jh(0),this.ui=!1,this.ui=!0,this.ci=new K2,this.referenceDelegate=t(this),this.li=new J2(this),this.indexManager=new P2,this.remoteDocumentCache=(function(o){return new $2(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new V2(n),this.Pi=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Q2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new X2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){lt("MemoryPersistence","Starting transaction:",t);const o=new Z2(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(t,n){return tt.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class Z2 extends RI{constructor(t){super(),this.currentSequenceNumber=t}}class jp{constructor(t){this.persistence=t,this.Ri=new Bp,this.Ai=null}static Vi(t){return new jp(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),tt.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.di,(s=>{const o=mt.fromPath(s);return this.mi(t,o).next((u=>{u||n.removeEntry(o,Et.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return tt.or([()=>tt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Ph{constructor(t,n){this.persistence=t,this.fi=new ma((s=>DI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=q2(this,n)}static Vi(t,n){return new Ph(t,n)}Ti(){}Ii(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return tt.forEach(this.fi,((s,o)=>this.wr(t,s,o).next((u=>u?tt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(t,(h=>this.wr(t,h,n).next((m=>{m||(s++,u.removeEntry(h,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),tt.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=yh(t.data.value)),n}wr(t,n,s){return tt.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.fi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=o}static Es(t,n){let s=kt(),o=kt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(t,n.fromCache,s,o)}}class tD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eD{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return FR()?8:CI(nn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.gs(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new tD;return this.ys(t,n,h).next((m=>{if(u.result=m,this.As)return this.ws(t,n,h,m.size)}))})).next((()=>u.result))}ws(t,n,s,o){return s.documentReadCount<this.Vs?(oo()<=xt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),tt.resolve()):(oo()<=xt.DEBUG&&lt("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(oo()<=xt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Mi(n))):tt.resolve())}gs(t,n){if(PE(n))return tt.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=rp(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=kt(...u);return this.fs.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const y=this.bs(n,m);return this.Ss(n,y,h,p.readTime)?this.gs(t,rp(n,null,"F")):this.Ds(t,y,n,p)}))))})))))}ps(t,n,s,o){return PE(n)||o.isEqual(Et.min())?tt.resolve(null):this.fs.getDocuments(t,s).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,s,o)?tt.resolve(null):(oo()<=xt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.Ds(t,h,n,SI(o,au)).next((m=>m)))}))}bs(t,n){let s=new Le(eS(t));return n.forEach(((o,u)=>{nf(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(t,n,s){return oo()<=xt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",lo(n)),this.fs.getDocumentsMatchingQuery(t,n,fs.min(),s)}Ds(t,n,s,o){return this.fs.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const Hp="LocalStore",nD=3e8;class iD{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.vs=new ce(Vt),this.Fs=new ma((u=>Vp(u)),kp),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new G2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function rD(i,t,n,s){return new iD(i,t,n,s)}async function IS(i,t){const n=bt(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=kt();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ns:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function sD(i,t){const n=bt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const T=y.batch,w=T.keys();let k=tt.resolve();return w.forEach((G=>{k=k.next((()=>E.getEntry(p,G))).next((Q=>{const F=y.docVersions.get(G);Ft(F!==null,48541),Q.version.compareTo(F)<0&&(T.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=kt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function DS(i){const t=bt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function aD(i,t){const n=bt(i),s=t.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?k=k.withResumeToken(We.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(Q,F,nt){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=nD?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(w,k,E)&&m.push(n.li.updateTargetData(u,k))}));let p=pr(),y=kt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(oD(u,h,t.documentUpdates).next((E=>{p=E.Bs,y=E.Ls}))),!s.isEqual(Et.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return tt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.vs=o,u)))}function oD(i,t,n){let s=kt(),o=kt();return n.forEach((u=>s=s.add(u))),t.getEntries(i,s).next((u=>{let h=pr();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):lt(Hp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function lD(i,t){const n=bt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function uD(i,t){const n=bt(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,t).next((u=>u?(o=u,tt.resolve(o)):n.li.allocateTargetId(s).next((h=>(o=new rs(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function up(i,t,n){const s=bt(i),o=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Mo(h))throw h;lt(Hp,`Failed to update sequence numbers for target ${t}: ${h}`)}s.vs=s.vs.remove(t),s.Fs.delete(o.target)}function XE(i,t,n){const s=bt(i);let o=Et.min(),u=kt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,E){const T=bt(p),w=T.Fs.get(E);return w!==void 0?tt.resolve(T.vs.get(w)):T.li.getTargetData(y,E)})(s,h,Mi(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,t,n?o:Et.min(),n?u:kt()))).next((m=>(cD(s,$I(t),m),{documents:m,ks:u})))))}function cD(i,t,n){let s=i.Ms.get(t)||Et.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Ms.set(t,s)}class $E{constructor(){this.activeTargetIds=n2()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hD{constructor(){this.vo=new $E,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new $E,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fD{Mo(t){}shutdown(){}}const WE="ConnectivityMonitor";class JE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){lt(WE,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){lt(WE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function cp(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const km="RestConnection",dD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mD{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const h=cp(),m=this.Qo(t,n.toUriEncodedString());lt(km,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:y}=new URL(m),E=_s(y);return this.zo(t,m,p,s,E).then((T=>(lt(km,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw aa(km,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}jo(t,n,s,o,u,h){return this.Wo(t,n,s,o,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}Qo(t,n){const s=dD[t];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class pD{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Ze="WebChannelConnection",Fl=(i,t,n)=>{i.listen(t,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class ho extends mD{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!ho.c_){const t=O0();Fl(t,D0.STAT_EVENT,(n=>{n.stat===Wm.PROXY?lt(Ze,"STAT_EVENT: detected buffering proxy"):n.stat===Wm.NOPROXY&&lt(Ze,"STAT_EVENT: detected no buffering proxy")})),ho.c_=!0}}zo(t,n,s,o,u){const h=cp();return new Promise(((m,p)=>{const y=new C0;y.setWithCredentials(!0),y.listenOnce(I0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case gh.NO_ERROR:const T=y.getResponseJson();lt(Ze,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case gh.TIMEOUT:lt(Ze,`RPC '${t}' ${h} timed out`),p(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=y.getStatus();if(lt(Ze,`RPC '${t}' ${h} failed with status:`,w,"response text:",y.getResponseText()),w>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k?.error;if(G&&G.status&&G.message){const Q=(function(nt){const et=nt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(et)>=0?et:J.UNKNOWN})(G.status);p(new ot(Q,G.message))}else p(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(Ze,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);lt(Ze,`RPC '${t}' ${h} sending request:`,o),y.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=cp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");lt(Ze,`Creating RPC '${t}' stream ${o}: ${y}`,m);const E=h.createWebChannel(y,m);this.I_(E);let T=!1,w=!1;const k=new pD({Ho:G=>{w?lt(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,G):(T||(lt(Ze,`Opening RPC '${t}' stream ${o} transport.`),E.open(),T=!0),lt(Ze,`RPC '${t}' stream ${o} sending:`,G),E.send(G))},Jo:()=>E.close()});return Fl(E,Kl.EventType.OPEN,(()=>{w||(lt(Ze,`RPC '${t}' stream ${o} transport opened.`),k.i_())})),Fl(E,Kl.EventType.CLOSE,(()=>{w||(w=!0,lt(Ze,`RPC '${t}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Fl(E,Kl.EventType.ERROR,(G=>{w||(w=!0,aa(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),k.o_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),Fl(E,Kl.EventType.MESSAGE,(G=>{if(!w){const Q=G.data[0];Ft(!!Q,16349);const F=Q,nt=F?.error||F[0]?.error;if(nt){lt(Ze,`RPC '${t}' stream ${o} received error:`,nt);const et=nt.status;let it=(function(Tt){const R=Oe[Tt];if(R!==void 0)return pS(R)})(et),ft=nt.message;et==="NOT_FOUND"&&ft.includes("database")&&ft.includes("does not exist")&&ft.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),it===void 0&&(it=J.INTERNAL,ft="Unknown error status: "+et+" with message "+nt.message),w=!0,k.o_(new ot(it,ft)),E.close()}else lt(Ze,`RPC '${t}' stream ${o} received:`,Q),k.__(Q)}})),ho.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return N0()}}function gD(i){return new ho(i)}function Pm(){return typeof document<"u"?document:null}function of(i){return new E2(i,!0)}ho.c_=!1;class OS{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const ZE="PersistentStream";class NS{constructor(t,n,s,o,u,h,m,p){this.Ci=t,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OS(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ot(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(ZE,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(lt(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yD extends NS{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=b2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Et.min():h.readTime?Vi(h.readTime):Et.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=lp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=np(p)?{documents:R2(u,p)}:{query:C2(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=_S(u,h.resumeToken);const y=sp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Et.min())>0){m.readTime=kh(u,h.snapshotVersion.toTimestamp());const y=sp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const s=D2(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=lp(this.serializer),n.removeTarget=t,this.K_(n)}}class _D extends NS{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=A2(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=lp(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>w2(this.serializer,s)))};this.K_(n)}}class vD{}class ED extends vD{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(t,ap(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(J.UNKNOWN,u.toString())}))}jo(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(t,ap(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(J.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TD(i,t,n,s){return new ED(i,t,n,s)}class SD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(mr(n),this.aa=!1):lt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const la="RemoteStore";class bD{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(lt(la,"Restarting streams for network reachability change."),await(async function(p){const y=bt(p);y.Ea.add(4),await Su(y),y.Va.set("Unknown"),y.Ea.delete(4),await lf(y)})(this))}))})),this.Va=new SD(s,o)}}async function lf(i){if(pa(i))for(const t of i.Ra)await t(!0)}async function Su(i){for(const t of i.Ra)await t(!1)}function MS(i,t){const n=bt(i);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Qp(n)?Yp(n):xo(n).O_()&&Gp(n,t))}function Fp(i,t){const n=bt(i),s=xo(n);n.Ia.delete(t),s.O_()&&xS(n,t),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Va.set("Unknown"))}function Gp(i,t){if(i.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}xo(i).Z_(t)}function xS(i,t){i.da.$e(t),xo(i).X_(t)}function Yp(i){i.da=new g2({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),At:t=>i.Ia.get(t)||null,ht:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.Va.ua()}function Qp(i){return pa(i)&&!xo(i).x_()&&i.Ia.size>0}function pa(i){return bt(i).Ea.size===0}function VS(i){i.da=void 0}async function wD(i){i.Va.set("Online")}async function AD(i){i.Ia.forEach(((t,n)=>{Gp(i,t)}))}async function RD(i,t){VS(i),Qp(i)?(i.Va.ha(t),Yp(i)):i.Va.set("Unknown")}async function CD(i,t,n){if(i.Va.set("Online"),t instanceof yS&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})(i,t)}catch(s){lt(la,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Uh(i,s)}else if(t instanceof Eh?i.da.Xe(t):t instanceof gS?i.da.st(t):i.da.tt(t),!n.isEqual(Et.min()))try{const s=await DS(i.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(We.EMPTY_BYTE_STRING,E.snapshotVersion)),xS(u,p);const T=new rs(E.target,p,y,E.sequenceNumber);Gp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){lt(la,"Failed to raise snapshot:",s),await Uh(i,s)}}async function Uh(i,t,n){if(!Mo(t))throw t;i.Ea.add(1),await Su(i),i.Va.set("Offline"),n||(n=()=>DS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{lt(la,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await lf(i)}))}function kS(i,t){return t().catch((n=>Uh(i,n,t)))}async function uf(i){const t=bt(i),n=gs(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Np;for(;ID(t);)try{const o=await lD(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,DD(t,o)}catch(o){await Uh(t,o)}PS(t)&&US(t)}function ID(i){return pa(i)&&i.Ta.length<10}function DD(i,t){i.Ta.push(t);const n=gs(i);n.O_()&&n.Y_&&n.ea(t.mutations)}function PS(i){return pa(i)&&!gs(i).x_()&&i.Ta.length>0}function US(i){gs(i).start()}async function OD(i){gs(i).ra()}async function ND(i){const t=gs(i);for(const n of i.Ta)t.ea(n.mutations)}async function MD(i,t,n){const s=i.Ta.shift(),o=Up.from(s,t,n);await kS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await uf(i)}async function xD(i,t){t&&gs(i).Y_&&await(async function(s,o){if((function(h){return d2(h)&&h!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await kS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await uf(s)}})(i,t),PS(i)&&US(i)}async function tT(i,t){const n=bt(i);n.asyncQueue.verifyOperationInProgress(),lt(la,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await Su(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await lf(n)}async function VD(i,t){const n=bt(i);t?(n.Ea.delete(2),await lf(n)):t||(n.Ea.add(2),await Su(n),n.Va.set("Unknown"))}function xo(i){return i.ma||(i.ma=(function(n,s,o){const u=bt(n);return u.sa(),new yD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:wD.bind(null,i),Yo:AD.bind(null,i),t_:RD.bind(null,i),J_:CD.bind(null,i)}),i.Ra.push((async t=>{t?(i.ma.B_(),Qp(i)?Yp(i):i.Va.set("Unknown")):(await i.ma.stop(),VS(i))}))),i.ma}function gs(i){return i.fa||(i.fa=(function(n,s,o){const u=bt(n);return u.sa(),new _D(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OD.bind(null,i),t_:xD.bind(null,i),ta:ND.bind(null,i),na:MD.bind(null,i)}),i.Ra.push((async t=>{t?(i.fa.B_(),await uf(i)):(await i.fa.stop(),i.Ta.length>0&&(lt(la,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Kp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ls,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Kp(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(i,t){if(mr("AsyncQueue",`${t}: ${i}`),Mo(i))return new ot(J.UNAVAILABLE,`${t}: ${i}`);throw i}class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||mt.comparator(n.key,s.key):(n,s)=>mt.comparator(n.key,s.key),this.keyedMap=Xl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}class eT{constructor(){this.ga=new ce(mt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,o,u,h,m,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new wo(t,n,fo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ef(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class kD{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class PD{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=bt(n),u=o.queries;o.queries=nT(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function nT(){return new ma((i=>tS(i)),ef)}async function UD(i,t){const n=bt(i);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.Da()&&(s=2):(u=new kD,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Xp(h,`Initialization of query '${lo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&$p(n)}async function LD(i,t){const n=bt(i),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ba.indexOf(t);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=t.Da()?0:1:!u.Sa()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zD(i,t){const n=bt(i);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(s=!0);h.wa=o}}s&&$p(n)}function BD(i,t,n){const s=bt(i),o=s.queries.get(t);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(t)}function $p(i){i.Ca.forEach((t=>{t.next()}))}var hp,iT;(iT=hp||(hp={})).Ma="default",iT.Cache="cache";class jD{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hp.Cache}}class LS{constructor(t){this.key=t}}class zS{constructor(t){this.key=t}}class qD{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=kt(),this.mutatedKeys=kt(),this.eu=eS(t),this.tu=new fo(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new eT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),k=nf(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;w&&k?w.data.isEqual(k.data)?G!==Q&&(s.track({type:3,doc:k}),F=!0):this.su(w,k)||(s.track({type:2,doc:k}),F=!0,(p&&this.eu(k,p)>0||y&&this.eu(k,y)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),F=!0):w&&!k&&(s.track({type:1,doc:w}),F=!0,(p||y)&&(m=!0)),F&&(k?(h=h.add(k),u=Q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Ss:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(k,G){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:F})}};return Q(k)-Q(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Xa;return this.Xa=p,h.length!==0||y?{snapshot:new wo(this.query,t.tu,u,h,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=kt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new zS(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new LS(s))})),n}cu(t){this.Za=t.ks,this.Ya=kt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Wp="SyncEngine";class HD{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class FD{constructor(t){this.key=t,this.hu=!1}}class GD{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>tS(m)),ef),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(mt.comparator),this.Au=new Map,this.Vu=new Bp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YD(i,t,n=!0){const s=GS(i);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await BS(s,t,n,!0),o}async function QD(i,t){const n=GS(i);await BS(n,t,!0,!1)}async function BS(i,t,n,s){const o=await uD(i.localStore,Mi(t)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await KD(i,t,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&MS(i.remoteStore,o),m}async function KD(i,t,n,s,o){i.pu=(T,w,k)=>(async function(Q,F,nt,et){let it=F.view.ru(nt);it.Ss&&(it=await XE(Q.localStore,F.query,!1).then((({documents:R})=>F.view.ru(R,it))));const ft=et&&et.targetChanges.get(F.targetId),wt=et&&et.targetMismatches.get(F.targetId)!=null,Tt=F.view.applyChanges(it,Q.isPrimaryClient,ft,wt);return sT(Q,F.targetId,Tt.au),Tt.snapshot})(i,T,w,k);const u=await XE(i.localStore,t,!0),h=new qD(t,u.ks),m=h.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,p);sT(i,n,y.au);const E=new HD(t,n,h);return i.Tu.set(t,E),i.Iu.has(n)?i.Iu.get(n).push(t):i.Iu.set(n,[t]),y.snapshot}async function XD(i,t,n){const s=bt(i),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!ef(h,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),fp(s,o.targetId)})).catch(No)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function $D(i,t){const n=bt(i),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function WD(i,t,n){const s=rO(i);try{const o=await(function(h,m){const p=bt(h),y=re.now(),E=m.reduce(((k,G)=>k.add(G.key)),kt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=pr(),Q=kt();return p.xs.getEntries(k,E).next((F=>{G=F,G.forEach(((nt,et)=>{et.isValidDocument()||(Q=Q.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,G))).next((F=>{T=F;const nt=[];for(const et of m){const it=l2(et,T.get(et.key).overlayedDocument);it!=null&&nt.push(new Es(et.key,it,G0(it.value.mapValue),xi.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,nt,m)})).next((F=>{w=F;const nt=F.applyToLocalDocumentSet(T,Q);return p.documentOverlayCache.saveOverlays(k,F.batchId,nt)}))})).then((()=>({batchId:w.batchId,changes:iS(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let y=h.du[h.currentUser.toKey()];y||(y=new ce(Vt)),y=y.insert(m,p),h.du[h.currentUser.toKey()]=y})(s,o.batchId,n),await bu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=Xp(o,"Failed to persist write");n.reject(u)}}async function jS(i,t){const n=bt(i);try{const s=await aD(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ft(h.hu,14607):o.removedDocuments.size>0&&(Ft(h.hu,42227),h.hu=!1))})),await bu(n,s,t)}catch(s){await No(s)}}function rT(i,t,n){const s=bt(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=bt(h);p.onlineState=m;let y=!1;p.queries.forEach(((E,T)=>{for(const w of T.ba)w.va(m)&&(y=!0)})),y&&$p(p)})(s.eventManager,t),o.length&&s.Pu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function JD(i,t,n){const s=bt(i);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let h=new ce(mt.comparator);h=h.insert(u,en.newNoDocument(u,Et.min()));const m=kt().add(u),p=new af(Et.min(),new Map,new ce(Vt),h,m);await jS(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(t),Jp(s)}else await up(s.localStore,t,!1).then((()=>fp(s,t,n))).catch(No)}async function ZD(i,t){const n=bt(i),s=t.batch.batchId;try{const o=await sD(n.localStore,t);HS(n,s,null),qS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await No(o)}}async function tO(i,t,n){const s=bt(i);try{const o=await(function(h,m){const p=bt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((T=>(Ft(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(s.localStore,t);HS(s,t,n),qS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await bu(s,o)}catch(o){await No(o)}}function qS(i,t){(i.mu.get(t)||[]).forEach((n=>{n.resolve()})),i.mu.delete(t)}function HS(i,t,n){const s=bt(i);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.du[s.currentUser.toKey()]=o}}function fp(i,t,n=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Iu.get(t))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(t),i.isPrimaryClient&&i.Vu.Gr(t).forEach((s=>{i.Vu.containsKey(s)||FS(i,s)}))}function FS(i,t){i.Eu.delete(t.path.canonicalString());const n=i.Ru.get(t);n!==null&&(Fp(i.remoteStore,n),i.Ru=i.Ru.remove(t),i.Au.delete(n),Jp(i))}function sT(i,t,n){for(const s of n)s instanceof LS?(i.Vu.addReference(s.key,t),eO(i,s)):s instanceof zS?(lt(Wp,"Document no longer in limbo: "+s.key),i.Vu.removeReference(s.key,t),i.Vu.containsKey(s.key)||FS(i,s.key)):yt(19791,{wu:s})}function eO(i,t){const n=t.key,s=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(s)||(lt(Wp,"New document in limbo: "+n),i.Eu.add(s),Jp(i))}function Jp(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const t=i.Eu.values().next().value;i.Eu.delete(t);const n=new mt(ee.fromString(t)),s=i.fu.next();i.Au.set(s,new FD(n)),i.Ru=i.Ru.insert(n,s),MS(i.remoteStore,new rs(Mi(J0(n.path)),s,"TargetPurposeLimboResolution",Jh.ce))}}async function bu(i,t,n){const s=bt(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,t,n).then((y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=qp.Es(p.targetId,y);u.push(E)}})))})),await Promise.all(h),s.Pu.J_(o),await(async function(p,y){const E=bt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>tt.forEach(y,(w=>tt.forEach(w.Ts,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>tt.forEach(w.Is,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!Mo(T))throw T;lt(Hp,"Failed to update sequence numbers: "+T)}for(const T of y){const w=T.targetId;if(!T.fromCache){const k=E.vs.get(w),G=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(G);E.vs=E.vs.insert(w,Q)}}})(s.localStore,u))}async function nO(i,t){const n=bt(i);if(!n.currentUser.isEqual(t)){lt(Wp,"User change. New user:",t.toKey());const s=await IS(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ot(J.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Ns)}}function iO(i,t){const n=bt(i),s=n.Au.get(t);if(s&&s.hu)return kt().add(s.key);{let o=kt();const u=n.Iu.get(t);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function GS(i){const t=bt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=jS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JD.bind(null,t),t.Pu.J_=zD.bind(null,t.eventManager),t.Pu.yu=BD.bind(null,t.eventManager),t}function rO(i){const t=bt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=ZD.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,t),t}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=of(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return rD(this.persistence,new eD,t.initialUser,this.serializer)}Cu(t){return new CS(jp.Vi,this.serializer)}Du(t){return new hD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class sO extends Lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ft(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new B2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new CS((s=>Ph.Vi(s,n)),this.serializer)}}class dp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>rT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nO.bind(null,this.syncEngine),await VD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new PD})()}createDatastore(t){const n=of(t.databaseInfo.databaseId),s=gD(t.databaseInfo);return TD(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new bD(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>rT(this.syncEngine,n,0)),(function(){return JE.v()?new JE:new fD})())}createSyncEngine(t,n){return(function(o,u,h,m,p,y,E){const T=new GD(o,u,h,m,p,y);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=bt(n);lt(la,"RemoteStore shutting down."),s.Ea.add(5),await Su(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dp.provider={build:()=>new dp};class aO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}const ys="FirestoreClient";class oO{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{lt(ys,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(lt(ys,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ls;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Xp(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Um(i,t){i.asyncQueue.verifyOperationInProgress(),lt(ys,"Initializing OfflineComponentProvider");const n=i.configuration;await t.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await IS(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=t}async function aT(i,t){i.asyncQueue.verifyOperationInProgress();const n=await lO(i);lt(ys,"Initializing OnlineComponentProvider"),await t.initialize(n,i.configuration),i.setCredentialChangeListener((s=>tT(t.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>tT(t.remoteStore,o))),i._onlineComponents=t}async function lO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){lt(ys,"Using user provided OfflineComponentProvider");try{await Um(i,i._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await Um(i,new Lh)}}else lt(ys,"Using default OfflineComponentProvider"),await Um(i,new sO(void 0));return i._offlineComponents}async function YS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(lt(ys,"Using user provided OnlineComponentProvider"),await aT(i,i._uninitializedComponentsProvider._online)):(lt(ys,"Using default OnlineComponentProvider"),await aT(i,new dp))),i._onlineComponents}function uO(i){return YS(i).then((t=>t.syncEngine))}async function cO(i){const t=await YS(i),n=t.eventManager;return n.onListen=YD.bind(null,t.syncEngine),n.onUnlisten=XD.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=QD.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=$D.bind(null,t.syncEngine),n}function hO(i,t,n={}){const s=new ls;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const E=new aO({next:w=>{E.Nu(),h.enqueueAndForget((()=>LD(u,T))),w.fromCache&&p.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),T=new jD(m,E,{includeMetadataChanges:!0,Ka:!0});return UD(u,T)})(await cO(i),i.asyncQueue,t,n,s))),s.promise}function fO(i,t){const n=new ls;return i.asyncQueue.enqueueAndForget((async()=>WD(await uO(i),t,n))),n.promise}function QS(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const dO="ComponentProvider",oT=new Map;function mO(i,t,n,s,o){return new MI(i,t,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,QS(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const KS="firestore.googleapis.com",lT=!0;class uT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KS,this.ssl=lT}else this.host=t.host,this.ssl=t.ssl??lT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=RS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<L2)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}TI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new hI;switch(s.type){case"firstParty":return new pI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=oT.get(n);s&&(lt(dO,"Removing Datastore"),oT.delete(n),s.terminate())})(this),Promise.resolve()}}function pO(i,t,n,s={}){i=oa(i,cf);const o=_s(t),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${t}:${n}`;o&&(wp(`https://${m}`),Ap("Firestore",!0)),u.host!==KS&&u.host!==m&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!cs(p,h)&&(i._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=tn.MOCK_USER;else{y=E0(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(T)}i._authCredentials=new fI(new x0(y,E))}}class Vo{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Vo(this.firestore,t,this._query)}}class xe{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xe(this.firestore,t,this._key)}toJSON(){return{type:xe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(_u(n,xe._jsonSchema))return new xe(t,s||null,new mt(ee.fromString(n.referencePath)))}}xe._jsonSchemaVersion="firestore/documentReference/1.0",xe._jsonSchema={type:Me("string",xe._jsonSchemaVersion),referencePath:Me("string")};class us extends Vo{constructor(t,n,s){super(t,n,J0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xe(this.firestore,null,new mt(t))}withConverter(t){return new us(this.firestore,t,this._path)}}function hf(i,t,...n){if(i=Ee(i),V0("collection","path",t),i instanceof cf){const s=ee.fromString(t,...n);return SE(s),new us(i,null,s)}{if(!(i instanceof xe||i instanceof us))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(t,...n));return SE(s),new us(i.firestore,null,s)}}function XS(i,t,...n){if(i=Ee(i),arguments.length===1&&(t=Op.newId()),V0("doc","path",t),i instanceof cf){const s=ee.fromString(t,...n);return TE(s),new xe(i,null,new mt(s))}{if(!(i instanceof xe||i instanceof us))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ee.fromString(t,...n));return TE(s),new xe(i.firestore,i instanceof us?i.converter:null,new mt(s))}}const cT="AsyncQueue";class hT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OS(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&lt(cT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ls;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Mo(t))throw t;lt(cT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,mr("INTERNAL UNHANDLED ERROR: ",fT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Kp.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function fT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class ff extends cf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new hT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new hT(t),this._firestoreClient=void 0,await t}}}function gO(i,t){const n=typeof i=="object"?i:Ip(),s=typeof i=="string"?i:Oh,o=$h(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=y0("firestore");u&&pO(o,...u)}return o}function $S(i){if(i._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||yO(i),i._firestoreClient}function yO(i){const t=i._freezeSettings(),n=mO(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,t);i._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),i._firestoreClient=new oO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(We.fromBase64String(t))}catch(n){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_u(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Me("string",qn._jsonSchemaVersion),bytes:Me("string")};class Zp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wu{constructor(t){this._methodName=t}}class ki{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(_u(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Me("string",ki._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};class ri{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_u(t,ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ri(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:Me("string",ri._jsonSchemaVersion),vectorValues:Me("object")};const _O=/^__.*__$/;class vO{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Es(t,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(t,this.data,n,this.fieldTransforms)}}class WS{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new Es(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function JS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:i})}}class df{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new df({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){const n=this.path?.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return zh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(JS(this.dataSource)&&_O.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class EO{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||of(t)}createContext(t,n,s,o=!1){return new df({dataSource:t,methodName:n,targetDoc:s,path:$e.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tg(i){const t=i._freezeSettings(),n=of(i._databaseId);return new EO(i._databaseId,!!t.ignoreUndefinedProperties,n)}function TO(i,t,n,s,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,t,n,o);ig("Data must be an object, but it was:",h,s);const m=ZS(s,h);let p,y;if(u.merge)p=new Rn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=Ao(t,T,n);if(!h.contains(w))throw new ot(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);nb(E,w)||E.push(w)}p=new Rn(E),y=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=h.fieldTransforms;return new vO(new gn(m),p,y)}class mf extends wu{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof mf}}function SO(i,t,n){return new df({dataSource:3,targetDoc:t.settings.targetDoc,methodName:i._methodName,arrayElement:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class eg extends wu{constructor(t,n){super(t),this.Ac=n}_toFieldTransform(t){const n=SO(this,t,!0),s=this.Ac.map((u=>ko(u,n))),o=new So(s);return new hS(t.path,o)}isEqual(t){return t instanceof eg&&cs(this.Ac,t.Ac)}}class ng extends wu{constructor(t,n){super(t),this.Vc=n}_toFieldTransform(t){const n=new hu(t.serializer,aS(t.serializer,this.Vc));return new hS(t.path,n)}isEqual(t){return t instanceof ng&&this.Vc===t.Vc}}function bO(i,t,n,s){const o=i.createContext(1,t,n);ig("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();vs(s,((p,y)=>{const E=eb(t,p,n);y=Ee(y);const T=o.childContextForFieldPath(E);if(y instanceof mf)u.push(E);else{const w=ko(y,T);w!=null&&(u.push(E),h.set(E,w))}}));const m=new Rn(u);return new WS(h,m,o.fieldTransforms)}function wO(i,t,n,s,o,u){const h=i.createContext(1,t,n),m=[Ao(t,s,n)],p=[o];if(u.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Ao(t,u[w])),p.push(u[w+1]);const y=[],E=gn.empty();for(let w=m.length-1;w>=0;--w)if(!nb(y,m[w])){const k=m[w];let G=p[w];G=Ee(G);const Q=h.childContextForFieldPath(k);if(G instanceof mf)y.push(k);else{const F=ko(G,Q);F!=null&&(y.push(k),E.set(k,F))}}const T=new Rn(y);return new WS(E,T,h.fieldTransforms)}function AO(i,t,n,s=!1){return ko(n,i.createContext(s?4:3,t))}function ko(i,t){if(tb(i=Ee(i)))return ig("Unsupported field value:",t,i),ZS(i,t);if(i instanceof wu)return(function(s,o){if(!JS(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=ko(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,t)}return(function(s,o){if((s=Ee(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return aS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=re.fromDate(s);return{timestampValue:kh(o.serializer,u)}}if(s instanceof re){const u=new re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof qn)return{bytesValue:_S(o.serializer,s._byteString)};if(s instanceof xe){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:zp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ri)return(function(h,m){const p=h instanceof ri?h.toArray():h;return{mapValue:{fields:{[H0]:{stringValue:F0},[Nh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Pp(m.serializer,E)}))}}}}}})(s,o);if(AS(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Wh(s)}`)})(i,t)}function ZS(i,t){const n={};return U0(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vs(i,((s,o)=>{const u=ko(o,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function tb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof re||i instanceof ki||i instanceof qn||i instanceof xe||i instanceof wu||i instanceof ri||AS(i))}function ig(i,t,n){if(!tb(n)||!k0(n)){const s=Wh(n);throw s==="an object"?t.createError(i+" a custom object"):t.createError(i+" "+s)}}function Ao(i,t,n){if((t=Ee(t))instanceof Zp)return t._internalPath;if(typeof t=="string")return eb(i,t);throw zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const RO=new RegExp("[~\\*/\\[\\]]");function eb(i,t,n){if(t.search(RO)>=0)throw zh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Zp(...t.split("."))._internalPath}catch{throw zh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function zh(i,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ot(J.INVALID_ARGUMENT,m+i+p)}function nb(i,t){return i.some((n=>n.isEqual(t)))}class CO{convertValue(t,n="none"){switch(ps(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ms(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return vs(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Nh].arrayValue?.values?.map((s=>ve(s.doubleValue)));return new ri(n)}convertGeoPoint(t){return new ki(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=tf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ou(t));default:return null}}convertTimestamp(t){const n=ds(t);return new re(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ee.fromString(t);Ft(wS(s),9688,{name:t});const o=new lu(s.get(1),s.get(3)),u=new mt(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class IO extends CO{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new xe(this.firestore,null,n)}}function DO(...i){return new eg("arrayUnion",i)}function OO(i){return new ng("increment",i)}const dT="@firebase/firestore",mT="4.11.0";class ib{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new xe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const n=this._document.data.field(Ao("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NO extends ib{data(){return super.data()}}function MO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class xO extends rg{}function sg(i,t,...n){let s=[];t instanceof rg&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof og)).length,m=u.filter((p=>p instanceof pf)).length;if(h>1||h>0&&m>0)throw new ot(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class pf extends xO{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new pf(t,n,s)}_apply(t){const n=this._parse(t);return rb(t._query,n),new Vo(t.firestore,t.converter,ip(t._query,n))}_parse(t){const n=tg(t.firestore);return(function(u,h,m,p,y,E,T){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){gT(T,E);const G=[];for(const Q of T)G.push(pT(p,u,Q));w={arrayValue:{values:G}}}else w=pT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||gT(T,E),w=AO(m,h,T,E==="in"||E==="not-in");return Ne.create(y,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function ag(i,t,n){const s=t,o=Ao("where",i);return pf._create(o,s,n)}class og extends rg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new og(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)rb(h,p),h=ip(h,p)})(t._query,n),new Vo(t.firestore,t.converter,ip(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pT(i,t,n){if(typeof(n=Ee(n))=="string"){if(n==="")throw new ot(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z0(t)&&n.indexOf("/")!==-1)throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ee.fromString(n));if(!mt.isDocumentKey(s))throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return OE(i,new mt(s))}if(n instanceof xe)return OE(i,n._key);throw new ot(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function gT(i,t){if(!Array.isArray(i)||i.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function rb(i,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function VO(i,t,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(t,n):i.toFirestore(t):t,s}class ch{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mo extends ib{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ao("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Me("string",mo._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class Th extends mo{data(t={}){return super.data(t)}}class po{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ch(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new ch(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ch(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:kO(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:i})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Me("string",po._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};function gf(i){i=oa(i,Vo);const t=oa(i.firestore,ff),n=$S(t),s=new IO(t);return MO(i._query),hO(n,i._query).then((o=>new po(t,s,i,o)))}function PO(i,t,n){i=oa(i,xe);const s=oa(i.firestore,ff),o=VO(i.converter,t,n),u=tg(s);return sb(s,[TO(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,xi.none())])}function UO(i,t,n,...s){i=oa(i,xe);const o=oa(i.firestore,ff),u=tg(o);let h;return h=typeof(t=Ee(t))=="string"||t instanceof Zp?wO(u,"updateDoc",i._key,t,n,s):bO(u,"updateDoc",i._key,t),sb(o,[h.toMutation(i._key,xi.exists(!0))])}function sb(i,t){const n=$S(i);return fO(n,t)}(function(t,n=!0){cI(da),ra(new hs("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ff(new dI(s.getProvider("auth-internal")),new gI(h,s.getProvider("app-check-internal")),xI(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ni(dT,mT,t),Ni(dT,mT,"esm2020")})();const ab="firebasestorage.googleapis.com",ob="storageBucket",LO=120*1e3,zO=600*1e3;class me extends ji{constructor(t,n,s=0){super(Lm(t),`Firebase Storage: ${n} (${Lm(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Lm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function Lm(i){return"storage/"+i}function lg(){const i="An unknown error occurred, please check the error payload for server response.";return new me(de.UNKNOWN,i)}function BO(i){return new me(de.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function jO(i){return new me(de.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(de.UNAUTHENTICATED,i)}function HO(){return new me(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function FO(i){return new me(de.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function GO(){return new me(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function YO(){return new me(de.CANCELED,"User canceled the upload/download.")}function QO(i){return new me(de.INVALID_URL,"Invalid URL '"+i+"'.")}function KO(i){return new me(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function XO(){return new me(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ob+"' property when initializing the app?")}function $O(){return new me(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WO(){return new me(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JO(i){return new me(de.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function mp(i){return new me(de.INVALID_ARGUMENT,i)}function lb(){return new me(de.APP_DELETED,"The Firebase app was deleted.")}function ZO(i){return new me(de.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nu(i,t){return new me(de.INVALID_FORMAT,"String does not match format '"+i+"': "+t)}function Gl(i){throw new me(de.INTERNAL_ERROR,"Internal error: "+i)}class Cn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Cn.makeFromUrl(t,n)}catch{return new Cn(t,"")}if(s.path==="")return s;throw KO(t)}static makeFromUrl(t,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ft){ft.path.charAt(ft.path.length-1)==="/"&&(ft.path_=ft.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(ft){ft.path_=decodeURIComponent(ft.path)}const E="v[A-Za-z0-9_]+",T=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${T}/${E}/b/${o}/o${w}`,"i"),G={bucket:1,path:3},Q=n===ab?"(?:storage.googleapis.com|storage.cloud.google.com)":n,F="([^?#]*)",nt=new RegExp(`^https?://${Q}/${o}/${F}`,"i"),it=[{regex:m,indices:p,postModify:u},{regex:k,indices:G,postModify:y},{regex:nt,indices:{bucket:1,path:2},postModify:y}];for(let ft=0;ft<it.length;ft++){const wt=it[ft],Tt=wt.regex.exec(t);if(Tt){const R=Tt[wt.indices.bucket];let A=Tt[wt.indices.path];A||(A=""),s=new Cn(R,A),wt.postModify(s);break}}if(s==null)throw QO(t);return s}}class tN{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function eN(i,t,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let y=!1;function E(...F){y||(y=!0,t.apply(null,F))}function T(F){o=setTimeout(()=>{o=null,i(k,p())},F)}function w(){u&&clearTimeout(u)}function k(F,...nt){if(y){w();return}if(F){w(),E.call(null,F,...nt);return}if(p()||h){w(),E.call(null,F,...nt);return}s<64&&(s*=2);let it;m===1?(m=2,it=0):it=(s+Math.random())*1e3,T(it)}let G=!1;function Q(F){G||(G=!0,w(),!y&&(o!==null?(F||(m=2),clearTimeout(o),T(0)):F||(m=1)))}return T(0),u=setTimeout(()=>{h=!0,Q(!0)},n),Q}function nN(i){i(!1)}function iN(i){return i!==void 0}function rN(i){return typeof i=="object"&&!Array.isArray(i)}function ug(i){return typeof i=="string"||i instanceof String}function yT(i){return cg()&&i instanceof Blob}function cg(){return typeof Blob<"u"}function _T(i,t,n,s){if(s<t)throw mp(`Invalid value for '${i}'. Expected ${t} or greater.`);if(s>n)throw mp(`Invalid value for '${i}'. Expected ${n} or less.`)}function hg(i,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${i}`}function ub(i){const t=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=t(s)+"="+t(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var na;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(na||(na={}));function sN(i,t){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=t.indexOf(i)!==-1;return n||o||u}class aN{constructor(t,n,s,o,u,h,m,p,y,E,T,w=!0,k=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=T,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,Q)=>{this.resolve_=G,this.reject_=Q,this.start_()})}start_(){const t=(s,o)=>{if(o){s(!1,new hh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===na.NO_ERROR,p=u.getStatus();if(!m||sN(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===na.ABORT;s(!1,new hh(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;s(!0,new hh(y,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());iN(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=lg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?lb():YO();h(p)}else{const p=GO();h(p)}};this.canceled_?n(!1,new hh(!1,null,!0)):this.backoffId_=eN(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&nN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hh{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function oN(i,t){t!==null&&t.length>0&&(i.Authorization="Firebase "+t)}function lN(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function uN(i,t){t&&(i["X-Firebase-GMPID"]=t)}function cN(i,t){t!==null&&(i["X-Firebase-AppCheck"]=t)}function hN(i,t,n,s,o,u,h=!0,m=!1){const p=ub(i.urlParams),y=i.url+p,E=Object.assign({},i.headers);return uN(E,t),oN(E,n),lN(E,u),cN(E,s),new aN(y,i.method,E,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}function fN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function dN(...i){const t=fN();if(t!==void 0){const n=new t;for(let s=0;s<i.length;s++)n.append(i[s]);return n.getBlob()}else{if(cg())return new Blob(i);throw new me(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mN(i,t,n){return i.webkitSlice?i.webkitSlice(t,n):i.mozSlice?i.mozSlice(t,n):i.slice?i.slice(t,n):null}function pN(i){if(typeof atob>"u")throw JO("base-64");return atob(i)}const Oi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zm{constructor(t,n){this.data=t,this.contentType=n||null}}function gN(i,t){switch(i){case Oi.RAW:return new zm(cb(t));case Oi.BASE64:case Oi.BASE64URL:return new zm(hb(i,t));case Oi.DATA_URL:return new zm(_N(t),vN(t))}throw lg()}function cb(i){const t=[];for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<i.length-1&&(i.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,h=i.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function yN(i){let t;try{t=decodeURIComponent(i)}catch{throw nu(Oi.DATA_URL,"Malformed data URL.")}return cb(t)}function hb(i,t){switch(i){case Oi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Oi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw nu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=pN(t)}catch(o){throw o.message.includes("polyfill")?o:nu(i,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class fb{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw nu(Oi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=EN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function _N(i){const t=new fb(i);return t.base64?hb(Oi.BASE64,t.rest):yN(t.rest)}function vN(i){return new fb(i).contentType}function EN(i,t){return i.length>=t.length?i.substring(i.length-t.length)===t:!1}class ts{constructor(t,n){let s=0,o="";yT(t)?(this.data_=t,s=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(yT(this.data_)){const s=this.data_,o=mN(s,t,n);return o===null?null:new ts(o)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new ts(s,!0)}}static getBlob(...t){if(cg()){const n=t.map(s=>s instanceof ts?s.data_:s);return new ts(dN.apply(null,n))}else{const n=t.map(h=>ug(h)?gN(Oi.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ts(o,!0)}}uploadData(){return this.data_}}function db(i){let t;try{t=JSON.parse(i)}catch{return null}return rN(t)?t:null}function TN(i){if(i.length===0)return null;const t=i.lastIndexOf("/");return t===-1?"":i.slice(0,t)}function SN(i,t){const n=t.split("/").filter(s=>s.length>0).join("/");return i.length===0?n:i+"/"+n}function mb(i){const t=i.lastIndexOf("/",i.length-2);return t===-1?i:i.slice(t+1)}function bN(i,t){return t}class on{constructor(t,n,s,o){this.server=t,this.local=n||t,this.writable=!!s,this.xform=o||bN}}let fh=null;function wN(i){return!ug(i)||i.length<2?i:mb(i)}function pb(){if(fh)return fh;const i=[];i.push(new on("bucket")),i.push(new on("generation")),i.push(new on("metageneration")),i.push(new on("name","fullPath",!0));function t(u,h){return wN(h)}const n=new on("name");n.xform=t,i.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new on("size");return o.xform=s,i.push(o),i.push(new on("timeCreated")),i.push(new on("updated")),i.push(new on("md5Hash",null,!0)),i.push(new on("cacheControl",null,!0)),i.push(new on("contentDisposition",null,!0)),i.push(new on("contentEncoding",null,!0)),i.push(new on("contentLanguage",null,!0)),i.push(new on("contentType",null,!0)),i.push(new on("metadata","customMetadata",!0)),fh=i,fh}function AN(i,t){function n(){const s=i.bucket,o=i.fullPath,u=new Cn(s,o);return t._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:n})}function RN(i,t,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,t[h.server])}return AN(s,i),s}function gb(i,t,n){const s=db(t);return s===null?null:RN(i,s,n)}function CN(i,t,n,s){const o=db(t);if(o===null||!ug(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const E=i.bucket,T=i.fullPath,w="/b/"+h(E)+"/o/"+h(T),k=hg(w,n,s),G=ub({alt:"media",token:y});return k+G})[0]}function IN(i,t){const n={},s=t.length;for(let o=0;o<s;o++){const u=t[o];u.writable&&(n[u.server]=i[u.local])}return JSON.stringify(n)}class yb{constructor(t,n,s,o){this.url=t,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _b(i){if(!i)throw lg()}function DN(i,t){function n(s,o){const u=gb(i,o,t);return _b(u!==null),u}return n}function ON(i,t){function n(s,o){const u=gb(i,o,t);return _b(u!==null),CN(u,o,i.host,i._protocol)}return n}function vb(i){function t(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=HO():o=qO():n.getStatus()===402?o=jO(i.bucket):n.getStatus()===403?o=FO(i.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return t}function NN(i){const t=vb(i);function n(s,o){let u=t(s,o);return s.getStatus()===404&&(u=BO(i.path)),u.serverResponse=o.serverResponse,u}return n}function MN(i,t,n){const s=t.fullServerUrl(),o=hg(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new yb(o,u,ON(i,n),h);return m.errorHandler=NN(t),m}function xN(i,t){return i&&i.contentType||t&&t.type()||"application/octet-stream"}function VN(i,t,n){const s=Object.assign({},n);return s.fullPath=i.path,s.size=t.size(),s.contentType||(s.contentType=xN(null,t)),s}function kN(i,t,n,s,o){const u=t.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let it="";for(let ft=0;ft<2;ft++)it=it+Math.random().toString().slice(2);return it}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const y=VN(t,s,o),E=IN(y,n),T="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",k=ts.getBlob(T,s,w);if(k===null)throw $O();const G={name:y.fullPath},Q=hg(u,i.host,i._protocol),F="POST",nt=i.maxUploadRetryTime,et=new yb(Q,F,DN(i,n),nt);return et.urlParams=G,et.headers=h,et.body=k.uploadData(),et.errorHandler=vb(t),et}class PN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=na.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=na.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=na.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,o,u){if(this.sent_)throw Gl("cannot .send() more than once");if(_s(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class UN extends PN{initXhr(){this.xhr_.responseType="text"}}function Eb(){return new UN}class ua{constructor(t,n){this._service=t,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new ua(t,n)}get root(){const t=new Cn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return mb(this._location.path)}get storage(){return this._service}get parent(){const t=TN(this._location.path);if(t===null)return null;const n=new Cn(this._location.bucket,t);return new ua(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw ZO(t)}}function LN(i,t,n){i._throwIfRoot("uploadBytes");const s=kN(i.storage,i._location,pb(),new ts(t,!0),n);return i.storage.makeRequestWithTokens(s,Eb).then(o=>({metadata:o,ref:i}))}function zN(i){i._throwIfRoot("getDownloadURL");const t=MN(i.storage,i._location,pb());return i.storage.makeRequestWithTokens(t,Eb).then(n=>{if(n===null)throw WO();return n})}function BN(i,t){const n=SN(i._location.path,t),s=new Cn(i._location.bucket,n);return new ua(i.storage,s)}function jN(i){return/^[A-Za-z]+:\/\//.test(i)}function qN(i,t){return new ua(i,t)}function Tb(i,t){if(i instanceof fg){const n=i;if(n._bucket==null)throw XO();const s=new ua(n,n._bucket);return t!=null?Tb(s,t):s}else return t!==void 0?BN(i,t):i}function HN(i,t){if(t&&jN(t)){if(i instanceof fg)return qN(i,t);throw mp("To use ref(service, url), the first argument must be a Storage instance.")}else return Tb(i,t)}function vT(i,t){const n=t?.[ob];return n==null?null:Cn.makeFromBucketSpec(n,i)}function FN(i,t,n,s={}){i.host=`${t}:${n}`;const o=_s(t);o&&(wp(`https://${i.host}/b`),Ap("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:E0(u,i.app.options.projectId))}class fg{constructor(t,n,s,o,u,h=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=ab,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LO,this._maxUploadRetryTime=zO,this._requests=new Set,o!=null?this._bucket=Cn.makeFromBucketSpec(o,this._host):this._bucket=vT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,t):this._bucket=vT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_T("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_T("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ua(this,t)}_makeRequest(t,n,s,o,u=!0){if(this._deleted)return new tN(lb());{const h=hN(t,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(t,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,o).getPromise()}}const ET="@firebase/storage",TT="0.14.0";const Sb="storage";function GN(i,t,n){return i=Ee(i),LN(i,t,n)}function YN(i){return i=Ee(i),zN(i)}function QN(i,t){return i=Ee(i),HN(i,t)}function KN(i=Ip(),t){i=Ee(i);const s=$h(i,Sb).getImmediate({identifier:t}),o=y0("storage");return o&&XN(s,...o),s}function XN(i,t,n,s={}){FN(i,t,n,s)}function $N(i,{instanceIdentifier:t}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new fg(n,s,o,t,da)}function WN(){ra(new hs(Sb,$N,"PUBLIC").setMultipleInstances(!0)),Ni(ET,TT,""),Ni(ET,TT,"esm2020")}WN();function bb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JN=bb,wb=new gu("auth","Firebase",bb());const Bh=new Rp("@firebase/auth");function ZN(i,...t){Bh.logLevel<=xt.WARN&&Bh.warn(`Auth (${da}): ${i}`,...t)}function Sh(i,...t){Bh.logLevel<=xt.ERROR&&Bh.error(`Auth (${da}): ${i}`,...t)}function zi(i,...t){throw mg(i,...t)}function si(i,...t){return mg(i,...t)}function dg(i,t,n){const s={...JN(),[t]:n};return new gu("auth","Firebase",s).create(t,{appName:i.name})}function ia(i){return dg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tM(i,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&zi(i,"argument-error"),dg(i,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mg(i,...t){if(typeof i!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return wb.create(i,...t)}function _t(i,t,...n){if(!i)throw mg(t,...n)}function ur(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Sh(t),new Error(t)}function gr(i,t){i||ur(t)}function pp(){return typeof self<"u"&&self.location?.href||""}function eM(){return ST()==="http:"||ST()==="https:"}function ST(){return typeof self<"u"&&self.location?.protocol||null}function nM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eM()||jR()||"connection"in navigator)?navigator.onLine:!0}function iM(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Au{constructor(t,n){this.shortDelay=t,this.longDelay=n,gr(n>t,"Short delay should be less than long delay!"),this.isMobile=LR()||qR()}get(){return nM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function pg(i,t){gr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Ab{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const sM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aM=new Au(3e4,6e4);function gg(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function Po(i,t,n,s,o={}){return Rb(i,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=yu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:t,headers:p,...u};return BR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&_s(i.emulatorConfig.host)&&(y.credentials="include"),Ab.fetch()(await Cb(i,i.config.apiHost,n,m),y)})}async function Rb(i,t,n){i._canInitEmulator=!1;const s={...rM,...t};try{const o=new lM(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw dh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw dh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dg(i,E,y);zi(i,E)}}catch(o){if(o instanceof ji)throw o;zi(i,"network-request-failed",{message:String(o)})}}async function oM(i,t,n,s,o={}){const u=await Po(i,t,n,s,o);return"mfaPendingCredential"in u&&zi(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Cb(i,t,n,s){const o=`${t}${n}?${s}`,u=i,h=u.config.emulator?pg(i.config,o):`${i.config.apiScheme}://${o}`;return sM.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class lM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),aM.get())})}}function dh(i,t,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=si(i,t,s);return o.customData._tokenResponse=n,o}async function uM(i,t){return Po(i,"POST","/v1/accounts:delete",t)}async function jh(i,t){return Po(i,"POST","/v1/accounts:lookup",t)}function iu(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cM(i,t=!1){const n=Ee(i),s=await n.getIdToken(t),o=yg(s);_t(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(Bm(o.auth_time)),issuedAtTime:iu(Bm(o.iat)),expirationTime:iu(Bm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Bm(i){return Number(i)*1e3}function yg(i){const[t,n,s]=i.split(".");if(t===void 0||n===void 0||s===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=p0(n);return o?JSON.parse(o):(Sh("Failed to decode base64 JWT payload"),null)}catch(o){return Sh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bT(i){const t=yg(i);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function fu(i,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof ji&&hM(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function hM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class fM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qh(i){const t=i.auth,n=await i.getIdToken(),s=await fu(i,jh(t,{idToken:n}));_t(s?.users.length,t,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Ib(o.providerUserInfo):[],h=mM(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,y=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function dM(i){const t=Ee(i);await qh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function mM(i,t){return[...i.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Ib(i){return i.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function pM(i,t){const n=await Rb(i,{},async()=>{const s=yu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await Cb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&_s(i.emulatorConfig.host)&&(p.credentials="include"),Ab.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gM(i,t){return Po(i,"POST","/v2/accounts:revokeToken",gg(i,t))}class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=bT(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await pM(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(_t(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(_t(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(_t(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ur("not implemented")}}function Wr(i,t){_t(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class ii{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new fM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await fu(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cM(this,t)}reload(){return dM(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ii({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await qh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ia(this.auth));const t=await this.getIdToken();return await fu(this,uM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:G,stsTokenManager:Q}=n;_t(T&&Q,t,"internal-error");const F=go.fromJSON(this.name,Q);_t(typeof T=="string",t,"internal-error"),Wr(s,t.name),Wr(o,t.name),_t(typeof w=="boolean",t,"internal-error"),_t(typeof k=="boolean",t,"internal-error"),Wr(u,t.name),Wr(h,t.name),Wr(m,t.name),Wr(p,t.name),Wr(y,t.name),Wr(E,t.name);const nt=new ii({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:E});return G&&Array.isArray(G)&&(nt.providerData=G.map(et=>({...et}))),p&&(nt._redirectEventId=p),nt}static async _fromIdTokenResponse(t,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await qh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];_t(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Ib(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}const wT=new Map;function cr(i){gr(i instanceof Function,"Expected a class definition");let t=wT.get(i);return t?(gr(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,wT.set(i,t),t)}class Db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Db.type="NONE";const AT=Db;function bh(i,t,n){return`firebase:${i}:${t}:${n}`}class yo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=bh(this.userKey,o.apiKey,u),this.fullPersistenceKey=bh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await jh(this.auth,{idToken:t}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,t):null}return ii._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new yo(cr(AT),t,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||cr(AT);const h=bh(s,t.config.apiKey,t.name);let m=null;for(const y of n)try{const E=await y._get(h);if(E){let T;if(typeof E=="string"){const w=await jh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await ii._fromGetAccountInfoResponse(t,w,E)}else T=ii._fromJSON(t,E);y!==u&&(m=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new yo(u,t,s))}}function RT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kb(t))return"Blackberry";if(Pb(t))return"Webos";if(Nb(t))return"Safari";if((t.includes("chrome/")||Mb(t))&&!t.includes("edge/"))return"Chrome";if(Vb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Ob(i=nn()){return/firefox\//i.test(i)}function Nb(i=nn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mb(i=nn()){return/crios\//i.test(i)}function xb(i=nn()){return/iemobile/i.test(i)}function Vb(i=nn()){return/android/i.test(i)}function kb(i=nn()){return/blackberry/i.test(i)}function Pb(i=nn()){return/webos/i.test(i)}function _g(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function yM(i=nn()){return _g(i)&&!!window.navigator?.standalone}function _M(){return HR()&&document.documentMode===10}function Ub(i=nn()){return _g(i)||Vb(i)||Pb(i)||kb(i)||/windows phone/i.test(i)||xb(i)}function Lb(i,t=[]){let n;switch(i){case"Browser":n=RT(nn());break;case"Worker":n=`${RT(nn())}-${i}`;break;default:n=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${da}/${s}`}class vM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function EM(i,t={}){return Po(i,"GET","/v2/passwordPolicy",gg(i,t))}const TM=6;class SM{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??TM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}class bM{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CT(this),this.idTokenSubscription=new CT(this),this.beforeStateQueue=new vM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await jh(this,{idToken:t}),s=await ii._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await qh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=iM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(ia(this));const n=t?Ee(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await EM(this),n=new SM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new gu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await gM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yf(i){return Ee(i)}class CT{constructor(t){this.auth=t,this.observer=null,this.addObserver=WR(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wM(i){vg=i}function AM(i){return vg.loadJS(i)}function RM(){return vg.gapiScript}function CM(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function IM(i,t){const n=$h(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(cs(u,t??{}))return o;zi(o,"already-initialized")}return n.initialize({options:t})}function DM(i,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t?.popupRedirectResolver)}function OM(i,t,n){const s=yf(i);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=zb(t),{host:h,port:m}=NM(t),p=m===null?"":`:${m}`,y={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(cs(y,s.config.emulator)&&cs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,_s(h)?(wp(`${u}//${h}${p}`),Ap("Auth",!0)):MM()}function zb(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function NM(i){const t=zb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IT(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:IT(h)}}}function IT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function MM(){function i(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Bb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function _o(i,t){return oM(i,"POST","/v1/accounts:signInWithIdp",gg(i,t))}const xM="http://localhost";class ca extends Bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return _o(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,_o(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_o(t,n)}buildRequest(){const t={requestUri:xM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=yu(n)}return t}}class Eg{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ru extends Eg{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class es extends Ru{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class lr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return lr.credential(n,s)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ns extends Ru{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ns.credentialFromTaggedObject(t)}static credentialFromError(t){return ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ns.credential(t.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends Ru{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return is.credentialFromTaggedObject(t)}static credentialFromError(t){return is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";class Ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ii._fromIdTokenResponse(t,s,o),h=DT(s);return new Ro({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=DT(s);return new Ro({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function DT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Hh extends ji{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Hh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Hh(t,n,s,o)}}function jb(i,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Hh._fromErrorAndOperation(i,u,t,s):u})}async function VM(i,t,n=!1){const s=await fu(i,t._linkToIdToken(i.auth,await i.getIdToken()),n);return Ro._forOperation(i,"link",s)}async function kM(i,t,n=!1){const{auth:s}=i;if(jn(s.app))return Promise.reject(ia(s));const o="reauthenticate";try{const u=await fu(i,jb(s,o,t,i),n);_t(u.idToken,s,"internal-error");const h=yg(u.idToken);_t(h,s,"internal-error");const{sub:m}=h;return _t(i.uid===m,s,"user-mismatch"),Ro._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&zi(s,"user-mismatch"),u}}async function PM(i,t,n=!1){if(jn(i.app))return Promise.reject(ia(i));const s="signIn",o=await jb(i,s,t),u=await Ro._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function UM(i,t,n,s){return Ee(i).onIdTokenChanged(t,n,s)}function LM(i,t,n){return Ee(i).beforeAuthStateChanged(t,n)}function zM(i,t,n,s){return Ee(i).onAuthStateChanged(t,n,s)}function BM(i){return Ee(i).signOut()}const Fh="__sak";class qb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fh,"1"),this.storage.removeItem(Fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jM=1e3,qM=10;class Hb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);_M()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,qM):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},jM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Hb.type="LOCAL";const HM=Hb;class Fb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Fb.type="SESSION";const Gb=Fb;function FM(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}class _f{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new _f(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,u)),p=await FM(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_f.receivers=[];function Tg(i="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return i+n}class GM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const y=Tg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}function Pi(){return window}function YM(i){Pi().location.href=i}function Yb(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function QM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KM(){return navigator?.serviceWorker?.controller||null}function XM(){return Yb()?self:null}const Qb="firebaseLocalStorageDb",$M=1,Gh="firebaseLocalStorage",Kb="fbase_key";class Cu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vf(i,t){return i.transaction([Gh],t?"readwrite":"readonly").objectStore(Gh)}function WM(){const i=indexedDB.deleteDatabase(Qb);return new Cu(i).toPromise()}function yp(){const i=indexedDB.open(Qb,$M);return new Promise((t,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Gh,{keyPath:Kb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Gh)?t(s):(s.close(),await WM(),t(await yp()))})})}async function OT(i,t,n){const s=vf(i,!0).put({[Kb]:t,value:n});return new Cu(s).toPromise()}async function JM(i,t){const n=vf(i,!1).get(t),s=await new Cu(n).toPromise();return s===void 0?null:s.value}function NT(i,t){const n=vf(i,!0).delete(t);return new Cu(n).toPromise()}const ZM=800,tx=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>tx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_f._getInstance(XM()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await QM(),!this.activeServiceWorker)return;this.sender=new GM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||KM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yp();return await OT(t,Fh,"1"),await NT(t,Fh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>OT(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>JM(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>NT(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=vf(o,!1).getAll();return new Cu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const ex=Xb;new Au(3e4,6e4);function $b(i,t){return t?cr(t):(_t(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class Sg extends Bb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _o(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _o(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _o(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function nx(i){return PM(i.auth,new Sg(i),i.bypassAuthState)}function ix(i){const{auth:t,user:n}=i;return _t(n,t,"internal-error"),kM(n,new Sg(i),i.bypassAuthState)}async function rx(i){const{auth:t,user:n}=i;return _t(n,t,"internal-error"),VM(n,new Sg(i),i.bypassAuthState)}class Wb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nx;case"linkViaPopup":case"linkViaRedirect":return rx;case"reauthViaPopup":case"reauthViaRedirect":return ix;default:zi(this.auth,"internal-error")}}resolve(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sx=new Au(2e3,1e4);async function ax(i,t,n){if(jn(i.app))return Promise.reject(si(i,"operation-not-supported-in-this-environment"));const s=yf(i);tM(i,t,Eg);const o=$b(s,n);return new ea(s,"signInViaPopup",t,o).executeNotNull()}class ea extends Wb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const t=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sx.get())};t()}}ea.currentPopupAction=null;const ox="pendingRedirect",wh=new Map;class lx extends Wb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=wh.get(this.auth._key());if(!t){try{const s=await ux(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}wh.set(this.auth._key(),t)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ux(i,t){const n=fx(t),s=hx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function cx(i,t){wh.set(i._key(),t)}function hx(i){return cr(i._redirectPersistence)}function fx(i){return bh(ox,i.config.apiKey,i.name)}async function dx(i,t,n=!1){if(jn(i.app))return Promise.reject(ia(i));const s=yf(i),o=$b(s,t),h=await new lx(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}const mx=600*1e3;class px{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gx(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Jb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mx&&this.cachedEventUids.clear(),this.cachedEventUids.has(MT(t))}saveEventToCache(t){this.cachedEventUids.add(MT(t)),this.lastProcessedEventTime=Date.now()}}function MT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Jb({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function gx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Jb(i);default:return!1}}async function yx(i,t={}){return Po(i,"GET","/v1/projects",t)}const _x=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vx=/^https?/;async function Ex(i){if(i.config.emulator)return;const{authorizedDomains:t}=await yx(i);for(const n of t)try{if(Tx(n))return}catch{}zi(i,"unauthorized-domain")}function Tx(i){const t=pp(),{protocol:n,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!vx.test(n))return!1;if(_x.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Sx=new Au(3e4,6e4);function xT(){const i=Pi().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function bx(i){return new Promise((t,n)=>{function s(){xT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xT(),n(si(i,"network-request-failed"))},timeout:Sx.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)s();else{const o=CM("iframefcb");return Pi()[o]=()=>{gapi.load?s():n(si(i,"network-request-failed"))},AM(`${RM()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Ah=null,t})}let Ah=null;function wx(i){return Ah=Ah||bx(i),Ah}const Ax=new Au(5e3,15e3),Rx="__/auth/iframe",Cx="emulator/auth/iframe",Ix={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ox(i){const t=i.config;_t(t.authDomain,i,"auth-domain-config-required");const n=t.emulator?pg(t,Cx):`https://${i.config.authDomain}/${Rx}`,s={apiKey:t.apiKey,appName:i.name,v:da},o=Dx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${yu(s).slice(1)}`}async function Nx(i){const t=await wx(i),n=Pi().gapi;return _t(n,i,"internal-error"),t.open({where:document.body,url:Ox(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ix,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=si(i,"network-request-failed"),m=Pi().setTimeout(()=>{u(h)},Ax.get());function p(){Pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xx=500,Vx=600,kx="_blank",Px="http://localhost";class VT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(i,t,n,s=xx,o=Vx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Mx,width:s.toString(),height:o.toString(),top:u,left:h},y=nn().toLowerCase();n&&(m=Mb(y)?kx:n),Ob(y)&&(t=t||Px,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,G])=>`${w}${k}=${G},`,"");if(yM(y)&&m!=="_self")return Lx(t||"",m),new VT(null);const T=window.open(t||"",m,E);_t(T,i,"popup-blocked");try{T.focus()}catch{}return new VT(T)}function Lx(i,t){const n=document.createElement("a");n.href=i,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const zx="__/auth/handler",Bx="emulator/auth/handler",jx=encodeURIComponent("fac");async function kT(i,t,n,s,o,u){_t(i.config.authDomain,i,"auth-domain-config-required"),_t(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:da,eventId:o};if(t instanceof Eg){t.setDefaultLanguage(i.languageCode),h.providerId=t.providerId||"",$R(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(t instanceof Ru){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),y=p?`#${jx}=${encodeURIComponent(p)}`:"";return`${qx(i)}?${yu(m).slice(1)}${y}`}function qx({config:i}){return i.emulator?pg(i,Bx):`https://${i.authDomain}/${zx}`}const jm="webStorageSupport";class Hx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gb,this._completeRedirectFn=dx,this._overrideRedirectResult=cx}async _openPopup(t,n,s,o){gr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await kT(t,n,s,pp(),o);return Ux(t,u,Tg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await kT(t,n,s,pp(),o);return YM(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await Nx(t),s=new px(t);return n.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Ex(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ub()||Nb()||_g()}}const Fx=Hx;var PT="@firebase/auth",UT="1.12.0";class Gx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Qx(i){ra(new hs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;_t(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(i)},y=new bM(s,o,u,p);return DM(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),ra(new hs("auth-internal",t=>{const n=yf(t.getProvider("auth").getImmediate());return(s=>new Gx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(PT,UT,Yx(i)),Ni(PT,UT,"esm2020")}const Kx=300,Xx=v0("authIdTokenMaxAge")||Kx;let LT=null;const $x=i=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Xx)return;const o=n?.token;LT!==o&&(LT=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Wx(i=Ip()){const t=$h(i,"auth");if(t.isInitialized())return t.getImmediate();const n=IM(i,{popupRedirectResolver:Fx,persistence:[ex,HM,Gb]}),s=v0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=$x(u.toString());LM(n,h,()=>h(n.currentUser)),UM(n,m=>h(m))}}const o=g0("auth");return o&&OM(n,`http://${o}`),n}function Jx(){return document.getElementsByTagName("head")?.[0]??document}wM({loadJS(i){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Jx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Qx("Browser");const Zx={apiKey:"AIzaSyDjBgFiAAPzYOoie6iUikzpCFGXLsAo4Mk",authDomain:"photooftheweek-a7023.firebaseapp.com",projectId:"photooftheweek-a7023",storageBucket:"photooftheweek-a7023.firebasestorage.app",messagingSenderId:"914100513247",appId:"1:914100513247:web:1ca9d6ac9b6ae79e067c6a"},bg=b0(Zx),Co=gO(bg),tV=KN(bg),qm=Wx(bg),eV=new lr,Zb=jA.createContext();function wg(){return H.useContext(Zb)}function nV({children:i}){const[t,n]=H.useState(null),[s,o]=H.useState(!0);function u(){return ax(qm,eV)}function h(){return BM(qm)}H.useEffect(()=>zM(qm,y=>{n(y),o(!1)}),[]);const m={currentUser:t,login:u,logout:h};return Z.jsx(Zb.Provider,{value:m,children:!s&&i})}function iV(){const{currentUser:i,login:t,logout:n}=wg();return Z.jsxs("nav",{style:{padding:"1rem",background:"#333",color:"white",display:"flex",justifyContent:"space-between"},children:[Z.jsxs("div",{style:{display:"flex",gap:"20px"},children:[Z.jsx(or,{to:"/",style:{color:"white",fontWeight:"bold",textDecoration:"none"},children:"PhotoOfTheWeek"}),Z.jsx(or,{to:"/upload",style:{color:"#ddd",textDecoration:"none"},children:"Upload (This Week)"}),Z.jsx(or,{to:"/vote",style:{color:"#ddd",textDecoration:"none"},children:"Vote (Last Week)"}),Z.jsx(or,{to:"/search",style:{color:"#ddd",textDecoration:"none"},children:"Search"}),Z.jsx(or,{to:"/leaderboard",style:{color:"#ddd",textDecoration:"none"},children:"Leaderboard"}),Z.jsx(or,{to:"/info",style:{color:"#ddd",textDecoration:"none"},children:"Help"})]}),Z.jsx("div",{children:i?Z.jsxs("div",{style:{display:"flex",gap:"15px"},children:[Z.jsx(or,{to:`/profile/${i.uid}`,style:{color:"white"},children:"My Profile"}),Z.jsx("button",{onClick:n,children:"Logout"})]}):Z.jsx("button",{onClick:t,children:"Login with Google"})})]})}const tw=6048e5,rV=864e5,zT=Symbol.for("constructDateFrom");function yr(i,t){return typeof i=="function"?i(t):i&&typeof i=="object"&&zT in i?i[zT](t):i instanceof Date?new i.constructor(t):new Date(t)}function Fn(i,t){return yr(t||i,i)}function sV(i,t,n){const s=Fn(i,n?.in);return isNaN(t)?yr(i,NaN):(s.setDate(s.getDate()+t),s)}let aV={};function Ef(){return aV}function ha(i,t){const n=Ef(),s=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Fn(i,t?.in),u=o.getDay(),h=(u<s?7:0)+u-s;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Yh(i,t){return ha(i,{...t,weekStartsOn:1})}function ew(i,t){const n=Fn(i,t?.in),s=n.getFullYear(),o=yr(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Yh(o),h=yr(n,0);h.setFullYear(s,0,4),h.setHours(0,0,0,0);const m=Yh(h);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function BT(i){const t=Fn(i),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+i-+n}function oV(i,...t){const n=yr.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function jT(i,t){const n=Fn(i,t?.in);return n.setHours(0,0,0,0),n}function lV(i,t,n){const[s,o]=oV(n?.in,i,t),u=jT(s),h=jT(o),m=+u-BT(u),p=+h-BT(h);return Math.round((m-p)/rV)}function uV(i,t){const n=ew(i,t),s=yr(i,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Yh(s)}function cV(i,t,n){return sV(i,t*7,n)}function hV(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function fV(i){return!(!hV(i)&&typeof i!="number"||isNaN(+Fn(i)))}function dV(i,t){const n=Fn(i,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pV=(i,t,n)=>{let s;const o=mV[i];return typeof o=="string"?s=o:t===1?s=o.one:s=o.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Hm(i){return(t={})=>{const n=t.width?String(t.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const gV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_V={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vV={date:Hm({formats:gV,defaultWidth:"full"}),time:Hm({formats:yV,defaultWidth:"full"}),dateTime:Hm({formats:_V,defaultWidth:"full"})},EV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},TV=(i,t,n,s)=>EV[i];function Yl(i){return(t,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n?.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n?.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(t):t;return o[u]}}const SV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},RV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IV=(i,t)=>{const n=Number(i),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},DV={ordinalNumber:IV,era:Yl({values:SV,defaultWidth:"wide"}),quarter:Yl({values:bV,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Yl({values:wV,defaultWidth:"wide"}),day:Yl({values:AV,defaultWidth:"wide"}),dayPeriod:Yl({values:RV,defaultWidth:"wide",formattingValues:CV,defaultFormattingWidth:"wide"})};function Ql(i){return(t,n={})=>{const s=n.width,o=s&&i.matchPatterns[s]||i.matchPatterns[i.defaultMatchWidth],u=t.match(o);if(!u)return null;const h=u[0],m=s&&i.parsePatterns[s]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?NV(m,T=>T.test(h)):OV(m,T=>T.test(h));let y;y=i.valueCallback?i.valueCallback(p):p,y=n.valueCallback?n.valueCallback(y):y;const E=t.slice(h.length);return{value:y,rest:E}}}function OV(i,t){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&t(i[n]))return n}function NV(i,t){for(let n=0;n<i.length;n++)if(t(i[n]))return n}function MV(i){return(t,n={})=>{const s=t.match(i.matchPattern);if(!s)return null;const o=s[0],u=t.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(o.length);return{value:h,rest:m}}}const xV=/^(\d+)(th|st|nd|rd)?/i,VV=/\d+/i,kV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PV={any:[/^b/i,/^(a|c)/i]},UV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LV={any:[/1/i,/2/i,/3/i,/4/i]},zV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},BV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},jV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},GV={ordinalNumber:MV({matchPattern:xV,parsePattern:VV,valueCallback:i=>parseInt(i,10)}),era:Ql({matchPatterns:kV,defaultMatchWidth:"wide",parsePatterns:PV,defaultParseWidth:"any"}),quarter:Ql({matchPatterns:UV,defaultMatchWidth:"wide",parsePatterns:LV,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Ql({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:BV,defaultParseWidth:"any"}),day:Ql({matchPatterns:jV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any"}),dayPeriod:Ql({matchPatterns:HV,defaultMatchWidth:"any",parsePatterns:FV,defaultParseWidth:"any"})},YV={code:"en-US",formatDistance:pV,formatLong:vV,formatRelative:TV,localize:DV,match:GV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QV(i,t){const n=Fn(i,t?.in);return lV(n,dV(n))+1}function KV(i,t){const n=Fn(i,t?.in),s=+Yh(n)-+uV(n);return Math.round(s/tw)+1}function nw(i,t){const n=Fn(i,t?.in),s=n.getFullYear(),o=Ef(),u=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,h=yr(t?.in||i,0);h.setFullYear(s+1,0,u),h.setHours(0,0,0,0);const m=ha(h,t),p=yr(t?.in||i,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const y=ha(p,t);return+n>=+m?s+1:+n>=+y?s:s-1}function XV(i,t){const n=Ef(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=nw(i,t),u=yr(t?.in||i,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),ha(u,t)}function $V(i,t){const n=Fn(i,t?.in),s=+ha(n,t)-+XV(n,t);return Math.round(s/tw)+1}function Xt(i,t){const n=i<0?"-":"",s=Math.abs(i).toString().padStart(t,"0");return n+s}const Jr={y(i,t){const n=i.getFullYear(),s=n>0?n:1-n;return Xt(t==="yy"?s%100:s,t.length)},M(i,t){const n=i.getMonth();return t==="M"?String(n+1):Xt(n+1,2)},d(i,t){return Xt(i.getDate(),t.length)},a(i,t){const n=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(i,t){return Xt(i.getHours()%12||12,t.length)},H(i,t){return Xt(i.getHours(),t.length)},m(i,t){return Xt(i.getMinutes(),t.length)},s(i,t){return Xt(i.getSeconds(),t.length)},S(i,t){const n=t.length,s=i.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Xt(o,t.length)}},ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qT={G:function(i,t,n){const s=i.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(i,t,n){if(t==="yo"){const s=i.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Jr.y(i,t)},Y:function(i,t,n,s){const o=nw(i,s),u=o>0?o:1-o;if(t==="YY"){const h=u%100;return Xt(h,2)}return t==="Yo"?n.ordinalNumber(u,{unit:"year"}):Xt(u,t.length)},R:function(i,t){const n=ew(i);return Xt(n,t.length)},u:function(i,t){const n=i.getFullYear();return Xt(n,t.length)},Q:function(i,t,n){const s=Math.ceil((i.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Xt(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(i,t,n){const s=Math.ceil((i.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Xt(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(i,t,n){const s=i.getMonth();switch(t){case"M":case"MM":return Jr.M(i,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(i,t,n){const s=i.getMonth();switch(t){case"L":return String(s+1);case"LL":return Xt(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(i,t,n,s){const o=$V(i,s);return t==="wo"?n.ordinalNumber(o,{unit:"week"}):Xt(o,t.length)},I:function(i,t,n){const s=KV(i);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Xt(s,t.length)},d:function(i,t,n){return t==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):Jr.d(i,t)},D:function(i,t,n){const s=QV(i);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Xt(s,t.length)},E:function(i,t,n){const s=i.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(i,t,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(u);case"ee":return Xt(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,t,n,s){const o=i.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(u);case"cc":return Xt(u,t.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,t,n){const s=i.getDay(),o=s===0?7:s;switch(t){case"i":return String(o);case"ii":return Xt(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(i,t,n){const o=i.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,t,n){const s=i.getHours();let o;switch(s===12?o=ao.noon:s===0?o=ao.midnight:o=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,t,n){const s=i.getHours();let o;switch(s>=17?o=ao.evening:s>=12?o=ao.afternoon:s>=4?o=ao.morning:o=ao.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,t,n){if(t==="ho"){let s=i.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Jr.h(i,t)},H:function(i,t,n){return t==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):Jr.H(i,t)},K:function(i,t,n){const s=i.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Xt(s,t.length)},k:function(i,t,n){let s=i.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Xt(s,t.length)},m:function(i,t,n){return t==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):Jr.m(i,t)},s:function(i,t,n){return t==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):Jr.s(i,t)},S:function(i,t){return Jr.S(i,t)},X:function(i,t,n){const s=i.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return FT(s);case"XXXX":case"XX":return Zs(s);default:return Zs(s,":")}},x:function(i,t,n){const s=i.getTimezoneOffset();switch(t){case"x":return FT(s);case"xxxx":case"xx":return Zs(s);default:return Zs(s,":")}},O:function(i,t,n){const s=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+HT(s,":");default:return"GMT"+Zs(s,":")}},z:function(i,t,n){const s=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+HT(s,":");default:return"GMT"+Zs(s,":")}},t:function(i,t,n){const s=Math.trunc(+i/1e3);return Xt(s,t.length)},T:function(i,t,n){return Xt(+i,t.length)}};function HT(i,t=""){const n=i>0?"-":"+",s=Math.abs(i),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+t+Xt(u,2)}function FT(i,t){return i%60===0?(i>0?"-":"+")+Xt(Math.abs(i)/60,2):Zs(i,t)}function Zs(i,t=""){const n=i>0?"-":"+",s=Math.abs(i),o=Xt(Math.trunc(s/60),2),u=Xt(s%60,2);return n+o+t+u}const GT=(i,t)=>{switch(i){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},iw=(i,t)=>{switch(i){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},WV=(i,t)=>{const n=i.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return GT(i,t);let u;switch(s){case"P":u=t.dateTime({width:"short"});break;case"PP":u=t.dateTime({width:"medium"});break;case"PPP":u=t.dateTime({width:"long"});break;default:u=t.dateTime({width:"full"});break}return u.replace("{{date}}",GT(s,t)).replace("{{time}}",iw(o,t))},JV={p:iw,P:WV},ZV=/^D+$/,t4=/^Y+$/,e4=["D","DD","YY","YYYY"];function n4(i){return ZV.test(i)}function i4(i){return t4.test(i)}function r4(i,t,n){const s=s4(i,t,n);if(console.warn(s),e4.includes(i))throw new RangeError(s)}function s4(i,t,n){const s=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const a4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,o4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,l4=/^'([^]*?)'?$/,u4=/''/g,c4=/[a-zA-Z]/;function rw(i,t,n){const s=Ef(),o=s.locale??YV,u=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,h=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=Fn(i,n?.in);if(!fV(m))throw new RangeError("Invalid time value");let p=t.match(o4).map(E=>{const T=E[0];if(T==="p"||T==="P"){const w=JV[T];return w(E,o.formatLong)}return E}).join("").match(a4).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const T=E[0];if(T==="'")return{isToken:!1,value:h4(E)};if(qT[T])return{isToken:!0,value:E};if(T.match(c4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:E}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const y={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(E=>{if(!E.isToken)return E.value;const T=E.value;(i4(T)||n4(T))&&r4(T,t,String(i));const w=qT[T[0]];return w(m,T,o.localize,y)}).join("")}function h4(i){const t=i.match(l4);return t?t[1].replace(u4,"'"):i}function f4(i,t,n){return cV(i,-1,n)}const YT=()=>{const t=ha(new Date,{weekStartsOn:1});return rw(t,"yyyy-'W'ww")},d4=()=>{const t=f4(new Date),n=ha(t,{weekStartsOn:1});return rw(n,"yyyy-'W'ww")};function m4(){const[i,t]=H.useState(null),[n,s]=H.useState(""),[o,u]=H.useState(!1),{currentUser:h}=wg(),m=async p=>{if(p.preventDefault(),!i||!h)return;u(!0);const y=YT(),E=QN(tV,`photos/${y}/${h.uid}`);try{await GN(E,i);const T=await YN(E),w=`${y}_${h.uid}`;await PO(XS(Co,"weekly_uploads",w),{imageUrl:T,uploaderId:h.uid,uploaderName:h.displayName,weekId:y,tags:n.toLowerCase().split(",").map(k=>k.trim()),votes:0,voters:[],createdAt:new Date},{merge:!0}),alert("Photo uploaded successfully! Your previous photo for this week (if any) was replaced."),t(null),s("")}catch(T){console.error("Error uploading:",T),alert("Error uploading photo.")}u(!1)};return h?Z.jsxs("div",{style:{padding:"20px"},children:[Z.jsxs("h2",{children:["Upload for Week: ",YT()]}),Z.jsxs("form",{onSubmit:m,style:{display:"flex",flexDirection:"column",gap:"10px",maxWidth:"400px"},children:[Z.jsx("input",{type:"file",onChange:p=>t(p.target.files[0]),accept:"image/*",required:!0}),Z.jsx("input",{type:"text",placeholder:"Tags (e.g. nature, sky, blue)",value:n,onChange:p=>s(p.target.value),required:!0}),Z.jsx("button",{disabled:o,type:"submit",children:o?"Uploading...":"Submit Photo"})]}),Z.jsx("p",{style:{marginTop:"20px",fontSize:"0.9em",color:"#666"},children:"Note: You can only have one photo per week. Uploading again will replace your current submission."})]}):Z.jsx("h3",{children:"Please login to upload."})}function p4(){const[i,t]=H.useState([]),{currentUser:n}=wg(),s=d4();H.useEffect(()=>{(async()=>{const h=sg(hf(Co,"weekly_uploads"),ag("weekId","==",s)),m=await gf(h);t(m.docs.map(p=>({id:p.id,...p.data()})))})()},[s]);const o=async u=>{if(!n)return alert("Please login to vote");if(u.voters&&u.voters.includes(n.uid))return alert("You already voted for this!");const h=XS(Co,"weekly_uploads",u.id);await UO(h,{votes:OO(1),voters:DO(n.uid)}),t(m=>m.map(p=>p.id===u.id?{...p,votes:p.votes+1,voters:[...p.voters,n.uid]}:p))};return Z.jsxs("div",{style:{padding:"20px"},children:[Z.jsxs("h2",{children:["Voting for Week: ",s]}),Z.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"20px"},children:i.map(u=>Z.jsxs("div",{style:{border:"1px solid #ccc",borderRadius:"8px",overflow:"hidden"},children:[Z.jsx("img",{src:u.imageUrl,alt:"submission",style:{width:"100%",height:"200px",objectFit:"cover"}}),Z.jsxs("div",{style:{padding:"10px"},children:[Z.jsxs("p",{children:["By: ",u.uploaderName]}),Z.jsxs("p",{children:["Votes: ",u.votes]}),Z.jsx("button",{onClick:()=>o(u),disabled:u.voters?.includes(n?.uid),children:u.voters?.includes(n?.uid)?"Voted":"Vote"})]})]},u.id))})]})}function g4(){const[i,t]=H.useState(""),[n,s]=H.useState([]),o=async u=>{u.preventDefault();const h=sg(hf(Co,"weekly_uploads"),ag("tags","array-contains",i.toLowerCase())),m=await gf(h);s(m.docs.map(p=>p.data()))};return Z.jsxs("div",{style:{padding:"20px"},children:[Z.jsx("h2",{children:"Search Photos"}),Z.jsxs("form",{onSubmit:o,children:[Z.jsx("input",{value:i,onChange:u=>t(u.target.value),placeholder:"Search by tag (e.g. nature)"}),Z.jsx("button",{type:"submit",children:"Search"})]}),Z.jsx("div",{style:{display:"grid",gap:"20px",marginTop:"20px"},children:n.map((u,h)=>Z.jsxs("div",{style:{display:"flex",gap:"10px",border:"1px solid #eee",padding:"10px"},children:[Z.jsx("img",{src:u.imageUrl,style:{width:"100px",height:"100px",objectFit:"cover"}}),Z.jsxs("div",{children:[Z.jsxs("p",{children:["By: ",u.uploaderName]}),Z.jsxs("p",{children:["Week: ",u.weekId]}),Z.jsxs("p",{children:["Votes: ",u.votes]})]})]},h))})]})}function y4(){const{userId:i}=M1(),[t,n]=H.useState([]),[s,o]=H.useState({totalVotes:0,uploads:0});return H.useEffect(()=>{i&&(async()=>{const h=sg(hf(Co,"weekly_uploads"),ag("uploaderId","==",i)),p=(await gf(h)).docs.map(E=>E.data());n(p);const y=p.reduce((E,T)=>E+(T.votes||0),0);o({totalVotes:y,uploads:p.length})})()},[i]),Z.jsxs("div",{style:{padding:"20px"},children:[Z.jsx("h2",{children:"User Profile"}),Z.jsxs("div",{style:{marginBottom:"20px",padding:"10px",background:"#f0f0f0"},children:[Z.jsxs("p",{children:[Z.jsx("strong",{children:"Total Uploads:"})," ",s.uploads]}),Z.jsxs("p",{children:[Z.jsx("strong",{children:"Total Votes Received:"})," ",s.totalVotes]})]}),Z.jsx("h3",{children:"Gallery"}),Z.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:t.map((u,h)=>Z.jsxs("div",{children:[Z.jsx("img",{src:u.imageUrl,style:{width:"100%",aspectRatio:"1/1",objectFit:"cover"}}),Z.jsxs("p",{style:{fontSize:"0.8em"},children:["Week: ",u.weekId]})]},h))})]})}const sw=(...i)=>i.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();const _4=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const v4=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase());const QT=i=>{const t=v4(i);return t.charAt(0).toUpperCase()+t.slice(1)};var E4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T4=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const S4=H.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>H.createElement("svg",{ref:p,...E4,width:t,height:t,stroke:i,strokeWidth:s?Number(n)*24/Number(t):n,className:sw("lucide",o),...!u&&!T4(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,E])=>H.createElement(y,E)),...Array.isArray(u)?u:[u]]));const Iu=(i,t)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(S4,{ref:u,iconNode:t,className:sw(`lucide-${_4(QT(i))}`,`lucide-${i}`,s),...o}));return n.displayName=QT(i),n};const b4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w4=Iu("circle-question-mark",b4);const A4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],R4=Iu("medal",A4);const C4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aw=Iu("trophy",C4);const I4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],D4=Iu("upload",I4);const O4=[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]],N4=Iu("vote",O4);function M4(){const[i,t]=H.useState([]),[n,s]=H.useState(!0);return H.useEffect(()=>{(async()=>{const m=(await gf(hf(Co,"weekly_uploads"))).docs.map(y=>y.data()).reduce((y,E)=>{const T=E.uploaderId;return y[T]||(y[T]={name:E.uploaderName,totalVotes:0,uploadCount:0,id:T}),y[T].totalVotes+=E.votes||0,y[T].uploadCount+=1,y},{}),p=Object.values(m).sort((y,E)=>E.totalVotes-y.totalVotes).slice(0,10);t(p),s(!1)})()},[]),n?Z.jsx("div",{style:{padding:"40px"},children:"Calculating rankings..."}):Z.jsxs("div",{style:{padding:"40px",maxWidth:"600px",margin:"0 auto"},children:[Z.jsxs("h2",{style:{textAlign:"center",marginBottom:"30px"},children:[Z.jsx(aw,{color:"gold",style:{marginRight:"10px"}}),"All-Time Leaderboard"]}),Z.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:i.map((o,u)=>Z.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"15px",background:u===0?"#fffdf0":"#f9f9f9",borderRadius:"12px",border:u===0?"2px solid gold":"1px solid #eee",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},children:[Z.jsx("div",{style:{width:"40px",fontWeight:"bold",fontSize:"1.2rem"},children:u===0?Z.jsx(R4,{color:"gold"}):u+1}),Z.jsxs("div",{style:{flex:1},children:[Z.jsx("strong",{style:{fontSize:"1.1rem"},children:o.name}),Z.jsxs("div",{style:{fontSize:"0.8rem",color:"#666"},children:[o.uploadCount," Photos Submitted"]})]}),Z.jsxs("div",{style:{textAlign:"right"},children:[Z.jsx("div",{style:{fontWeight:"bold",color:"#333"},children:o.totalVotes}),Z.jsx("div",{style:{fontSize:"0.7rem",color:"#999",textTransform:"uppercase"},children:"Total Votes"})]})]},o.id))})]})}function x4(){return Z.jsxs("div",{style:{padding:"40px",maxWidth:"800px",margin:"0 auto",lineHeight:"1.6"},children:[Z.jsxs("h1",{children:[Z.jsx(w4,{style:{verticalAlign:"middle",marginRight:"10px"}})," How it Works"]}),Z.jsxs("section",{style:{marginBottom:"30px"},children:[Z.jsxs("h3",{children:[Z.jsx(D4,{size:20})," The Upload Cycle (Monday - Sunday)"]}),Z.jsxs("p",{children:["Every week from Monday morning to Sunday night, you can upload ",Z.jsx("strong",{children:"one photo"}),". If you change your mind, just upload a new oneit will automatically replace your previous entry for that week."]})]}),Z.jsxs("section",{style:{marginBottom:"30px"},children:[Z.jsxs("h3",{children:[Z.jsx(N4,{size:20})," The Voting Cycle"]}),Z.jsxs("p",{children:["While you are uploading for the ",Z.jsx("em",{children:"current"})," week, you are also voting for ",Z.jsx("em",{children:"last week's"})," photos! Winners are determined by the community. You get one vote per photo."]})]}),Z.jsxs("section",{style:{marginBottom:"30px"},children:[Z.jsxs("h3",{children:[Z.jsx(aw,{size:20})," Profiles & Wins"]}),Z.jsxs("p",{children:["Your profile tracks how many photos you've submitted and how many total votes you've received across all weeks. Search by tags like ",Z.jsx("code",{children:"#nature"})," or ",Z.jsx("code",{children:"#city"})," to find specific styles!"]})]}),Z.jsx("div",{style:{padding:"20px",background:"#f9f9f9",borderRadius:"8px",borderLeft:"5px solid #333"},children:Z.jsxs("p",{children:[Z.jsx("strong",{children:"Need help?"})," If your photo isn't appearing, ensure you are logged in with your Google account and that the file size is under 5MB."]})})]})}function V4(){return Z.jsx(yR,{children:Z.jsxs(nV,{children:[Z.jsx(iV,{}),Z.jsxs(Q1,{children:[Z.jsx(Zr,{path:"/",element:Z.jsx(Home,{})}),Z.jsx(Zr,{path:"/upload",element:Z.jsx(m4,{})}),Z.jsx(Zr,{path:"/vote",element:Z.jsx(p4,{})}),Z.jsx(Zr,{path:"/leaderboard",element:Z.jsx(M4,{})}),Z.jsx(Zr,{path:"/search",element:Z.jsx(g4,{})}),Z.jsx(Zr,{path:"/profile/:userId",element:Z.jsx(y4,{})}),Z.jsx(Zr,{path:"/info",element:Z.jsx(x4,{})})]})]})})}KA.createRoot(document.getElementById("root")).render(Z.jsx(H.StrictMode,{children:Z.jsx(V4,{})}));
